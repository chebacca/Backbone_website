# üî• BACKBONE v14.2 Unified Project Rules
# Governs all projects with shared Firebase Functions integration

## üéØ **PROJECT CONTEXT**
This is the BACKBONE v14.2 project ecosystem - Firebase Web-Only production applications with shared Firebase Functions:

### **Core Projects:**
- **Dashboard Web App**: https://backbone-client.web.app (React 18 + TypeScript + Firebase)
- **Licensing Website**: https://backbone-logic.web.app (React 18 + Node.js + Stripe + Firebase)
- **EDL Converter**: https://backbone-edl-standalone.web.app (Vite + TypeScript + Firebase)
- **Call Sheet App**: https://callsheet-standalone.web.app (React 18 + TypeScript + Firebase)

### **Shared Architecture:**
- **Backend**: Shared Firebase Functions (69+ functions across all projects)
- **Frontend**: Static files deployed to Firebase Hosting
- **Package Manager**: pnpm (NOT npm for this project)
- **Build Process**: esbuild ‚Üí Firebase-ready static files
- **Functions**: Hybrid Firebase + HTTP support

### ‚úÖ **SHARED FIREBASE FUNCTIONS INTEGRATION STATUS**
- **Integration Success Rate**: 100% (4/4 projects)
- **Shared Functions**: 69 TypeScript files in shared package
- **Function Categories**: 16 categories (auth, projects, datasets, sessions, licensing, payments, callSheets, team, etc.)
- **Hybrid Support**: Firebase Functions + HTTP API endpoints
- **Consistency**: Unified function signatures and response formats

### **Deployment Architecture:**
- **Frontend**: Static files deployed to Firebase Hosting
- **Backend**: Shared Firebase Functions + Firestore (web-only mode)
- **Package Manager**: pnpm (NOT npm for this project)
- **Build Process**: esbuild ‚Üí Firebase-ready static files

### ‚úÖ **PRODUCTION DEPLOYMENT STATUS**
- **Successfully Deployed**: December 2024
- **Web App URL**: https://backbone-client.web.app
- **API Base URL**: https://api-oup5qxogca-uc.a.run.app
- **Firebase Project**: backbone-logic
- **Hosting Targets**: 
  - backbone-client (main dashboard)
  - backbone-logic (licensing website)
  - backbone-edl-standalone (EDL converter)
  - callsheet-standalone (call sheet app)

### **Key Commands**
```bash
# Build web application (from web app directory)
cd "/Users/chebrooks/Documents/IDE_Project/BACKBONE 14_2 & Website 2 full project files/Dashboard-v14_2/apps/web" && pnpm run build

# Deploy to Firebase (from Dashboard-v14_2 directory)
cd "/Users/chebrooks/Documents/IDE_Project/BACKBONE 14_2 & Website 2 full project files/Dashboard-v14_2" && firebase deploy --only hosting:backbone-client

# Deploy shared functions
cd "/Users/chebrooks/Documents/IDE_Project/BACKBONE 14_2 & Website 2 full project files/Dashboard-v14_2" && firebase deploy --only functions

# Deploy all projects with shared functions
./deploy-shared-functions.sh

# Verify shared functions integration
./verify-shared-functions.sh
```

### üö® **CRITICAL: Correct Directory Structure for Commands**
- **Build Command**: Must run from project-specific web directory using `pnpm run build`
- **Deploy Command**: Must run from project root directory using `firebase deploy --only hosting:TARGET`
- **Firebase Config**: Located in each project's `firebase.json`
- **Public Directory**: Created at project-specific build output directory after build
- **Package Manager**: Use `pnpm` (NOT npm) for this project

### üìÅ **Working Directory Management**
```bash
# Always start from project root
cd "/Users/chebrooks/Documents/IDE_Project/BACKBONE 14_2 & Website 2 full project files"

# For building (navigate to specific project)
cd Dashboard-v14_2/apps/web && pnpm run build
cd dashboard-v14-licensing-website 2/server && pnpm run build
cd standalone-edl-converter && pnpm run build
cd standalone-call-sheet-app && pnpm run build

# For deploying (navigate back to project root)
cd ../../ && firebase deploy --only hosting:backbone-client
cd ../ && firebase deploy --only hosting:backbone-logic
cd ../ && firebase deploy --only hosting:backbone-edl-standalone
cd ../ && firebase deploy --only hosting:callsheet-standalone
```

### ‚ö†Ô∏è **Common Path Issues to Avoid**
- ‚ùå Running `firebase deploy` from wrong directory (firebase.json not found)
- ‚ùå Running `pnpm run build` from wrong directory (package.json not found)
- ‚ùå Using `npm` instead of `pnpm` for package management
- ‚ùå Forgetting to specify hosting target in deploy command
- ‚ùå Using relative paths without proper navigation
- ‚ùå Deploying to wrong Firebase project

### üéØ **Firebase Hosting Configuration**
```json
// firebase.json structure for each project
{
  "hosting": [
    {
      "target": "PROJECT-TARGET",
      "public": "BUILD-OUTPUT-DIRECTORY",
      "ignore": ["firebase.json", "**/.*", "**/node_modules/**"]
    }
  ],
  "functions": {
    "source": "functions",
    "runtime": "nodejs20",
    "predeploy": ["npm --prefix \"$RESOURCE_DIR\" run build"]
  }
}
```

### üöÄ **PROPER BUILD & DEPLOY WORKFLOW**
**CRITICAL**: Always follow this exact sequence for successful builds and deployments:

#### Step 1: Build the Application
```bash
# Navigate to specific project and build
cd "/Users/chebrooks/Documents/IDE_Project/BACKBONE 14_2 & Website 2 full project files/PROJECT-NAME"
pnpm run build
```

#### Step 2: Deploy to Firebase Hosting
```bash
# Navigate back to project root and deploy
cd "/Users/chebrooks/Documents/IDE_Project/BACKBONE 14_2 & Website 2 full project files/PROJECT-NAME"
firebase deploy --only hosting:TARGET-NAME
```

#### Step 3: Verify Deployment
- Check deployment URL for the specific project
- Verify all changes are live
- Test functionality in production

### What NOT to do
- ‚ùå Do not run `npm run dev` or development servers
- ‚ùå Do not use `npm` instead of `pnpm` for package management
- ‚ùå Do not run `firebase deploy` without specifying hosting target
- ‚ùå Do not attempt Docker deployments
- ‚ùå Do not try to start local backend services
- ‚ùå Do not use localhost URLs in production

### **Project Structure**
- `Dashboard-v14_2/` - Main web application (Firebase-ready)
- `dashboard-v14-licensing-website 2/` - Licensing website
- `standalone-edl-converter/` - EDL converter standalone
- `standalone-call-sheet-app/` - Call sheet standalone
- `shared-firebase-functions/` - Shared Firebase Functions (69+ functions)
- `shared-mpc-library/` - Documentation & best practices
- `shared-configuration/` - Unified configuration files
- `deployment/` - Firebase deployment scripts

### **Authentication & Services**
- Firebase Authentication (web-only)
- Firestore for data storage
- Shared Firebase Functions for backend logic
- All services configured for web-only production mode

### **Build Issues**
- If encountering "require is not defined" errors, the require polyfill is already in place
- Use browser-compatible imports only
- No bundling needed - Firebase hosting serves ES modules directly

### üîß **COMPLETE SHARED FIREBASE FUNCTIONS IMPLEMENTATION**
All backend API endpoints are implemented and deployed through shared functions:
- **Authentication**: Login, register, user management
- **Team Members**: Full CRUD with project assignments
- **Organizations**: Multi-tenant organization management
- **Projects & Sessions**: Complete project lifecycle
- **AI Integration**: Gemini API and AI agents
- **Licensing**: License validation and subscriptions
- **Payments**: Stripe integration for subscriptions
- **Media**: File upload and management
- **Reports**: Analytics and reporting system
- **Utilities**: Health checks, migrations, cleanup

### üõ°Ô∏è **SECURITY & ACCESS CONTROL**
- Firebase Auth token verification on all endpoints
- Organization-based data isolation
- Role-based access control (admin, member, viewer)
- Firestore security rules for all collections
- Input validation and sanitization

### üìã **API ENDPOINT PATTERNS**
```typescript
// Authentication required for all /api/* endpoints
Authorization: Bearer <firebase-id-token>

// Consistent error response format
{
  success: false,
  error: "Human readable message",
  errorDetails: "Technical details"
}

// Success response format
{
  success: true,
  data: { ... }
}
```

### üìù **File Naming Conventions**
- **Firebase Scripts**: Always use `.cjs` extension for Firebase-related scripts
- **Node.js Scripts**: Use `.cjs` for CommonJS modules that need to run in Node.js environment
- **Firebase Functions**: Use `.js` or `.ts` as appropriate for function code
- **Configuration Files**: Use `.json` for Firebase config files

### üî• **BACKBONE UNIFIED MCP SERVER PRIORITY**
**CRITICAL**: This project now has a comprehensive MCP server with 62 tools across 6 categories. When responding to prompts, ALWAYS prioritize the BACKBONE Unified MCP Server tools:

#### üöÄ **BACKBONE Unified MCP Server (Use First):**
**Server Name**: `backbone-unified` - Comprehensive MCP server for all projects

##### **Firebase Integration Tools (12 tools):**
- `firebase_get_project_info` - Get Firebase project information
- `firebase_list_collections` - List Firestore collections
- `firebase_query_collection` - Query collections with filters
- `firebase_get_document` - Get specific documents
- `firebase_create_document` - Create new documents
- `firebase_update_document` - Update existing documents
- `firebase_delete_document` - Delete documents
- `firebase_list_users` - List Firebase Auth users
- `firebase_get_user` - Get user information
- `firebase_deploy_functions` - Deploy Firebase Functions
- `firebase_deploy_hosting` - Deploy to Firebase Hosting
- `firebase_get_security_rules` - Get security rules

##### **Development Tools (10 tools):**
- `dev_build_project` - Build projects for dev/production
- `dev_lint_project` - Run linting with auto-fix
- `dev_type_check` - TypeScript type checking
- `dev_run_tests` - Run tests with coverage
- `dev_analyze_dependencies` - Analyze and optimize dependencies
- `dev_check_build_health` - Check build health and issues
- `dev_optimize_bundle` - Analyze and optimize bundles
- `dev_generate_types` - Generate TypeScript types from Prisma
- `dev_validate_imports` - Validate and fix import statements
- `dev_analyze_performance` - Analyze code performance

##### **UI/UX Tools (10 tools):**
- `ui_analyze_components` - Analyze React components for patterns
- `ui_analyze_theme_usage` - Analyze theme usage and consistency
- `ui_check_accessibility` - Comprehensive accessibility checking
- `ui_analyze_design_system` - Design system consistency validation
- `ui_optimize_components` - Component optimization suggestions
- `ui_validate_responsive_design` - Responsive design validation
- `ui_analyze_color_usage` - Color usage analysis
- `ui_check_typography` - Typography consistency checking
- `ui_analyze_spacing` - Spacing pattern analysis
- `ui_generate_component_docs` - Generate component documentation

##### **AI-Powered Tools (10 tools):**
- `ai_generate_component` - Generate React components with TypeScript
- `ai_analyze_code_patterns` - Analyze code patterns and suggest improvements
- `ai_optimize_code` - Suggest code optimizations
- `ai_generate_tests` - Generate comprehensive tests
- `ai_suggest_architecture` - Suggest architectural improvements
- `ai_generate_documentation` - Auto-generate documentation
- `ai_detect_issues` - Detect potential issues and bugs
- `ai_suggest_improvements` - Suggest general improvements
- `ai_generate_api_client` - Generate API client code
- `ai_analyze_dependencies` - AI-powered dependency analysis

##### **Deployment Tools (10 tools):**
- `deploy_firebase_hosting` - Deploy to Firebase Hosting with targets
- `deploy_firebase_functions` - Deploy Firebase Functions
- `deploy_full_stack` - Deploy entire stack (hosting + functions + firestore)
- `deploy_check_health` - Check deployment health and status
- `deploy_rollback` - Rollback to previous deployments
- `deploy_environment_setup` - Setup deployment environment
- `deploy_validate_config` - Validate deployment configuration
- `deploy_generate_ci_cd` - Generate CI/CD pipeline configurations
- `deploy_monitor_logs` - Monitor deployment logs
- `deploy_optimize_performance` - Optimize deployment performance

##### **Project Management Tools (10 tools):**
- `project_analyze_structure` - Analyze project structure and architecture
- `project_sync_configurations` - Synchronize configurations between projects
- `project_compare_versions` - Compare dependencies and versions
- `project_generate_report` - Generate comprehensive project reports
- `project_validate_consistency` - Validate consistency between projects
- `project_optimize_workflow` - Suggest workflow optimizations
- `project_manage_shared_code` - Manage shared code and utilities
- `project_coordinate_deployment` - Coordinate deployment between projects
- `project_monitor_health` - Monitor health of all projects
- `project_generate_documentation` - Generate cross-project documentation

#### **Legacy Firebase MCP Tools (Use When Unified Server Insufficient):**
- `mcp_firebase-dashboard_*` - Original Firebase MCP tools for dashboard
- `mcp_firebase-licensing_*` - Original Firebase MCP tools for licensing
- `mcp_firebase-analytics_*` - Analytics and debugging operations

#### **When to Use BACKBONE Unified MCP vs Other Tools:**
- ‚úÖ **BACKBONE Unified MCP FIRST** for: All Firebase operations, development tasks, UI/UX analysis, AI assistance, deployment, project management
- ‚úÖ **Codebase search** for: Finding existing code patterns, understanding implementations
- ‚úÖ **Terminal commands** for: Building, deploying, npm operations (when MCP tools insufficient)
- ‚ùå **Avoid** external API calls when BACKBONE Unified MCP can handle the task
- ‚ùå **Avoid** manual Firebase CLI commands when MCP tools available

#### **BACKBONE Unified MCP Server Configuration:**
- **backbone-unified**: Comprehensive MCP server for all projects (PRIMARY)
- **firebase-dashboard**: Legacy Firebase MCP tools for dashboard (FALLBACK)
- **firebase-licensing**: Legacy Firebase MCP tools for licensing (FALLBACK)
- **firebase-analytics**: Analytics and debugging operations (FALLBACK)

#### **BACKBONE Unified MCP Usage Patterns:**
```typescript
// 1. Always start with project analysis
project_analyze_structure() ‚Üí Analyze all projects' structure and health

// 2. For Firebase operations, use unified Firebase tools
firebase_get_project_info() ‚Üí Get Firebase project information
firebase_query_collection() ‚Üí Query Firestore collections with filters
firebase_deploy_hosting() ‚Üí Deploy to Firebase Hosting with correct targets

// 3. For development tasks, use development tools
dev_build_project() ‚Üí Build projects for development or production
dev_lint_project() ‚Üí Run linting with auto-fix
dev_run_tests() ‚Üí Run tests with coverage

// 4. For UI/UX tasks, use UI/UX tools
ui_analyze_components() ‚Üí Analyze React components for patterns
ui_check_accessibility() ‚Üí Check accessibility compliance
ui_analyze_theme_usage() ‚Üí Analyze theme usage and consistency

// 5. For AI assistance, use AI tools
ai_generate_component() ‚Üí Generate React components with TypeScript
ai_analyze_code_patterns() ‚Üí Analyze code patterns and suggest improvements
ai_generate_tests() ‚Üí Generate comprehensive tests

// 6. For deployment, use deployment tools
deploy_firebase_hosting() ‚Üí Deploy to Firebase Hosting
deploy_check_health() ‚Üí Check deployment health and status
deploy_rollback() ‚Üí Rollback to previous deployments

// 7. For project management, use project tools
project_sync_configurations() ‚Üí Synchronize configurations between projects
project_coordinate_deployment() ‚Üí Coordinate deployment between projects
project_monitor_health() ‚Üí Monitor health of all projects
```

#### **Prompt Response Priority:**
1. **BACKBONE Unified MCP tools** (all Firebase, development, UI/UX, AI, deployment, project management)
2. **Legacy Firebase MCP tools** (fallback when unified server insufficient)
3. **Codebase search** (find existing patterns, understand implementations)
4. **Terminal commands** (build, deploy, npm operations)
5. **File operations** (read, edit, create files)
6. **External APIs** (only when MCP tools insufficient)

#### **BACKBONE Unified MCP Tool Naming Convention:**
- **Firebase Integration**: `firebase_*` - Firebase operations and management
- **Development Tools**: `dev_*` - Build, test, lint, analyze, optimize
- **UI/UX Tools**: `ui_*` - Component analysis, theme management, accessibility
- **AI Tools**: `ai_*` - Code generation, analysis, optimization, testing
- **Deployment Tools**: `deploy_*` - Firebase deployment, CI/CD, monitoring
- **Project Management**: `project_*` - Multi-project coordination and analysis

#### **Legacy Firebase MCP Tool Naming Convention:**
- All Firebase MCP tools are prefixed with `mcp_firebase-dashboard_` for main app
- All licensing MCP tools are prefixed with `mcp_firebase-licensing_` for licensing website
- All analytics MCP tools are prefixed with `mcp_firebase-analytics_` for debugging

### üî• **UNIVERSAL FIREBASE INTERCEPTOR ARCHITECTURE (NEW)**
**CRITICAL**: UniversalFirebaseInterceptor positioned at highest level for maximum HTTP request coverage:

#### **UniversalFirebaseInterceptor Positioning:**
- **Location**: main.tsx line 19 (immediately after Chrome extension mitigation)
- **Coverage**: ALL HTTP requests throughout the entire application
- **Auto-Installation**: Automatically installs when imported (no manual setup required)
- **Global Access**: Available on window.firebaseInterceptor for all components
- **Endpoint Mapping**: 20+ endpoints configured for direct Firestore access
- **Organization Scoping**: Automatic organization-based data filtering

#### **Interceptor Integration Points:**
- **InventoryContext**: Early API calls intercepted during app initialization
- **UnifiedSessionContext**: Session loading requests intercepted
- **UnifiedTimecardContext**: Timecard data requests intercepted
- **UnifiedCallSheetContext**: Call sheet data requests intercepted
- **RootStoreProvider**: Store initialization requests intercepted
- **All API Clients**: UnifiedApiClient, StandardApiService, GlobalApiClient

#### **UniversalFirebaseInterceptor Benefits:**
- ‚úÖ **Maximum Coverage**: Catches ALL HTTP requests from app startup
- ‚úÖ **Early Interception**: Positioned before any service imports
- ‚úÖ **Clean Architecture**: Single initialization point in main.tsx
- ‚úÖ **Firebase Native**: Direct Firestore access bypassing API layers
- ‚úÖ **Organization Scoped**: Automatic tenant isolation
- ‚úÖ **Error Handling**: Graceful fallbacks when Firebase unavailable

### üî• **FIREBASE PERSISTENCE ARCHITECTURE**
**CRITICAL**: Enhanced Firebase system ensures seamless operation after WebOnlyStartupFlow:

#### **Core Firebase Persistence Components:**
- **Firebase Persistence Manager**: Maintains auth state across app transitions
- **Firebase Auto-Initializer**: Ensures services are ready when main app loads  
- **Global Firebase Provider**: Wraps main app with Firebase context
- **Global Collections Manager**: Unified access to all Firebase collections
- **Health Monitoring**: Automatic detection and recovery from issues
- **Token Management**: Automatic refresh and validation (every 30 minutes)

#### **Firebase Persistence Integration:**
```typescript
// Auto-initializes when main app loads
import './services/FirebaseAutoInitializer';

// Use in components
const { isAuthenticated, user, servicesReady } = useGlobalFirebase();

// Unified collection access
const projects = await globalFirebaseCollectionsManager.getCollection('projects', {
  organizationId: 'org-123',
  where: [{ field: 'status', operator: '==', value: 'active' }]
});
```

#### **Firebase Service Lifecycle:**
1. **WebOnlyStartupFlow** ‚Üí Sets tokens and launches project
2. **FirebaseAutoInitializer** ‚Üí Ensures all services ready
3. **GlobalFirebaseProvider** ‚Üí Provides context to all components
4. **FirebasePersistenceManager** ‚Üí Monitors and maintains services
5. **CollectionsManager** ‚Üí Provides unified data access

#### **Key Benefits:**
- ‚úÖ **No service interruption** after startup flow completes
- ‚úÖ **Automatic token refresh** keeps auth valid
- ‚úÖ **Health monitoring** with auto-recovery
- ‚úÖ **Consistent data access** across all components
- ‚úÖ **Organization-scoped** data filtering
- ‚úÖ **Real-time updates** and smart caching

### **Consulting MPC Library**
Always reference the shared-mpc-library for:
- Complete Firebase Functions implementation details
- Firebase deployment patterns
- Web-only authentication flows
- Production build configurations
- Error handling best practices
- API integration patterns
- **NEW**: Firebase Persistence Architecture patterns (`FIREBASE_PERSISTENCE_ARCHITECTURE_MPC.md`)

### **Shared Functions Integration**
All projects now use the shared-firebase-functions package:
- **69+ TypeScript functions** available across all projects
- **16 function categories** (auth, projects, datasets, sessions, licensing, payments, callSheets, team, etc.)
- **Hybrid support**: Firebase Functions + HTTP API endpoints
- **Consistent APIs**: Standardized function signatures and response formats
- **Type Safety**: Full TypeScript support across all integrations

### **Configuration Management**
All projects use shared configuration:
- **Shared .cursorrules**: Unified rules with project-specific overrides
- **Shared MCP config**: Unified MCP server configuration
- **Shared MPC library**: Centralized documentation and best practices
- **Shared Firebase Functions**: Centralized backend logic

### **Development Workflow**
1. **Always consult shared-mpc-library** before any code generation
2. **Use BACKBONE Unified MCP tools** for all operations
3. **Follow shared function patterns** for consistency
4. **Reference shared configuration** for project setup
5. **Validate against shared standards** before finalizing

### **Quality Assurance**
- **100% integration success rate** across all projects
- **Consistent build processes** using pnpm
- **Unified deployment scripts** for all projects
- **Comprehensive verification** tools
- **Production-ready** configurations

### **Maintenance**
- **Single source of truth** for all configurations
- **Centralized updates** through shared folders
- **Consistent patterns** across all projects
- **Easy synchronization** between projects
- **Comprehensive documentation** for all changes


---

## üéØ **PROJECT-SPECIFIC OVERRIDES**

# üî• Licensing Website - Project-Specific Cursor Rules
# References shared configuration with Licensing-specific overrides

## üéØ **PROJECT-SPECIFIC CONTEXT**
This is the **Licensing Website** - the backend service and licensing management system of the BACKBONE ecosystem.

### **Project Details:**
- **URL**: https://backbone-logic.web.app
- **Firebase Project**: backbone-logic
- **Hosting Target**: backbone-logic
- **Architecture**: Express.js + Node.js + Stripe + Firebase + Shared Functions
- **Build Directory**: `dist/`
- **Package Manager**: pnpm

### **Licensing-Specific Build Commands:**
```bash
# Build Licensing Website (from server directory)
cd "/Users/chebrooks/Documents/IDE_Project/BACKBONE 14_2 & Website 2 full project files/dashboard-v14-licensing-website 2/server"
pnpm run build

# Deploy Licensing Website (from project root)
cd "/Users/chebrooks/Documents/IDE_Project/BACKBONE 14_2 & Website 2 full project files/dashboard-v14-licensing-website 2"
firebase deploy --only hosting:backbone-logic
```

### **Licensing-Specific Features:**
- **Express.js Server**: HTTP API with shared functions integration
- **Stripe Integration**: Payment processing and subscriptions
- **Prisma Database**: Legacy database support
- **Shared Functions Bridge**: Express.js wrapper for shared functions
- **Multi-tenant Architecture**: Organization-based data isolation

### **Licensing-Specific Shared Functions:**
- All 69+ shared Firebase Functions available via Express.js bridge
- HTTP API endpoints: `/api/shared/*`
- Shared function wrappers in `src/sharedFunctions.ts`
- Express route handlers for shared functions

## üìã **SHARED CONFIGURATION REFERENCE**

### **Base Rules:**
This project inherits all rules from the shared configuration:
- **Shared .cursorrules**: `../shared-configuration/.cursorrules-unified.md`
- **Shared MCP config**: `../shared-configuration/mcp-unified.json`
- **Shared MPC library**: `../shared-mpc-library/`
- **Shared Firebase Functions**: `../shared-firebase-functions/`

### **Mandatory Requirements:**
1. **ALWAYS consult shared-mpc-library** before any code generation
2. **ALWAYS use BACKBONE Unified MCP tools** for all operations
3. **ALWAYS use shared Firebase Functions** for backend operations
4. **ALWAYS follow shared configuration** patterns
5. **ALWAYS validate against shared standards** before finalizing

### **Licensing-Specific Overrides:**
- **Server Architecture**: Express.js with shared functions bridge
- **Database**: Prisma + Firestore hybrid approach
- **Payment Processing**: Stripe integration
- **API Endpoints**: HTTP routes for shared functions
- **Multi-tenant**: Organization-based data isolation

### **Shared Functions Integration:**
- **HTTP API**: Express.js routes for shared functions
- **Bridge Pattern**: `SharedFunctionsService` wrapper class
- **Route Handlers**: `createSharedFunctionRoute` factory
- **Consistent APIs**: Same function signatures as other projects

### **Quality Assurance:**
- **100% shared functions integration** confirmed
- **Consistent with shared configuration** patterns
- **Production-ready** deployment scripts
- **Comprehensive verification** tools available

### **Maintenance:**
- **Updates**: Made through shared configuration
- **Consistency**: Maintained through shared patterns
- **Documentation**: Referenced from shared-mpc-library
- **Functions**: Managed through shared-firebase-functions

---

**Note**: This file references the shared configuration. For complete rules and patterns, see `../shared-configuration/.cursorrules-unified.md`
