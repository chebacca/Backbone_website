const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.esm-Cicvjgiv.js","assets/index.esm-B6Q1BJpE.js"])))=>i.map(i=>d[i]);
import{_ as p}from"./index-BQL290Xm.js";import{r as l,i as m}from"./index.esm-B6Q1BJpE.js";import{getFirestore as n}from"./index.esm-D6OvRmrs.js";import{getAuth as a}from"./index.esm-Cicvjgiv.js";import"./mui-CbJLuC6G.js";import"./vendor-CjD1bmmO.js";import"./stripe-iaBWsbMy.js";var g="firebase",u="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */l(g,u,"app");const r={},f=()=>typeof window<"u"&&window.FIREBASE_CONFIG?window.FIREBASE_CONFIG:{apiKey:(r==null?void 0:r.VITE_FIREBASE_API_KEY)||"AIzaSyDFnIzSYCdPsDDdvP1lympVxEeUn0AQhWs",authDomain:"backbone-logic.firebaseapp.com",projectId:"backbone-logic",storageBucket:"backbone-logic.firebasestorage.app",messagingSenderId:"749245129278",appId:"1:749245129278:web:dfa5647101ea160a3b276f",measurementId:"G-8SZRDQ4XVR"},h=f();let s;try{s=m(h),console.log("üî• [Firebase] App initialized successfully")}catch(t){console.log("‚ÑπÔ∏è [Firebase] App already initialized or error:",t)}const A=s?n(s):n(),o=s?a(s):a();function d(){if(!(typeof window>"u"))try{if(window.WEBONLY_MODE===!0){console.log("üîß [Firebase] Fixing CSP issues for WebOnly mode...");const e=document.createElement("meta");e.httpEquiv="Content-Security-Policy";const i=["default-src 'self' data: blob:","script-src 'self' 'unsafe-inline' 'unsafe-eval' 'wasm-unsafe-eval' https://js.stripe.com https://m.stripe.network https://accounts.google.com https://apis.google.com https://www.gstatic.com https://cdn.socket.io https://maps.googleapis.com https://maps.google.com https://cdn.jsdelivr.net https://unpkg.com","style-src 'self' 'unsafe-inline' 'unsafe-eval' https://fonts.googleapis.com https://www.gstatic.com https://accounts.google.com","font-src 'self' data: https://fonts.gstatic.com","img-src 'self' data: blob: https://*.googleapis.com https://*.gstatic.com https://maps.googleapis.com https://maps.google.com","connect-src 'self' https://api.stripe.com https://js.stripe.com https://m.stripe.network https://q.stripe.com https://*.firebaseapp.com https://*.googleapis.com https://us-central1-backbone-logic.cloudfunctions.net https://backbone-logic.web.app https://accounts.google.com https://apis.google.com https://www.gstatic.com https://maps.googleapis.com https://maps.google.com https://cdn.jsdelivr.net https://unpkg.com https://rpc.cosmos.directory https://rest.cosmos.directory https://lcd-juno.itastakers.com https://rpc-juno.itastakers.com","frame-src 'self' https://js.stripe.com https://m.stripe.network https://accounts.google.com https://*.firebaseapp.com https://*.googleapis.com https://backbone-logic.firebaseapp.com https://backbone-logic.web.app","worker-src 'self' blob: data:","object-src 'none'","base-uri 'self'","form-action 'self'"];e.content=i.join("; ");const c=document.querySelector('meta[http-equiv="Content-Security-Policy"]');c&&c.remove(),document.head.appendChild(e),console.log("‚úÖ [Firebase] CSP issues fixed for WebOnly mode")}}catch(t){console.warn("‚ö†Ô∏è [Firebase] Failed to fix CSP issues:",t)}}d();typeof window<"u"&&(window.FIREBASE_IGNORE_UNDEFINED_PROPERTIES=!0);console.log("üåê [Firebase] Licensing website mode: production (web-only) - no emulators");const v=()=>!0,b=t=>{var e;return((e=o.currentUser)==null?void 0:e.email)===t},O=async t=>{try{if(b(t))return!0;if(o.currentUser&&o.currentUser.email!==t){const{signOut:e}=await p(async()=>{const{signOut:i}=await import("./index.esm-Cicvjgiv.js");return{signOut:i}},__vite__mapDeps([0,1]));await e(o)}return!1}catch{return!1}};export{s as app,o as auth,A as db,o as firebaseAuth,A as firestore,d as fixCSPIssues,b as isEmailAuthenticated,v as isWebOnlyMode,O as tryRestoreFirebaseSession};
