import{j as e,B as a,T as n,a as g,u as ee,G as i,c3 as be,ac as ye,al as ue,c4 as je,t as te,v as re,r as L,c as G,ai as fe,ag as Se,c5 as ve,g as Ce,au as Ie,ay as Pe,af as se,H as Ue,ao as De,ap as Be,aq as we,ar as $,as as x,at as Ae,bQ as xe,aB as ne,aC as ie,aD as ae,d as Ee,e as T,aE as oe,aG as ke,aH as We,aI as Re,a5 as k,D as Ne,a4 as Te,aa as Fe,aF as Me,p as Oe}from"./mui-D8UjIA2s.js";import{r as d}from"./vendor-CjD1bmmO.js";import{u as Le}from"./notistack.esm-Ca-E78ev.js";import{db as Q}from"./firebase-D1V5wkyz.js";import{query as q,collection as _,where as J,limit as K,getDocs as X}from"./index.esm-ClhtutUx.js";import{getAuth as he,onAuthStateChanged as $e}from"./index.esm-DOG5cvVU.js";import"./index.esm-COtph9ny.js";import{M as Y}from"./MetricCard-B_DL-kwb.js";import"./index-DgKZuE-M.js";import"./stripe-CUttI3Gx.js";const Z={USERS:"users",PAYMENTS:"payments",INVOICES:"invoices",SUBSCRIPTIONS:"subscriptions",LICENSES:"licenses"};class le{static getCurrentUserId(){const p=he(),s=p.currentUser;return console.log("ðŸ” [UserBillingService] Auth state:",{hasAuth:!!p,currentUser:s?{uid:s.uid,email:s.email}:null}),s?(console.log("âœ… [UserBillingService] Current user ID:",s.uid),s.uid):(console.warn("âš ï¸ [UserBillingService] No authenticated user found"),null)}static async getCurrentUserSubscription(){var p,s;try{const m=this.getCurrentUserId();if(!m)throw new Error("No authenticated user");console.log("ðŸ” [UserBillingService] Getting subscription for Firebase UID:",m);const I=q(_(Q,Z.SUBSCRIPTIONS),J("firebaseUid","==",m),K(10)),b=await X(I);if(console.log(`ðŸ“‹ [UserBillingService] Found ${b.size} subscriptions for Firebase UID: ${m}`),b.empty)return console.log("â„¹ï¸ [UserBillingService] No subscriptions found for Firebase UID"),null;const D=b.docs[0],o=D.data();console.log("ðŸ“Š [UserBillingService] Subscription data:",o);const v={id:D.id,plan:((p=o.tier)==null?void 0:p.toUpperCase())||"PRO",status:((s=o.status)==null?void 0:s.toLowerCase())||"active",currentPeriodStart:o.currentPeriodStart||o.createdAt,currentPeriodEnd:o.currentPeriodEnd||o.createdAt,seats:o.seats||1,amount:o.amount||0,nextPaymentDate:o.currentPeriodEnd||o.createdAt,tier:o.tier};return console.log("âœ… [UserBillingService] Subscription found and mapped:",v),v}catch(m){return console.error("âŒ [UserBillingService] Error getting user subscription:",m),null}}static async getCurrentUserBillingHistory(p={}){var s,m,I,b,D,o,v,W,C,A,B,F,M,w,O,y,E,P;try{const c=this.getCurrentUserId();if(!c)throw new Error("No authenticated user");const R=p.limit||25;console.log("ðŸ” [UserBillingService] Getting billing history for Firebase UID:",c);const j=[];try{let l=q(_(Q,Z.PAYMENTS),J("firebaseUid","==",c),K(R));const f=await X(l);console.log(`ðŸ’³ [UserBillingService] Found ${f.size} payments for Firebase UID: ${c}`);for(const h of f.docs){const r=h.data();console.log("ðŸ” [UserBillingService] Raw payment data amount:",{id:h.id,rawAmount:r.amount,type:typeof r.amount});const N={id:h.id,stripeInvoiceId:r.stripeInvoiceId,number:r.stripeInvoiceId||`PAY-${h.id.substring(0,8).toUpperCase()}`,date:((I=(m=(s=r.createdAt)==null?void 0:s.toDate)==null?void 0:m.call(s))==null?void 0:I.toISOString())||r.createdAt,amount:r.amount||0,status:((b=r.status)==null?void 0:b.toLowerCase())||"pending",description:r.description||`${((D=r.subscription)==null?void 0:D.tier)||"Subscription"} Plan - ${((o=r.subscription)==null?void 0:o.seats)||1} seat(s)`,downloadUrl:r.receiptUrl,receiptUrl:r.receiptUrl,currency:r.currency||"USD",createdAt:((C=(W=(v=r.createdAt)==null?void 0:v.toDate)==null?void 0:W.call(v))==null?void 0:C.toISOString())||r.createdAt,subscription:r.subscription};j.push(N)}console.log(`âœ… [UserBillingService] Processed ${j.length} payments`)}catch(l){console.warn("âš ï¸ [UserBillingService] Could not fetch payments:",l)}try{let l=q(_(Q,Z.INVOICES),J("firebaseUid","==",c),K(R));const f=await X(l);console.log(`ðŸ“‹ [UserBillingService] Found ${f.size} invoices for Firebase UID: ${c}`);for(const h of f.docs){const r=h.data(),N={id:h.id,stripeInvoiceId:r.stripeInvoiceId,number:r.stripeInvoiceId||`INV-${h.id.substring(0,8).toUpperCase()}`,date:((F=(B=(A=r.createdAt)==null?void 0:A.toDate)==null?void 0:B.call(A))==null?void 0:F.toISOString())||r.createdAt,amount:r.amount||0,status:((M=r.status)==null?void 0:M.toLowerCase())||"pending",description:r.description||`${((w=r.subscription)==null?void 0:w.tier)||"Subscription"} Plan - ${((O=r.subscription)==null?void 0:O.seats)||1} seat(s)`,downloadUrl:r.receiptUrl,receiptUrl:r.receiptUrl,currency:r.currency||"USD",createdAt:((P=(E=(y=r.createdAt)==null?void 0:y.toDate)==null?void 0:E.call(y))==null?void 0:P.toISOString())||r.createdAt,subscription:r.subscription};j.push(N)}console.log(`âœ… [UserBillingService] Processed ${j.length} total items`)}catch(l){console.warn("âš ï¸ [UserBillingService] Could not fetch invoices:",l)}return j.sort((l,f)=>{const h=new Date(l.createdAt||l.date||0);return new Date(f.createdAt||f.date||0).getTime()-h.getTime()}),console.log(`âœ… [UserBillingService] Total billing history items: ${j.length}`),j}catch(c){return console.error("âŒ [UserBillingService] Error getting user billing history:",c),[]}}static formatCurrency(p,s="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:s}).format(p)}}const Ye=[{id:"1",type:"card",last4:"4242",brand:"Visa",expiryMonth:12,expiryYear:2025,isDefault:!0},{id:"2",type:"card",last4:"5555",brand:"Mastercard",expiryMonth:8,expiryYear:2026,isDefault:!1}],z=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(u),ce=u=>{switch(u.toLowerCase()){case"succeeded":case"paid":case"active":return"success";case"pending":case"processing":return"warning";case"failed":case"cancelled":case"canceled":return"error";case"refunded":return"info";default:return"default"}},de=u=>{switch(u.toLowerCase()){case"succeeded":case"paid":case"active":return e.jsx(Oe,{});case"pending":case"processing":return e.jsx(ue,{});case"failed":case"cancelled":case"canceled":return e.jsx(Me,{});case"refunded":return e.jsx(xe,{});default:return e.jsx(Fe,{})}},Ze=()=>{const{enqueueSnackbar:u}=Le(),[p]=d.useState(Ye),[s,m]=d.useState(null),[I,b]=d.useState([]),[D,o]=d.useState(!1),[v,W]=d.useState(!1),[C,A]=d.useState(null),[B,F]=d.useState(!1),[M,w]=d.useState(!1),[O,y]=d.useState(!1),[E,P]=d.useState("PRO"),[c,R]=d.useState(1),[j,l]=d.useState(null),f=()=>{u("Payment method added successfully",{variant:"success"}),w(!1)},h=()=>{u("Subscription updated successfully",{variant:"success"}),y(!1)},r=()=>{s&&(R(s.seats),s.seats<=50?P("PRO"):P("ENTERPRISE")),y(!0)},N=t=>{t.receiptUrl?window.open(t.receiptUrl,"_blank"):u("No receipt available for this payment",{variant:"info"})};d.useEffect(()=>{const t=he(),U=$e(t,S=>{console.log("ðŸ” [BillingPage] Auth state changed:",{hasUser:!!S,uid:S==null?void 0:S.uid,email:S==null?void 0:S.email}),A(S),F(!0)});return()=>U()},[]),d.useEffect(()=>{if(!B||!C){console.log("â³ [BillingPage] Waiting for auth to be ready...");return}console.log("âœ… [BillingPage] Auth ready, fetching subscription for user:",C.uid),(async()=>{try{W(!0);let t;try{if(t=await le.getCurrentUserSubscription(),t){m(t),console.log("âœ… [BillingPage] Subscription loaded via UserBillingService");return}}catch(U){console.warn("âš ï¸ [BillingPage] UserBillingService failed, falling back to API:",U)}console.log("â„¹ï¸ [BillingPage] Web-only mode: No subscription found in Firestore")}catch(t){console.error("âŒ [BillingPage] Failed to load subscription:",t),u((t==null?void 0:t.message)||"Failed to load subscription",{variant:"error"})}finally{W(!1)}})()},[u,B,C]),d.useEffect(()=>{if(!B||!C){console.log("â³ [BillingPage] Waiting for auth to be ready for billing history...");return}console.log("âœ… [BillingPage] Auth ready, fetching billing history for user:",C.uid),(async()=>{try{o(!0);let t;try{if(console.log("ðŸ” [BillingPage] Attempting to fetch billing history via UserBillingService..."),t=await le.getCurrentUserBillingHistory({limit:25}),console.log("ðŸ“Š [BillingPage] UserBillingService returned:",t),t&&t.length>0){b(t),console.log("âœ… [BillingPage] Billing history loaded via UserBillingService:",t.length,"items");return}else console.log("â„¹ï¸ [BillingPage] UserBillingService returned empty array or null")}catch(U){console.error("âŒ [BillingPage] UserBillingService failed:",U)}console.log("â„¹ï¸ [BillingPage] Web-only mode: No billing history found in Firestore"),b([])}catch(t){console.error("âŒ [BillingPage] Failed to load billing history:",t),u((t==null?void 0:t.message)||"Failed to load billing history",{variant:"error"}),b([])}finally{o(!1)}})()},[u,B,C]);const ge=()=>({BASIC:29,PRO:99,ENTERPRISE:199})[E]*c,pe=t=>{R(t),t<=50?P("PRO"):P("ENTERPRISE")},H=t=>{const S={BASIC:29,PRO:99,ENTERPRISE:199}[t];return`${t} - $${S}/seat/month`};if(v)return e.jsx(a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:e.jsx(n,{variant:"h6",color:"text.secondary",children:"Loading billing information..."})});if(!s)return e.jsx(a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:e.jsx(n,{variant:"h6",color:"text.secondary",children:"No subscription found. Please contact support."})});const me=z(s.amount),V=Math.ceil((new Date(s.nextPaymentDate).getTime()-new Date().getTime())/(1e3*60*60*24));return e.jsxs(a,{children:[e.jsx(a,{children:e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(a,{children:[e.jsx(n,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Billing & Payments"}),e.jsx(n,{variant:"body1",color:"text.secondary",children:"Manage your subscription, payment methods, and billing history"})]}),e.jsx(g,{variant:"contained",startIcon:e.jsx(ee,{}),onClick:r,sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000",fontWeight:600},children:"Upgrade Plan"})]})}),e.jsxs(i,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(i,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Y,{title:"Monthly Cost",value:z(s.amount),icon:e.jsx(be,{}),color:"primary"})}),e.jsx(i,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Y,{title:"Total Seats",value:s.seats,icon:e.jsx(ye,{}),color:"secondary"})}),e.jsx(i,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Y,{title:"Days to Renewal",value:V,icon:e.jsx(ue,{}),color:"warning",trend:{value:Math.max(0,30-V),direction:"down"}})}),e.jsx(i,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Y,{title:"Active Invoices",value:I.filter(t=>t.status==="paid"||t.status==="pending").length,icon:e.jsx(je,{}),color:"success"})})]}),e.jsx(a,{children:e.jsx(te,{sx:{mb:4,background:"linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(102, 126, 234, 0.1) 100%)",border:"1px solid rgba(0, 212, 255, 0.2)"},children:e.jsx(re,{sx:{p:4},children:e.jsxs(i,{container:!0,spacing:4,alignItems:"center",children:[e.jsxs(i,{item:!0,xs:12,md:8,children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(L,{label:s.plan,color:"primary",sx:{fontWeight:600,fontSize:"1rem",px:2,py:1}}),e.jsx(L,{icon:de(s.status),label:s.status.toUpperCase(),color:ce(s.status),sx:{fontWeight:500}})]}),e.jsxs(n,{variant:"h5",sx:{fontWeight:600,mb:1},children:[z(s.amount)," / month"]}),e.jsxs(n,{variant:"body1",color:"text.secondary",sx:{mb:2},children:[s.seats," seats â€¢ Next payment in ",V," days"]}),e.jsxs(n,{variant:"body2",color:"text.secondary",children:["Current period: ",new Date(s.currentPeriodStart).toLocaleDateString()," - ",new Date(s.currentPeriodEnd).toLocaleDateString()]})]}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsxs(a,{sx:{textAlign:"right"},children:[e.jsx(n,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"Next Payment"}),e.jsx(n,{variant:"h4",sx:{fontWeight:700,mb:1},children:me}),e.jsxs(n,{variant:"body2",color:"text.secondary",children:["on ",new Date(s.nextPaymentDate).toLocaleDateString()]})]})})]})})})}),e.jsxs(i,{container:!0,spacing:4,children:[e.jsx(i,{item:!0,xs:12,md:8,children:e.jsx(a,{children:e.jsxs(G,{sx:{p:3,background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600},children:"Payment Methods"}),e.jsx(g,{variant:"outlined",startIcon:e.jsx(fe,{}),onClick:()=>w(!0),children:"+ Add Method"})]}),e.jsx(a,{sx:{display:"flex",flexDirection:"column",gap:2},children:p.map(t=>e.jsx(te,{sx:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsx(re,{sx:{p:2},children:e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Se,{sx:{bgcolor:"primary.main"},children:e.jsx(ve,{})}),e.jsxs(a,{children:[e.jsxs(n,{variant:"body1",sx:{fontWeight:500},children:[t.brand," â€¢â€¢â€¢â€¢ ",t.last4]}),e.jsxs(n,{variant:"body2",color:"text.secondary",children:["Expires ",t.expiryMonth.toString().padStart(2,"0"),"/",t.expiryYear]})]})]}),e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.isDefault&&e.jsx(L,{label:"Default",size:"small",color:"primary"}),e.jsx(Ce,{size:"small",onClick:U=>l(U.currentTarget),children:e.jsx(Ie,{})})]})]})})},t.id))})]})})}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(a,{children:e.jsxs(G,{sx:{p:3,background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Quick Actions"}),e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{item:!0,xs:12,children:e.jsx(g,{variant:"outlined",startIcon:e.jsx(ee,{}),fullWidth:!0,sx:{justifyContent:"flex-start",py:1.5},onClick:()=>y(!0),children:"Upgrade Plan"})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(g,{variant:"outlined",startIcon:e.jsx(Pe,{}),fullWidth:!0,sx:{justifyContent:"flex-start",py:1.5},children:"Update Billing Info"})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(g,{variant:"outlined",startIcon:e.jsx(se,{}),fullWidth:!0,sx:{justifyContent:"flex-start",py:1.5},children:"Download All Invoices"})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(g,{variant:"outlined",startIcon:e.jsx(Ue,{}),fullWidth:!0,sx:{justifyContent:"flex-start",py:1.5},children:"Billing Security Settings"})})]})]})})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(a,{children:e.jsxs(G,{sx:{p:3,background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Billing History"}),e.jsx(De,{children:e.jsxs(Be,{children:[e.jsx(we,{children:e.jsxs($,{children:[e.jsx(x,{sx:{fontWeight:600},children:"Invoice"}),e.jsx(x,{sx:{fontWeight:600},children:"Date"}),e.jsx(x,{sx:{fontWeight:600},children:"Description"}),e.jsx(x,{sx:{fontWeight:600},children:"Amount"}),e.jsx(x,{sx:{fontWeight:600},children:"Status"}),e.jsx(x,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(Ae,{children:D?e.jsx($,{children:e.jsx(x,{colSpan:6,align:"center",children:e.jsx(a,{sx:{py:4},children:e.jsx(n,{variant:"body1",color:"text.secondary",children:"Loading billing history..."})})})}):I.length>0?I.map(t=>e.jsxs($,{hover:!0,children:[e.jsx(x,{children:e.jsx(n,{variant:"body2",sx:{fontWeight:500,fontFamily:"monospace"},children:t.number})}),e.jsx(x,{children:e.jsx(n,{variant:"body2",children:new Date(t.createdAt||t.date).toLocaleDateString()})}),e.jsx(x,{children:e.jsx(n,{variant:"body2",children:t.description})}),e.jsx(x,{children:e.jsx(n,{variant:"body2",sx:{fontWeight:500},children:new Intl.NumberFormat("en-US",{style:"currency",currency:(t.currency||"USD").toUpperCase()}).format(t.amount||0)})}),e.jsx(x,{children:e.jsx(L,{icon:de(String(t.status).toLowerCase()),label:String(t.status).toUpperCase(),color:ce(String(t.status).toLowerCase()),size:"small"})}),e.jsx(x,{children:e.jsxs(a,{sx:{display:"flex",gap:1},children:[e.jsx(g,{variant:"contained",size:"small",startIcon:e.jsx(se,{}),onClick:()=>N(t),sx:{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark",transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:"Receipt"}),t.stripeInvoiceId&&e.jsx(g,{variant:"outlined",size:"small",startIcon:e.jsx(xe,{}),onClick:()=>window.open(`https://dashboard.stripe.com/invoices/${t.stripeInvoiceId}`,"_blank"),sx:{borderColor:"primary.main",color:"primary.main","&:hover":{borderColor:"primary.dark",backgroundColor:"rgba(0, 0, 0, 0.04)",transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},children:"Stripe"})]})})]},t.id)):e.jsx($,{children:e.jsx(x,{colSpan:6,align:"center",children:e.jsxs(a,{sx:{py:4},children:[e.jsx(n,{variant:"body1",color:"text.secondary",sx:{mb:1},children:"No billing history found"}),e.jsx(n,{variant:"body2",color:"text.secondary",children:"Your payment history will appear here once you have completed transactions."})]})})})})]})})]})})})]}),e.jsxs(ne,{open:M,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)"}},children:[e.jsx(ie,{children:"Add Payment Method"}),e.jsxs(ae,{children:[e.jsx(Ee,{severity:"info",sx:{mb:3},children:"Your payment information is securely processed by Stripe and never stored on our servers."}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,children:e.jsx(T,{fullWidth:!0,label:"Card Number",placeholder:"1234 5678 9012 3456",sx:{mt:1}})}),e.jsx(i,{item:!0,xs:6,children:e.jsx(T,{fullWidth:!0,label:"Expiry Date",placeholder:"MM/YY"})}),e.jsx(i,{item:!0,xs:6,children:e.jsx(T,{fullWidth:!0,label:"CVC",placeholder:"123"})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(T,{fullWidth:!0,label:"Cardholder Name",placeholder:"John Doe"})})]})]}),e.jsxs(oe,{children:[e.jsx(g,{onClick:()=>w(!1),children:"Cancel"}),e.jsx(g,{onClick:f,variant:"contained",children:"Add Payment Method"})]})]}),e.jsxs(ne,{open:O,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)"}},children:[e.jsx(ie,{children:"Upgrade Your Plan"}),e.jsx(ae,{children:e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsxs(ke,{fullWidth:!0,children:[e.jsx(We,{children:"Select Plan"}),e.jsxs(Re,{value:E,label:"Select Plan",onChange:t=>P(t.target.value),inputProps:{"aria-label":"Select subscription plan",title:"Choose your subscription plan"},children:[e.jsx(k,{value:"BASIC",children:H("BASIC")}),e.jsx(k,{value:"PRO",children:H("PRO")}),e.jsx(k,{value:"ENTERPRISE",children:H("ENTERPRISE")})]})]})}),e.jsx(i,{item:!0,xs:12,sm:6,children:e.jsx(T,{fullWidth:!0,label:"Number of Seats",type:"number",value:c,onChange:t=>pe(parseInt(t.target.value)),inputProps:{min:1,max:100},helperText:"Up to 50 seats: Pro plan. 51+ seats: Enterprise plan."})}),e.jsxs(i,{item:!0,xs:12,children:[e.jsx(Ne,{sx:{my:2}}),e.jsxs(a,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsxs(n,{variant:"h6",children:["Total: ",z(ge())," / month"]})}),e.jsxs(a,{sx:{p:2,bgcolor:"background.default",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.jsx("strong",{children:"Plan Selection Logic:"})}),e.jsxs(n,{variant:"body2",color:"text.secondary",children:["â€¢ ",c<=50?"âœ…":"âŒ"," Up to 50 seats: ",e.jsx("strong",{children:"Pro Plan"})," ($99/seat/month)"]}),e.jsxs(n,{variant:"body2",color:"text.secondary",children:["â€¢ ",c>50?"âœ…":"âŒ"," 51+ seats: ",e.jsx("strong",{children:"Enterprise Plan"})," ($199/seat/month)"]}),e.jsxs(n,{variant:"body2",color:"text.secondary",sx:{mt:1,fontStyle:"italic"},children:["Current selection: ",e.jsx("strong",{children:E})," plan with ",e.jsx("strong",{children:c})," seat",c!==1?"s":""]})]})]})]})]})}),e.jsxs(oe,{children:[e.jsx(g,{onClick:()=>y(!1),children:"Cancel"}),e.jsx(g,{onClick:h,variant:"contained",children:"Upgrade Now"})]})]}),e.jsxs(Te,{anchorEl:j,open:!!j,onClose:()=>l(null),PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)"}},children:[e.jsx(k,{onClick:()=>l(null),children:"Set as Default"}),e.jsx(k,{onClick:()=>l(null),children:"Edit"}),e.jsx(k,{onClick:()=>l(null),sx:{color:"error.main"},children:"Remove"})]})]})};export{Ze as default};
