import{ab as Q,ac as X,j as r,a,ad as J,ae as M,I as p,af as V,s as L,d as g,ag as z,ah as Z,ai as rr,aj as er,a4 as B,X as l,ak as P,al as or,am as D,t as ar,an as tr,ao as nr,ap as sr,aa as ir,o as lr,aq as cr,ar as dr,r as R,T as c,as as pr,h as E,U as xr,W as b,at as m,Y as u,D as T,a3 as hr,p as A}from"./mui-DpsxcHA8.js";import{r as j,h as gr,u as br,b as mr,L as d,O as ur}from"./vendor-DIxetjBo.js";import{u as jr}from"./index-Bofe41g1.js";import"./stripe-GgbZzTKy.js";const s=280,yr=[{text:"Overview",icon:r.jsx(tr,{}),path:"/dashboard"},{text:"Licenses",icon:r.jsx(nr,{}),path:"/dashboard/licenses",badge:3},{text:"Usage Analytics",icon:r.jsx(sr,{}),path:"/dashboard/analytics"},{text:"Billing & Payments",icon:r.jsx(ir,{}),path:"/dashboard/billing"},{text:"Team Management",icon:r.jsx(lr,{}),path:"/dashboard/team"},{text:"Downloads",icon:r.jsx(cr,{}),path:"/dashboard/downloads",chip:"SDK"},{text:"Documentation",icon:r.jsx(dr,{}),path:"/dashboard/documentation"},{text:"Support",icon:r.jsx(R,{}),path:"/dashboard/support"},{text:"Settings",icon:r.jsx(P,{}),path:"/dashboard/settings"}],fr=[{text:"Organization",icon:r.jsx(hr,{}),path:"/dashboard/organization"},{text:"Security Center",icon:r.jsx(A,{}),path:"/dashboard/security"},{text:"Compliance",icon:r.jsx(A,{}),path:"/dashboard/compliance"}],Mr=()=>{var I;const U=Q(),W=X(U.breakpoints.down("lg")),[y,O]=j.useState(!1),[f,k]=j.useState(null),C=gr(),{user:e,logout:N}=jr(),i=br(),[K,H]=j.useState(()=>{try{return localStorage.getItem("dismiss_kyc_banner")==="1"}catch{return!1}}),S=()=>{O(!y)},_=n=>{k(n.currentTarget)},x=()=>{k(null)},G=()=>{N(),x()},Y=String(((I=e==null?void 0:e.subscription)==null?void 0:I.plan)||"").toUpperCase()==="ENTERPRISE",$=String((e==null?void 0:e.role)||"").toUpperCase()==="ENTERPRISE_ADMIN",v=String((e==null?void 0:e.kycStatus)||"").toUpperCase()!=="COMPLETED",q=v&&!K,F=mr.useMemo(()=>{const n=[...yr];return String((e==null?void 0:e.role)||"").toUpperCase()==="SUPERADMIN"?n.filter(t=>t.path!=="/dashboard/billing"):n},[e==null?void 0:e.role]),w=()=>{var n,h;return r.jsxs(a,{sx:{width:s,height:"100%",backgroundColor:"background.paper"},children:[r.jsxs(a,{component:d,to:"/","aria-label":"Go to Landing Page",sx:{p:3,display:"block",textDecoration:"none",color:"inherit",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",cursor:"pointer","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"}},children:[r.jsx(c,{variant:"h6",sx:{fontWeight:600,background:"linear-gradient(135deg, #ffffff 0%, #00d4ff 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"BackboneLogic, Inc."}),r.jsx(c,{variant:"body2",color:"text.secondary",children:"License Management"})]}),r.jsx(a,{sx:{p:3,borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:r.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(pr,{sx:{width:48,height:48,bgcolor:"primary.main"},children:((n=e==null?void 0:e.name)==null?void 0:n[0])||((h=e==null?void 0:e.email)==null?void 0:h[0])||"U"}),r.jsxs(a,{sx:{flex:1,minWidth:0},children:[r.jsx(c,{variant:"subtitle1",sx:{fontWeight:600},noWrap:!0,children:(e==null?void 0:e.name)||(e==null?void 0:e.email)||"User"}),r.jsx(c,{variant:"body2",color:"text.secondary",noWrap:!0,children:e==null?void 0:e.email}),(e==null?void 0:e.subscription)&&r.jsx(E,{label:String(e.subscription.plan).toUpperCase(),size:"small",color:String(e.subscription.plan).toUpperCase()==="ENTERPRISE"?"primary":"default",sx:{mt:.5,fontSize:"0.7rem"}})]})]})}),r.jsxs(xr,{sx:{px:2,py:1},children:[F.map(o=>{const t=C.pathname===o.path;return r.jsx(a,{whileHover:{x:4},transition:{type:"spring",stiffness:300,damping:30},children:r.jsx(b,{disablePadding:!0,sx:{mb:.5},children:r.jsxs(m,{component:d,to:o.path,sx:{borderRadius:2,py:1.5,backgroundColor:t?"rgba(0, 212, 255, 0.1)":"transparent",color:t?"primary.main":"text.primary","&:hover":{backgroundColor:t?"rgba(0, 212, 255, 0.15)":"rgba(255, 255, 255, 0.05)"}},children:[r.jsx(l,{sx:{color:"inherit",minWidth:40},children:o.badge?r.jsx(z,{badgeContent:o.badge,color:"primary",children:o.icon}):o.icon}),r.jsx(u,{primary:o.text,sx:{"& .MuiListItemText-primary":{fontWeight:t?600:400,fontSize:"0.95rem"}}}),o.chip&&r.jsx(E,{label:o.chip,size:"small",sx:{fontSize:"0.7rem",height:20,backgroundColor:"rgba(0, 212, 255, 0.2)",color:"primary.main"}})]})})},o.text)}),Y&&$&&r.jsxs(r.Fragment,{children:[r.jsx(T,{sx:{my:2,borderColor:"rgba(255, 255, 255, 0.1)"}}),r.jsx(c,{variant:"caption",sx:{px:2,py:1,display:"block",fontWeight:600,color:"text.secondary",textTransform:"uppercase",letterSpacing:1},children:"Enterprise"}),fr.map(o=>{const t=C.pathname===o.path;return r.jsx(a,{whileHover:{x:4},transition:{type:"spring",stiffness:300,damping:30},children:r.jsx(b,{disablePadding:!0,sx:{mb:.5},children:r.jsxs(m,{component:d,to:o.path,sx:{borderRadius:2,py:1.5,backgroundColor:t?"rgba(0, 212, 255, 0.1)":"transparent",color:t?"primary.main":"text.primary","&:hover":{backgroundColor:t?"rgba(0, 212, 255, 0.15)":"rgba(255, 255, 255, 0.05)"}},children:[r.jsx(l,{sx:{color:"inherit",minWidth:40},children:o.icon}),r.jsx(u,{primary:o.text,sx:{"& .MuiListItemText-primary":{fontWeight:t?600:400,fontSize:"0.95rem"}}})]})})},o.text)})]})]}),r.jsxs(a,{sx:{mt:"auto",p:2},children:[r.jsx(T,{sx:{mb:2,borderColor:"rgba(255, 255, 255, 0.1)"}}),r.jsx(b,{disablePadding:!0,children:r.jsxs(m,{component:d,to:"/dashboard/support",sx:{borderRadius:2,py:1.5,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.05)"}},children:[r.jsx(l,{sx:{color:"text.secondary",minWidth:40},children:r.jsx(R,{})}),r.jsx(u,{primary:"Help & Support",sx:{"& .MuiListItemText-primary":{fontSize:"0.95rem",color:"text.secondary"}}})]})})]})]})};return r.jsxs(a,{sx:{display:"flex",minHeight:"100vh"},children:[r.jsx(J,{position:"fixed",sx:{width:{lg:`calc(100% - ${s}px)`},ml:{lg:`${s}px`},backgroundColor:"background.paper",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"none"},children:r.jsxs(M,{children:[r.jsx(p,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:S,sx:{mr:2,display:{lg:"none"}},children:r.jsx(V,{})}),W?r.jsx(p,{color:"inherit","aria-label":"Back",onClick:()=>{typeof window<"u"&&window.history.length>1?i(-1):i("/")},sx:{mr:1},children:r.jsx(L,{})}):r.jsx(g,{variant:"outlined",size:"small",startIcon:r.jsx(L,{}),onClick:()=>{typeof window<"u"&&window.history.length>1?i(-1):i("/")},sx:{mr:1,borderColor:"rgba(255, 255, 255, 0.2)",color:"text.primary",textTransform:"none","&:hover":{borderColor:"primary.main",backgroundColor:"rgba(0, 212, 255, 0.1)"}},children:"Back"}),r.jsx(a,{sx:{flexGrow:1}}),r.jsx(p,{size:"large",color:"inherit",sx:{mr:1},children:r.jsx(z,{badgeContent:v?1:0,color:"primary",children:r.jsx(Z,{})})}),r.jsx(p,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":"profile-menu","aria-haspopup":"true",onClick:_,color:"inherit",children:r.jsx(rr,{})}),r.jsxs(er,{id:"profile-menu",anchorEl:f,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!f,onClose:x,PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)",mt:1}},children:[r.jsxs(B,{component:d,to:"/dashboard/settings",onClick:x,children:[r.jsx(l,{children:r.jsx(P,{fontSize:"small"})}),"Settings"]}),r.jsxs(B,{onClick:G,children:[r.jsx(l,{children:r.jsx(or,{fontSize:"small"})}),"Logout"]})]})]})}),r.jsxs(a,{component:"nav",sx:{width:{lg:s},flexShrink:{lg:0}},children:[r.jsx(D,{variant:"temporary",open:y,onClose:S,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",lg:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:s,backgroundColor:"background.paper",border:"none",borderRight:"1px solid rgba(255, 255, 255, 0.1)"}},children:r.jsx(w,{})}),r.jsx(D,{variant:"permanent",sx:{display:{xs:"none",lg:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:s,backgroundColor:"background.paper",border:"none",borderRight:"1px solid rgba(255, 255, 255, 0.1)"}},open:!0,children:r.jsx(w,{})})]}),r.jsxs(a,{component:"main",sx:{flexGrow:1,width:{lg:`calc(100% - ${s}px)`},backgroundColor:"background.default",minHeight:"100vh"},children:[r.jsx(M,{}),r.jsxs(a,{sx:{p:3},children:[q&&r.jsx(ar,{severity:"warning",sx:{mb:2},action:r.jsxs(a,{sx:{display:"flex",gap:1},children:[r.jsx(g,{size:"small",variant:"contained",onClick:()=>i("/dashboard/settings#compliance"),sx:{color:"#000"},children:"Complete KYC"}),r.jsx(g,{size:"small",onClick:()=>{try{localStorage.setItem("dismiss_kyc_banner","1")}catch{}H(!0)},children:"Dismiss"})]}),children:"Your account requires identity verification (KYC). Complete it in Settings to unlock all features."}),r.jsx(ur,{})]})]})]})};export{Mr as DashboardLayout,Mr as default};
