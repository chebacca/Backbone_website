import{ab as it,j as t,ac as ct,ad as lt,a as o,ae as dt,af as z,I as m,ag as pt,s as P,d as f,ah as U,ai as xt,aj as ht,ak as gt,a4 as W,X as l,al as H,am as mt,an as R,t as ut,ao as _,aa as S,ap as K,aq as bt,p as x,ar as q,o as G,as as Y,at as jt,r as $,T as d,au as yt,h as N,U as ft,W as C,av as k,Y as v,D as O,a3 as Ct}from"./mui-BeS5Ygr6.js";import{r as u,h as kt,u as vt,b as St,L as p,O as wt}from"./vendor-OeuszDaU.js";import{r as It}from"./createSvgIcon-DUz8CuB7.js";import{u as Mt}from"./index-B2KrmW02.js";import"./stripe-TmI1MsK7.js";var w={},Lt=it;Object.defineProperty(w,"__esModule",{value:!0});var F=w.default=void 0,Bt=Lt(It()),At=t;F=w.default=(0,Bt.default)((0,At.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3"}),"CloudQueue");const i=280,Dt=[{text:"Overview",icon:t.jsx(_,{}),path:"/dashboard"},{text:"Projects",icon:t.jsx(F,{}),path:"/dashboard/projects"},{text:"Licenses",icon:t.jsx(Y,{}),path:"/dashboard/licenses",badge:3},{text:"Usage Analytics",icon:t.jsx(K,{}),path:"/dashboard/analytics"},{text:"Billing & Payments",icon:t.jsx(S,{}),path:"/dashboard/billing"},{text:"Team Management",icon:t.jsx(G,{}),path:"/dashboard/team"},{text:"Downloads",icon:t.jsx(jt,{}),path:"/dashboard/downloads",chip:"SDK"},{text:"Documentation",icon:t.jsx(q,{}),path:"/dashboard/documentation"},{text:"Support",icon:t.jsx($,{}),path:"/dashboard/support"},{text:"Settings",icon:t.jsx(H,{}),path:"/dashboard/settings"}],Et=[{text:"Organization",icon:t.jsx(Ct,{}),path:"/dashboard/organization"},{text:"Security Center",icon:t.jsx(x,{}),path:"/dashboard/security"},{text:"Compliance",icon:t.jsx(x,{}),path:"/dashboard/compliance"}],Tt=[{text:"Overview",icon:t.jsx(_,{}),path:"/accounting#overview"},{text:"Payments",icon:t.jsx(S,{}),path:"/accounting#payments"},{text:"Tax",icon:t.jsx(K,{}),path:"/accounting#tax"},{text:"Filings",icon:t.jsx(bt,{}),path:"/accounting#filings"},{text:"KYC",icon:t.jsx(x,{}),path:"/accounting#kyc"},{text:"Compliance",icon:t.jsx(x,{}),path:"/accounting#compliance"},{text:"Terms",icon:t.jsx(q,{}),path:"/accounting#terms"}],zt=[{text:"Users",icon:t.jsx(G,{}),path:"/admin#users"},{text:"Licenses",icon:t.jsx(Y,{}),path:"/admin#licenses"},{text:"Invoices",icon:t.jsx(S,{}),path:"/admin#invoices"},{text:"System Health",icon:t.jsx(x,{}),path:"/admin#system"}],_t=()=>{var E;const Q=ct(),X=lt(Q.breakpoints.down("lg")),[I,J]=u.useState(!1),[M,L]=u.useState(null),n=kt(),{user:e,logout:V}=Mt(),r=vt(),[Z,tt]=u.useState(()=>{try{return localStorage.getItem("dismiss_kyc_banner")==="1"}catch{return!1}}),b=String((e==null?void 0:e.role)||"").toUpperCase()==="ACCOUNTING";if(u.useEffect(()=>{b&&n.pathname.startsWith("/dashboard")&&r("/accounting",{replace:!0})},[b,n.pathname,r]),b&&!n.pathname.startsWith("/accounting"))return null;const B=()=>{J(!I)},et=c=>{L(c.currentTarget)},j=()=>{L(null)},at=()=>{V(),j()},ot=String(((E=e==null?void 0:e.subscription)==null?void 0:E.plan)||"").toUpperCase()==="ENTERPRISE",nt=String((e==null?void 0:e.role)||"").toUpperCase()==="ENTERPRISE_ADMIN",A=String((e==null?void 0:e.kycStatus)||"").toUpperCase()!=="COMPLETED",rt=A&&!Z,st=St.useMemo(()=>{const c=n.pathname.startsWith("/accounting"),h=n.pathname.startsWith("/admin");if(c)return[...Tt];if(h)return[...zt];const a=[...Dt];return String((e==null?void 0:e.role)||"").toUpperCase()==="SUPERADMIN"?a.filter(T=>T.path!=="/dashboard/billing"):a},[n.pathname,e==null?void 0:e.role]),D=()=>{var c,h;return t.jsxs(o,{sx:{width:i,height:"100%",backgroundColor:"background.paper"},children:[t.jsxs(o,{component:p,to:"/","aria-label":"Go to Landing Page",sx:{p:3,display:"block",textDecoration:"none",color:"inherit",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",cursor:"pointer","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"}},children:[t.jsx(d,{variant:"h6",sx:{fontWeight:600,background:"linear-gradient(135deg, #ffffff 0%, #00d4ff 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"BackboneLogic, Inc."}),t.jsx(d,{variant:"body2",color:"text.secondary",children:"License Management"})]}),t.jsx(o,{sx:{p:3,borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:t.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(yt,{sx:{width:48,height:48,bgcolor:"primary.main"},children:((c=e==null?void 0:e.name)==null?void 0:c[0])||((h=e==null?void 0:e.email)==null?void 0:h[0])||"U"}),t.jsxs(o,{sx:{flex:1,minWidth:0},children:[t.jsx(d,{variant:"subtitle1",sx:{fontWeight:600},noWrap:!0,children:(e==null?void 0:e.name)||(e==null?void 0:e.email)||"User"}),t.jsx(d,{variant:"body2",color:"text.secondary",noWrap:!0,children:e==null?void 0:e.email}),(e==null?void 0:e.subscription)&&t.jsx(N,{label:String(e.subscription.plan).toUpperCase(),size:"small",color:String(e.subscription.plan).toUpperCase()==="ENTERPRISE"?"primary":"default",sx:{mt:.5,fontSize:"0.7rem"}})]})]})}),t.jsxs(ft,{sx:{px:2,py:1},children:[st.map(a=>{const[s,y]=String(a.path||"").split("#"),g=!!y?n.pathname===s&&n.hash===`#${y}`:n.pathname===a.path;return t.jsx(o,{whileHover:{x:4},transition:{type:"spring",stiffness:300,damping:30},children:t.jsx(C,{disablePadding:!0,sx:{mb:.5},children:t.jsxs(k,{component:p,to:a.path,sx:{borderRadius:2,py:1.5,backgroundColor:g?"rgba(0, 212, 255, 0.1)":"transparent",color:g?"primary.main":"text.primary","&:hover":{backgroundColor:g?"rgba(0, 212, 255, 0.15)":"rgba(255, 255, 255, 0.05)"}},children:[t.jsx(l,{sx:{color:"inherit",minWidth:40},children:a.badge?t.jsx(U,{badgeContent:a.badge,color:"primary",children:a.icon}):a.icon}),t.jsx(v,{primary:a.text,sx:{"& .MuiListItemText-primary":{fontWeight:g?600:400,fontSize:"0.95rem"}}}),a.chip&&t.jsx(N,{label:a.chip,size:"small",sx:{fontSize:"0.7rem",height:20,backgroundColor:"rgba(0, 212, 255, 0.2)",color:"primary.main"}})]})})},a.text)}),ot&&nt&&t.jsxs(t.Fragment,{children:[t.jsx(O,{sx:{my:2,borderColor:"rgba(255, 255, 255, 0.1)"}}),t.jsx(d,{variant:"caption",sx:{px:2,py:1,display:"block",fontWeight:600,color:"text.secondary",textTransform:"uppercase",letterSpacing:1},children:"Enterprise"}),Et.map(a=>{const s=n.pathname===a.path;return t.jsx(o,{whileHover:{x:4},transition:{type:"spring",stiffness:300,damping:30},children:t.jsx(C,{disablePadding:!0,sx:{mb:.5},children:t.jsxs(k,{component:p,to:a.path,sx:{borderRadius:2,py:1.5,backgroundColor:s?"rgba(0, 212, 255, 0.1)":"transparent",color:s?"primary.main":"text.primary","&:hover":{backgroundColor:s?"rgba(0, 212, 255, 0.15)":"rgba(255, 255, 255, 0.05)"}},children:[t.jsx(l,{sx:{color:"inherit",minWidth:40},children:a.icon}),t.jsx(v,{primary:a.text,sx:{"& .MuiListItemText-primary":{fontWeight:s?600:400,fontSize:"0.95rem"}}})]})})},a.text)})]})]}),t.jsxs(o,{sx:{mt:"auto",p:2},children:[t.jsx(O,{sx:{mb:2,borderColor:"rgba(255, 255, 255, 0.1)"}}),t.jsx(C,{disablePadding:!0,children:t.jsxs(k,{component:p,to:"/dashboard/support",sx:{borderRadius:2,py:1.5,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.05)"}},children:[t.jsx(l,{sx:{color:"text.secondary",minWidth:40},children:t.jsx($,{})}),t.jsx(v,{primary:"Help & Support",sx:{"& .MuiListItemText-primary":{fontSize:"0.95rem",color:"text.secondary"}}})]})})]})]})};return t.jsxs(o,{sx:{display:"flex",minHeight:"100vh"},children:[t.jsx(dt,{position:"fixed",sx:{width:{lg:`calc(100% - ${i}px)`},ml:{lg:`${i}px`},backgroundColor:"background.paper",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"none"},children:t.jsxs(z,{children:[t.jsx(m,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:B,sx:{mr:2,display:{lg:"none"}},children:t.jsx(pt,{})}),X?t.jsx(m,{color:"inherit","aria-label":"Back",onClick:()=>{typeof window<"u"&&window.history.length>1?r(-1):r("/")},sx:{mr:1},children:t.jsx(P,{})}):t.jsx(f,{variant:"outlined",size:"small",startIcon:t.jsx(P,{}),onClick:()=>{typeof window<"u"&&window.history.length>1?r(-1):r("/")},sx:{mr:1,borderColor:"rgba(255, 255, 255, 0.2)",color:"text.primary",textTransform:"none","&:hover":{borderColor:"primary.main",backgroundColor:"rgba(0, 212, 255, 0.1)"}},children:"Back"}),t.jsx(o,{sx:{flexGrow:1}}),t.jsx(m,{size:"large",color:"inherit",sx:{mr:1},children:t.jsx(U,{badgeContent:A?1:0,color:"primary",children:t.jsx(xt,{})})}),t.jsx(m,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":"profile-menu","aria-haspopup":"true",onClick:et,color:"inherit",children:t.jsx(ht,{})}),t.jsxs(gt,{id:"profile-menu",anchorEl:M,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!M,onClose:j,PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)",mt:1}},children:[t.jsxs(W,{component:p,to:"/dashboard/settings",onClick:j,children:[t.jsx(l,{children:t.jsx(H,{fontSize:"small"})}),"Settings"]}),t.jsxs(W,{onClick:at,children:[t.jsx(l,{children:t.jsx(mt,{fontSize:"small"})}),"Logout"]})]})]})}),t.jsxs(o,{component:"nav",sx:{width:{lg:i},flexShrink:{lg:0}},children:[t.jsx(R,{variant:"temporary",open:I,onClose:B,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",lg:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:i,backgroundColor:"background.paper",border:"none",borderRight:"1px solid rgba(255, 255, 255, 0.1)"}},children:t.jsx(D,{})}),t.jsx(R,{variant:"permanent",sx:{display:{xs:"none",lg:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:i,backgroundColor:"background.paper",border:"none",borderRight:"1px solid rgba(255, 255, 255, 0.1)"}},open:!0,children:t.jsx(D,{})})]}),t.jsxs(o,{component:"main",sx:{flexGrow:1,width:{lg:`calc(100% - ${i}px)`},backgroundColor:"background.default",minHeight:"100vh"},children:[t.jsx(z,{}),t.jsxs(o,{sx:{p:3},children:[rt&&t.jsx(ut,{severity:"warning",sx:{mb:2},action:t.jsxs(o,{sx:{display:"flex",gap:1},children:[t.jsx(f,{size:"small",variant:"contained",onClick:()=>r("/dashboard/settings#compliance"),sx:{color:"#000"},children:"Complete KYC"}),t.jsx(f,{size:"small",onClick:()=>{try{localStorage.setItem("dismiss_kyc_banner","1")}catch{}tt(!0)},children:"Dismiss"})]}),children:"Your account requires identity verification (KYC). Complete it in Settings to unlock all features."}),t.jsx(wt,{})]})]})]})};export{_t as DashboardLayout,_t as default};
