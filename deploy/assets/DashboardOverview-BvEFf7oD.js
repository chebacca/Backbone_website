import{j as e,a as i,T as s,G as t,ap as X,av as D,aw as ne,ar as H,k as A,l as I,H as re,h as q,d as b,m as oe,U as ce,W as le,X as de,at as Z,Y as xe,D as ue,c as he,n as Q,ax as me,ay as pe,ai as je,p as ye,aa as ge}from"./mui-DiYnqcGn.js";import{r as n,L as f,b as V}from"./vendor-DIxetjBo.js";import{u as be,d as Y,e as G}from"./index-DQte3TP3.js";import{m as h}from"./proxy-B_KpOrcW.js";import"./stripe-CQkQ71Kl.js";const v=({title:r,value:T,icon:m,trend:o,color:p="primary"})=>e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsx(A,{sx:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},transition:"all 0.3s ease"},children:e.jsxs(I,{children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(Z,{sx:{bgcolor:`${p}.main`,width:48,height:48},children:m}),o&&e.jsx(q,{label:`${o.direction==="up"?"+":"-"}${o.value}%`,size:"small",color:o.direction==="up"?"success":"error",sx:{fontWeight:600}})]}),e.jsx(s,{variant:"h4",sx:{fontWeight:700,mb:1},children:T}),e.jsx(s,{variant:"body2",color:"text.secondary",children:r})]})})}),J=[{type:"license",title:"License Activated",description:"Pro license activated for john.doe@company.com",timestamp:"2 hours ago",status:"success"},{type:"payment",title:"Payment Successful",description:"Monthly subscription renewed for $297.00",timestamp:"1 day ago",status:"success"},{type:"user",title:"Team Member Added",description:"Sarah Johnson added to development team",timestamp:"2 days ago",status:"success"},{type:"security",title:"Security Alert",description:"New device login detected from New York",timestamp:"3 days ago",status:"warning"}],fe=r=>{switch(r){case"license":return e.jsx(X,{});case"payment":return e.jsx(ge,{});case"user":return e.jsx(D,{});case"security":return e.jsx(ye,{});default:return e.jsx(je,{})}},ve=r=>{switch(r){case"success":return"success.main";case"warning":return"warning.main";case"error":return"error.main";default:return"text.secondary"}},Ae=()=>{var F;const{user:r}=be(),[T,m]=n.useState(!0),[o,p]=n.useState(0),[j,k]=n.useState(0),[ee,W]=n.useState(0),[se,E]=n.useState(0),[w,P]=n.useState(""),[M,U]=n.useState(""),[R,z]=n.useState(!1);n.useEffect(()=>{let a=!0;return(async()=>{var O,N,y,$,_,K;try{m(!0);const[B,te]=await Promise.all([Y.get(G.subscriptions.mySubscriptions()),Y.get(G.licenses.analytics())]),C=((N=(O=B.data)==null?void 0:O.data)==null?void 0:N.subscriptions)??[],ie=C.reduce((c,l)=>{var u,g;return c+(((u=l._count)==null?void 0:u.licenses)??((g=l.licenses)==null?void 0:g.length)??0)},0),ae=C.reduce((c,l)=>{var u;return c+(((u=l.licenses)==null?void 0:u.filter(g=>g.status==="ACTIVE").length)??0)},0);if(!a)return;k(ie),p(ae);const d=C[0];if(d){if(P((($=(y=d.tier)==null?void 0:y.toLowerCase)==null?void 0:$.call(y))??String(d.tier)),d.currentPeriodEnd){const c=new Date(d.currentPeriodEnd),l=Math.max(0,Math.ceil((c.getTime()-Date.now())/(1e3*60*60*24)));U(`${l} day${l===1?"":"s"}`)}z(d.tier==="ENTERPRISE")}const x=(K=(_=te.data)==null?void 0:_.data)==null?void 0:K.summary;if(x){W(x.totalEvents??0);const c=x.eventTypes&&(x.eventTypes.SDK_DOWNLOAD_REQUEST||x.eventTypes.SDK_DOWNLOAD_REQUEST)||0;E(c)}}catch{if(!a)return;p(0),k(0),W(0),E(0),P(""),U(""),z(!1)}finally{a&&m(!1)}})(),()=>{a=!1}},[]);const S=n.useMemo(()=>j<=0?0:Math.round(o/j*100),[o,j]);return e.jsxs(i,{children:[e.jsx(h.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs(i,{sx:{mb:4},children:[e.jsxs(s,{variant:"h4",sx:{fontWeight:700,mb:1},children:["Welcome back, ",((F=r==null?void 0:r.name)==null?void 0:F.split(" ")[0])||"User","! ðŸ‘‹"]}),e.jsx(s,{variant:"h6",color:"text.secondary",sx:{mb:4},children:"Here's what's happening with your BackboneLogic, Inc. licenses"})]})}),e.jsxs(t,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(t,{item:!0,xs:12,sm:6,lg:3,children:e.jsx(v,{title:"Active Licenses",value:o,icon:e.jsx(X,{}),trend:{value:12,direction:"up"},color:"primary"})}),R&&e.jsx(t,{item:!0,xs:12,sm:6,lg:3,children:e.jsx(v,{title:"Team Members",value:8,icon:e.jsx(D,{}),trend:{value:8,direction:"up"},color:"secondary"})}),e.jsx(t,{item:!0,xs:12,sm:6,lg:3,children:e.jsx(v,{title:"Monthly Usage",value:ee,icon:e.jsx(ne,{}),trend:{value:5,direction:"up"},color:"success"})}),e.jsx(t,{item:!0,xs:12,sm:6,lg:3,children:e.jsx(v,{title:"Total Downloads",value:se.toLocaleString(),icon:e.jsx(H,{}),trend:{value:23,direction:"up"},color:"warning"})})]}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,lg:8,children:e.jsx(h.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:e.jsx(A,{sx:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",mb:3},children:e.jsxs(I,{children:[e.jsx(s,{variant:"h6",sx:{fontWeight:600,mb:3},children:"License Overview"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsxs(i,{sx:{mb:3},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(s,{variant:"body2",color:"text.secondary",children:"License Utilization"}),e.jsxs(s,{variant:"body2",sx:{fontWeight:600},children:[S,"%"]})]}),e.jsx(re,{variant:"determinate",value:S,sx:{height:8,borderRadius:4,backgroundColor:"rgba(255,255,255,0.1)","& .MuiLinearProgress-bar":{borderRadius:4,background:S>80?"linear-gradient(90deg, #ff9800 0%, #f44336 100%)":"linear-gradient(90deg, #00d4ff 0%, #667eea 100%)"}}}),e.jsxs(s,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[o," of ",j," licenses in use"]})]}),e.jsxs(i,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Current Plan"}),e.jsx(q,{label:w&&w.charAt(0).toUpperCase()+w.slice(1).toLowerCase()||"â€”",color:"primary",sx:{fontWeight:600,mb:2}}),e.jsx(s,{variant:"body2",color:"text.secondary",children:M?`Next renewal in ${M}`:"â€”"})]})]}),e.jsxs(t,{item:!0,xs:12,md:6,children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Quick Actions"}),e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:1},children:[R&&e.jsx(b,{variant:"outlined",startIcon:e.jsx(D,{}),component:f,to:"/dashboard/team",sx:{justifyContent:"flex-start"},children:"Add Team Member"}),e.jsx(b,{variant:"outlined",startIcon:e.jsx(H,{}),component:f,to:"/dashboard/downloads",sx:{justifyContent:"flex-start"},children:"Download SDK"}),e.jsx(b,{variant:"outlined",startIcon:e.jsx(oe,{}),component:f,to:"/dashboard/billing",sx:{justifyContent:"flex-start"},children:"Upgrade Plan"})]})]})]})]})})})}),e.jsx(t,{item:!0,xs:12,lg:4,children:e.jsx(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:e.jsx(A,{sx:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)",height:"fit-content"},children:e.jsxs(I,{children:[e.jsx(s,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Recent Activity"}),e.jsx(ce,{dense:!0,children:J.map((a,L)=>e.jsxs(V.Fragment,{children:[e.jsxs(le,{sx:{px:0},children:[e.jsx(de,{sx:{minWidth:40},children:e.jsx(Z,{sx:{width:32,height:32,bgcolor:ve(a.status),fontSize:"1rem"},children:fe(a.type)})}),e.jsx(xe,{primary:a.title,secondary:e.jsxs(V.Fragment,{children:[e.jsx(s,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:a.description}),e.jsx(s,{variant:"caption",color:"text.secondary",children:a.timestamp})]}),primaryTypographyProps:{variant:"body2",fontWeight:500}})]}),L<J.length-1&&e.jsx(ue,{variant:"inset",component:"li",sx:{borderColor:"rgba(255,255,255,0.1)"}})]},L))}),e.jsx(b,{variant:"text",size:"small",sx:{mt:2,color:"primary.main"},component:f,to:"/dashboard/activity",children:"View All Activity"})]})})})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:e.jsxs(he,{sx:{p:3,background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx(s,{variant:"h6",sx:{fontWeight:600,mb:2},children:"System Status"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Q,{sx:{color:"success.main",fontSize:20}}),e.jsxs(i,{children:[e.jsx(s,{variant:"body2",sx:{fontWeight:500},children:"License Server"}),e.jsx(s,{variant:"caption",color:"success.main",children:"Operational"})]})]})}),e.jsx(t,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Q,{sx:{color:"success.main",fontSize:20}}),e.jsxs(i,{children:[e.jsx(s,{variant:"body2",sx:{fontWeight:500},children:"API Services"}),e.jsx(s,{variant:"caption",color:"success.main",children:"Operational"})]})]})}),e.jsx(t,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(me,{sx:{color:"warning.main",fontSize:20}}),e.jsxs(i,{children:[e.jsx(s,{variant:"body2",sx:{fontWeight:500},children:"Maintenance"}),e.jsx(s,{variant:"caption",color:"warning.main",children:"Scheduled 2AM EST"})]})]})}),e.jsx(t,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(pe,{sx:{color:"primary.main",fontSize:20}}),e.jsxs(i,{children:[e.jsx(s,{variant:"body2",sx:{fontWeight:500},children:"SDK Version"}),e.jsx(s,{variant:"caption",color:"primary.main",children:"v14.2.1 Available"})]})]})})]})]})})})]})]})};export{Ae as default};
//# sourceMappingURL=DashboardOverview-BvEFf7oD.js.map
