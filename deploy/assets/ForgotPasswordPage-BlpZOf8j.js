import{j as e,a as r,b as g,c as b,N as h,T as a,d as s,s as w,x as p,t as W,u as A,v as I,H as R}from"./mui-DWJOBiaP.js";import{u as P,r as f,L as E}from"./vendor-OeuszDaU.js";import{u as L,C as T}from"./index.esm-BqJ7I8dv.js";import{u as B}from"./notistack.esm-CcFOI6Un.js";import{b as F}from"./index-DUm_pVAd.js";import"./stripe-BXkKel1D.js";const Z=()=>{const i=P(),{enqueueSnackbar:o}=B(),[y,l]=f.useState(!1),[d,c]=f.useState(null),{control:j,handleSubmit:k,watch:v,formState:{errors:x,isSubmitting:m}}=L({defaultValues:{email:""}}),C=v("email"),S=async n=>{try{c(null),await F.forgotPassword(n.email),l(!0),o("Password reset email sent!",{variant:"success"})}catch(t){const u=t.message||"Failed to send reset email. Please try again.";c(u),o(u,{variant:"error"})}};return y?e.jsx(r,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",display:"flex",alignItems:"center",py:{xs:4,md:0}},children:e.jsx(g,{maxWidth:"sm",children:e.jsx(r,{children:e.jsxs(b,{elevation:10,sx:{p:{xs:4,md:6},backgroundColor:"background.paper",borderRadius:3,border:"1px solid rgba(255, 255, 255, 0.1)",textAlign:"center"},children:[e.jsx(r,{sx:{width:80,height:80,borderRadius:2,backgroundColor:"rgba(0, 212, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:3},children:e.jsx(h,{sx:{fontSize:40,color:"primary.main"}})}),e.jsx(a,{variant:"h4",sx:{fontWeight:600,mb:2},children:"Check Your Email"}),e.jsx(a,{variant:"body1",color:"text.secondary",sx:{mb:2},children:"We've sent a password reset link to:"}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,mb:4,color:"primary.main"},children:C}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:4},children:"Click the link in your email to reset your password. The link will expire in 1 hour for security."}),e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(s,{variant:"contained",onClick:()=>i("/login"),sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000"},children:"Back to Login"}),e.jsx(s,{variant:"text",onClick:()=>l(!1),sx:{color:"text.secondary"},children:"Try a different email"})]}),e.jsxs(r,{sx:{mt:4,p:2,backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.jsx("strong",{children:"Didn't receive the email?"})}),e.jsxs(a,{variant:"caption",color:"text.secondary",children:["â€¢ Check your spam/junk folder",e.jsx("br",{}),"â€¢ Make sure the email address is correct",e.jsx("br",{}),"â€¢ Wait a few minutes and try again"]})]})]})})})}):e.jsx(r,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)",display:"flex",alignItems:"center",py:{xs:4,md:0}},children:e.jsx(g,{maxWidth:"sm",children:e.jsxs(r,{children:[e.jsx(r,{sx:{mb:3},children:e.jsx(s,{startIcon:e.jsx(w,{}),onClick:()=>i("/login"),sx:{color:"rgba(255, 255, 255, 0.7)","&:hover":{color:"primary.main",backgroundColor:"rgba(0, 212, 255, 0.1)"}},children:"Back to Login"})}),e.jsxs(b,{elevation:10,sx:{p:{xs:4,md:6},backgroundColor:"background.paper",borderRadius:3,border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs(r,{sx:{textAlign:"center",mb:4},children:[e.jsx(r,{sx:{width:80,height:80,borderRadius:2,backgroundColor:"rgba(0, 212, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:3},children:e.jsx(p,{sx:{fontSize:40,color:"primary.main"}})}),e.jsx(a,{variant:"h4",sx:{fontWeight:600,mb:1,background:"linear-gradient(135deg, #ffffff 0%, #00d4ff 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Forgot Password?"}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"No worries! Enter your email and we'll send you a reset link."})]}),d&&e.jsx(W,{severity:"error",sx:{mb:3},children:d}),e.jsxs(r,{component:"form",onSubmit:k(S),children:[e.jsx(T,{name:"email",control:j,rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Please enter a valid email address"}},render:({field:n})=>{var t;return e.jsx(A,{...n,fullWidth:!0,label:"Email Address",type:"email",error:!!x.email,helperText:(t=x.email)==null?void 0:t.message,sx:{mb:3,"& .MuiOutlinedInput-root":{backgroundColor:"rgba(255, 255, 255, 0.05)"}},InputProps:{startAdornment:e.jsx(I,{position:"start",children:e.jsx(p,{sx:{color:"text.secondary"}})})}})}}),e.jsx(s,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:m,startIcon:e.jsx(h,{}),sx:{py:1.5,fontSize:"1.1rem",fontWeight:600,background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000",mb:3,"&:hover":{background:"linear-gradient(135deg, #33ddff 0%, #7b8eed 100%)"},"&:disabled":{background:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.5)"}},children:m?"Sending Reset Link...":"Send Reset Link"})]}),e.jsxs(r,{sx:{textAlign:"center"},children:[e.jsxs(a,{variant:"body2",color:"text.secondary",children:["Remember your password?"," ",e.jsx(R,{component:E,to:"/login",sx:{color:"primary.main",textDecoration:"none",fontWeight:600,"&:hover":{textDecoration:"underline"}},children:"Sign in here"})]}),e.jsx(a,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block"},children:"ðŸ”’ Reset links expire after 1 hour for your security"})]})]})]})})})};export{Z as default};
