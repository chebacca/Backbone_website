import{j as a,a as l,C as u,T as e,d as o}from"./mui-Bfk3EfzY.js";import{j as x,u as m,r as c}from"./vendor-OeuszDaU.js";import{c as p,e as h}from"./index-DXZxefko.js";import{u as g}from"./notistack.esm-CcFOI6Un.js";import"./stripe-CV5HSYwT.js";const k=()=>{const[d]=x(),i=m(),{enqueueSnackbar:n}=g(),[r,s]=c.useState("pending");return c.useEffect(()=>{(async()=>{try{const t=d.get("token");if(!t){s("error"),n("Missing invitation token",{variant:"error"});return}await p.post(h.organizations.acceptInvitation(),{token:t}),s("success"),n("Invitation accepted. License assigned.",{variant:"success"})}catch(t){s("error"),n((t==null?void 0:t.message)||"Failed to accept invitation",{variant:"error"})}})()},[]),a.jsxs(l,{sx:{display:"flex",minHeight:"60vh",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:2},children:[r==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(u,{}),a.jsx(e,{variant:"body1",children:"Accepting your invitation…"})]}),r==="success"&&a.jsxs(a.Fragment,{children:[a.jsx(e,{variant:"h6",sx:{fontWeight:700},children:"You’re all set!"}),a.jsx(e,{variant:"body2",color:"text.secondary",children:"Your organization access is active."}),a.jsx(o,{variant:"contained",onClick:()=>i("/dashboard/team"),children:"Go to Team"})]}),r==="error"&&a.jsxs(a.Fragment,{children:[a.jsx(e,{variant:"h6",color:"error",sx:{fontWeight:700},children:"Unable to accept invitation"}),a.jsx(e,{variant:"body2",color:"text.secondary",children:"Your token may be invalid or expired."}),a.jsx(o,{variant:"outlined",onClick:()=>i("/dashboard/team"),children:"Back to Team"})]})]})};export{k as default};
