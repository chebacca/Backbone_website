const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UnifiedDataService-BaFOuxm7.js","assets/index-CHgXrSvL.js","assets/mui-BN540ctE.js","assets/vendor-CjD1bmmO.js","assets/stripe-C-GNnApq.js","assets/index-CBai7h7s.css","assets/index.esm-DonjM_pP.js","assets/index.esm-D7ujsXeY.js"])))=>i.map(i=>d[i]);
import{_ as ss}from"./index-CHgXrSvL.js";import{j as e,B as i,C as ns,T as t,d as L,ai as H,w as ts,x as ue,y as S,aj as Ee,z as je,H as as,a as p,ap as ge,G as N,ae as we,p as Q,am as Ie,al as is,t as me,v as fe,i as rs,af as ls,aq as cs,ar as os,as as ds,at as pe,au as c,av as xs,r as X,u as hs,ag as ve,g as us,aw as js,ax as gs,ay as F,az as z,aA as ye,aB as $,aC as B,aD as M,aE as G,a5 as o,e as J,aF as _,aG as Le,aH as Ce,aI as be,a4 as ms,aJ as fs,D as Se,aK as De}from"./mui-BN540ctE.js";import{r as h}from"./vendor-CjD1bmmO.js";import{u as ps}from"./notistack.esm-Ca-E78ev.js";import{u as vs,a as ys,b as Ls,c as Cs,d as bs,e as Ss,f as Es,g as ws}from"./useStreamlinedData-CzHPPLA-.js";import{M as V}from"./MetricCard-D6gfkAIi.js";import"./stripe-C-GNnApq.js";import"./UnifiedDataService-BaFOuxm7.js";import"./index.esm-DonjM_pP.js";import"./index.esm-D7ujsXeY.js";const Is=n=>{switch(n){case"ACTIVE":return"success";case"PENDING":return"warning";case"SUSPENDED":return"error";case"EXPIRED":return"default";default:return"default"}},Ds=n=>{switch(n){case"ACTIVE":return e.jsx(Q,{});case"PENDING":return e.jsx(Ie,{});case"SUSPENDED":return e.jsx(De,{});case"EXPIRED":return e.jsx(Ee,{});default:return e.jsx(we,{})}},As=n=>{switch(n){case"BASIC":return"default";case"PROFESSIONAL":return"primary";case"ENTERPRISE":return"secondary";default:return"default"}},Ts=()=>{const n=[];for(let r=0;r<4;r++)n.push(Math.random().toString(36).substr(2,4).toUpperCase());return`BL14-${n.join("-")}`},Ae=(n,r)=>{if(!n)return"Unassigned";if(r&&n.email){const d=r.find(C=>C.email.toLowerCase()===n.email.toLowerCase());if(d){if(d.firstName&&d.lastName)return`${d.firstName} ${d.lastName}`;if(d.firstName)return d.firstName;if(d.lastName)return d.lastName}}return n.name&&n.name!=="Unknown User"?n.name:n.email?n.email.split("@")[0].replace(/[._-]/g," ").split(" ").map(E=>E.charAt(0).toUpperCase()+E.slice(1).toLowerCase()).join(" "):"Unknown User"},Ns=(n,r)=>{if(!n)return"?";const d=Ae(n,r);if(d==="Unassigned"||d==="Unknown User")return"?";const C=d.split(" ");return C.length>=2?(C[0].charAt(0)+C[1].charAt(0)).toUpperCase():d.charAt(0).toUpperCase()},Y=n=>n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:n.firstName?n.firstName:n.lastName?n.lastName:n.email.split("@")[0],_s=()=>{var he;const{enqueueSnackbar:n}=ps(),{data:r,loading:d,error:C}=vs(),{data:E,loading:Te,error:Ne}=ys(),{data:j,loading:ke,error:Pe,refetch:v}=Ls(),{data:m,loading:We,error:Re}=Cs(),Ue=bs(),q=Ss(),Oe=Es();ws();const[Fe,D]=h.useState(!1),[ze,k]=h.useState(!1),[$e,P]=h.useState(!1),[Be,W]=h.useState(!1),[a,A]=h.useState(null),[Z,ee]=h.useState(null),[ks,Ps]=h.useState(""),[R,se]=h.useState(""),[b,ne]=h.useState("PROFESSIONAL"),[y,te]=h.useState(1),[ae,ie]=h.useState(""),[re,le]=h.useState("PROFESSIONAL"),[ce,oe]=h.useState("PENDING"),[de,xe]=h.useState(""),Me=d||Te||ke||We,Ge=C||Ne||Pe||Re;h.useEffect(()=>{const s=async l=>{var x;const g=l;console.log("ðŸ”„ License refresh event received:",g.detail),((x=g.detail)==null?void 0:x.action)==="created"&&await v()};return window.addEventListener("licenses:refresh",s),()=>{window.removeEventListener("licenses:refresh",s)}},[v]);const f=h.useMemo(()=>{if(!r||!E||!j)return{licenses:[],stats:{totalLicenses:0,activeLicenses:0,expiringSoon:0,unassignedLicenses:0,utilizationRate:0}};const s=j.length,l=j.filter(I=>I.status==="ACTIVE").length,g=j.filter(I=>{const O=new Date(I.expiresAt),K=new Date(Date.now()+30*24*60*60*1e3);return O<=K}).length,x=j.filter(I=>!I.assignedTo).length,u=s>0?l/s*100:0;return{licenses:j,stats:{totalLicenses:s,activeLicenses:l,expiringSoon:g,unassignedLicenses:x,utilizationRate:u}}},[r,E,j]),_e=(s,l)=>{A(l),ee(s.currentTarget)},w=()=>{ee(null),A(null)},Ve=s=>{navigator.clipboard.writeText(s),n("License key copied to clipboard",{variant:"success"}),w()},U=h.useMemo(()=>{if(!m||!j)return[];const s=j.filter(l=>{var g;return(g=l.assignedTo)==null?void 0:g.userId}).map(l=>l.assignedTo.userId);return m.filter(l=>!s.includes(l.id))},[m,j]),qe=async()=>{if(!a||!R){n("Please select a valid team member to assign the license to",{variant:"error"});return}try{await Oe.mutate({licenseId:a.id,userId:R});const s=m==null?void 0:m.find(g=>g.id===R),l=s?Y(s):"Unknown User";n(`License assigned to ${l}`,{variant:"success"}),se(""),k(!1),w(),v()}catch(s){n((s==null?void 0:s.message)||"Failed to assign license",{variant:"error"})}},Ke=async()=>{var s,l,g;try{console.log("ðŸŽ« Starting license creation for",y,"license(s)...");const x=(j==null?void 0:j.length)||0;for(let u=0;u<y;u++){const T=Ts(),I=x+u+1,O=`${b} License #${I.toString().padStart(3,"0")}`,K={key:T,name:O,tier:b,status:"PENDING",organization:{id:((s=r==null?void 0:r.organization)==null?void 0:s.id)||"",name:((l=r==null?void 0:r.organization)==null?void 0:l.name)||"",tier:((g=r==null?void 0:r.organization)==null?void 0:g.tier)||"BASIC"},usage:{apiCalls:0,dataTransfer:0,deviceCount:0,maxDevices:b==="ENTERPRISE"?10:b==="PROFESSIONAL"?5:2},expiresAt:new Date(Date.now()+365*24*60*60*1e3)};console.log(`ðŸŽ« Creating license ${u+1}/${y}: ${O} (${T})`);const es=await Ue.mutate(K);console.log(`âœ… License created with ID: ${es}`)}n(`${y} ${b.toLowerCase()} license(s) created successfully and ready for assignment`,{variant:"success"}),ne("PROFESSIONAL"),te(1),D(!1),console.log("ðŸ”„ Refreshing license data after creation..."),await v();try{const{unifiedDataService:u}=await ss(async()=>{const{unifiedDataService:T}=await import("./UnifiedDataService-BaFOuxm7.js");return{unifiedDataService:T}},__vite__mapDeps([0,1,2,3,4,5,6,7]));await u.forceRefreshLicenses(),console.log("ðŸ”„ Force refreshed license data via UnifiedDataService")}catch(u){console.warn("âš ï¸ Failed to force refresh via UnifiedDataService:",u)}setTimeout(async()=>{console.log("ðŸ”„ Secondary refresh for eventual consistency..."),await v()},1e3),setTimeout(async()=>{console.log("ðŸ”„ Final refresh for safety..."),await v()},3e3),window.dispatchEvent(new CustomEvent("licenses:refresh",{detail:{action:"created",count:y,tier:b}}))}catch(x){console.error("âŒ License creation failed:",x),n((x==null?void 0:x.message)||"Failed to create license",{variant:"error"})}},He=async()=>{if(a){try{await q.mutate({licenseId:a.id,updates:{status:"SUSPENDED"}}),n(`License ${a.name} has been suspended`,{variant:"warning"}),v()}catch(s){n((s==null?void 0:s.message)||"Failed to suspend license",{variant:"error"})}w()}},Xe=async()=>{if(a){try{await q.mutate({licenseId:a.id,updates:{status:"ACTIVE"}}),n(`License ${a.name} has been activated`,{variant:"success"}),v()}catch(s){n((s==null?void 0:s.message)||"Failed to activate license",{variant:"error"})}w()}},Je=()=>{a&&(W(!0),w())},Ye=async()=>{if(a)try{n(`License ${a.name} has been deleted`,{variant:"success"}),W(!1),A(null),v()}catch(s){n((s==null?void 0:s.message)||"Failed to delete license",{variant:"error"})}},Qe=s=>{A(s),ie(s.name),le(s.tier),oe(s.status),xe(new Date(s.expiresAt).toISOString().split("T")[0]),P(!0),w()},Ze=async()=>{if(a)try{await q.mutate({licenseId:a.id,updates:{name:ae,tier:re,status:ce,expiresAt:new Date(de)}}),n(`License ${a.name} updated successfully`,{variant:"success"}),P(!1),A(null),v()}catch(s){n((s==null?void 0:s.message)||"Failed to update license",{variant:"error"})}};return Me?e.jsx(i,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsxs(i,{textAlign:"center",children:[e.jsx(ns,{size:60}),e.jsx(t,{variant:"h6",sx:{mt:2},children:"Loading License Data..."}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"Fetching your licenses and subscription details"})]})}):Ge?e.jsx(i,{sx:{p:3},children:e.jsxs(L,{severity:"error",children:[e.jsx(H,{children:"Unable to Load License Data"}),e.jsx(t,{variant:"body2",sx:{mb:2},children:"We encountered an issue loading your license information. This could be due to:"}),e.jsxs(ts,{dense:!0,children:[e.jsxs(ue,{children:[e.jsx(S,{children:e.jsx(Ee,{fontSize:"small"})}),e.jsx(je,{primary:"Network connectivity issues"})]}),e.jsxs(ue,{children:[e.jsx(S,{children:e.jsx(as,{fontSize:"small"})}),e.jsx(je,{primary:"Authentication token expired"})]})]}),e.jsx(i,{sx:{mt:2},children:e.jsx(p,{variant:"contained",onClick:()=>window.location.reload(),children:"Retry"})})]})}):!r||!E?e.jsx(i,{sx:{p:3},children:e.jsxs(L,{severity:"info",children:[e.jsx(H,{children:"Setting Up License Management"}),e.jsx(t,{variant:"body2",children:"We're preparing your license management dashboard. This may take a moment for new accounts."})]})}):e.jsxs(i,{children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(i,{children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,mb:1},children:"License Management"}),e.jsxs(t,{variant:"body1",color:"text.secondary",children:["Manage your ",((he=E.organization)==null?void 0:he.name)||"Organization"," licenses and assignments",j&&e.jsxs("span",{style:{marginLeft:"8px",fontWeight:500,color:"primary.main"},children:["â€¢ ",j.length," total licenses"]})]})]}),e.jsx(p,{variant:"contained",startIcon:e.jsx(ge,{}),onClick:()=>D(!0),sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000",fontWeight:600},children:"Generate Licenses"})]}),e.jsxs(N,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(N,{item:!0,xs:12,sm:6,md:3,children:e.jsx(V,{title:"Total Licenses",value:f.stats.totalLicenses.toString(),icon:e.jsx(we,{}),color:"primary"})}),e.jsx(N,{item:!0,xs:12,sm:6,md:3,children:e.jsx(V,{title:"Active Licenses",value:f.stats.activeLicenses.toString(),icon:e.jsx(Q,{}),color:"success"})}),e.jsx(N,{item:!0,xs:12,sm:6,md:3,children:e.jsx(V,{title:"Expiring Soon",value:f.stats.expiringSoon.toString(),icon:e.jsx(Ie,{}),color:"warning"})}),e.jsx(N,{item:!0,xs:12,sm:6,md:3,children:e.jsx(V,{title:"Unassigned",value:f.stats.unassignedLicenses.toString(),icon:e.jsx(is,{}),color:"secondary"})})]}),e.jsx(me,{sx:{mb:4},children:e.jsxs(fe,{children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:2},children:"License Utilization"}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[e.jsx(rs,{variant:"determinate",value:f.stats.utilizationRate,sx:{flex:1,height:8,borderRadius:4}}),e.jsxs(t,{variant:"body2",sx:{minWidth:60},children:[f.stats.utilizationRate.toFixed(1),"%"]})]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:[f.stats.activeLicenses," of ",f.stats.totalLicenses," licenses are currently active"]})]})}),f.stats.expiringSoon>0&&e.jsxs(L,{severity:"warning",sx:{mb:4},children:[e.jsx(H,{children:"Licenses Expiring Soon"}),e.jsxs(t,{variant:"body2",sx:{mb:2},children:[f.stats.expiringSoon," license(s) will expire within the next 30 days."]}),e.jsx(p,{variant:"outlined",size:"small",onClick:()=>window.open("/dashboard/billing","_blank"),children:"Renew Licenses"})]}),e.jsx(me,{children:e.jsxs(fe,{children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(t,{variant:"h6",sx:{fontWeight:600},children:["All Licenses (",f.licenses.length,")"]}),e.jsx(p,{variant:"outlined",startIcon:e.jsx(ls,{}),onClick:()=>n("License report downloaded",{variant:"success"}),children:"Export Report"})]}),e.jsx(cs,{children:e.jsxs(os,{children:[e.jsx(ds,{children:e.jsxs(pe,{children:[e.jsx(c,{sx:{fontWeight:600},children:"License"}),e.jsx(c,{sx:{fontWeight:600},children:"Tier"}),e.jsx(c,{sx:{fontWeight:600},children:"Status"}),e.jsx(c,{sx:{fontWeight:600},children:"Assigned To"}),e.jsx(c,{sx:{fontWeight:600},children:"Department"}),e.jsx(c,{sx:{fontWeight:600},children:"Role"}),e.jsx(c,{sx:{fontWeight:600},children:"Usage"}),e.jsx(c,{sx:{fontWeight:600},children:"Expires"}),e.jsx(c,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(xs,{children:f.licenses.map(s=>{var l,g;return e.jsxs(pe,{hover:!0,children:[e.jsx(c,{children:e.jsxs(i,{children:[e.jsx(t,{variant:"body1",sx:{fontWeight:500},children:s.name}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{fontFamily:"monospace"},children:s.key})]})}),e.jsx(c,{children:e.jsx(X,{label:s.tier,color:As(s.tier),size:"small",icon:s.tier==="ENTERPRISE"?e.jsx(hs,{}):void 0})}),e.jsx(c,{children:e.jsx(X,{icon:Ds(s.status),label:s.status,color:Is(s.status),size:"small"})}),e.jsx(c,{children:s.assignedTo?e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ve,{sx:{width:24,height:24},children:Ns(s.assignedTo,m)}),e.jsxs(i,{children:[e.jsx(t,{variant:"body2",sx:{fontWeight:500},children:Ae(s.assignedTo,m)}),e.jsx(t,{variant:"caption",color:"text.secondary",children:s.assignedTo.email})]})]}):e.jsx(t,{variant:"body2",color:"text.secondary",children:"Unassigned"})}),e.jsx(c,{children:e.jsx(t,{variant:"body2",color:"text.secondary",children:s.assignedTo?((l=m==null?void 0:m.find(x=>{var u;return x.email===((u=s.assignedTo)==null?void 0:u.email)}))==null?void 0:l.department)||"Not specified":"â€”"})}),e.jsx(c,{children:s.assignedTo?e.jsx(X,{label:((g=m==null?void 0:m.find(x=>{var u;return x.email===((u=s.assignedTo)==null?void 0:u.email)}))==null?void 0:g.role)||"Member",color:"primary",size:"small",variant:"outlined"}):e.jsx(t,{variant:"body2",color:"text.secondary",children:"â€”"})}),e.jsx(c,{children:e.jsxs(i,{children:[e.jsxs(t,{variant:"body2",children:[s.usage.apiCalls.toLocaleString()," API calls"]}),e.jsxs(t,{variant:"caption",color:"text.secondary",children:[s.usage.dataTransfer," GB transferred"]})]})}),e.jsx(c,{children:e.jsx(t,{variant:"body2",color:new Date(s.expiresAt)<=new Date(Date.now()+30*24*60*60*1e3)?"warning.main":"text.primary",children:new Date(s.expiresAt).toLocaleDateString()})}),e.jsx(c,{children:e.jsx(us,{size:"small",onClick:x=>_e(x,s),children:e.jsx(js,{})})})]},s.id)})})]})})]})}),e.jsx(gs,{color:"primary",sx:{position:"fixed",bottom:16,right:16,display:{xs:"flex",md:"none"}},onClick:()=>D(!0),children:e.jsx(ge,{})}),e.jsxs(F,{open:Fe,onClose:()=>D(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(z,{children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ye,{color:"primary"}),"Generate New Licenses"]})}),e.jsx($,{children:e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[e.jsxs(L,{severity:"info",children:[e.jsx(t,{variant:"body2",sx:{mb:1},children:e.jsx("strong",{children:"Automatic License Generation"})}),e.jsx(t,{variant:"body2",children:"Licenses will be automatically generated with unique names and keys. You can assign them to team members after creation."})]}),e.jsxs(B,{fullWidth:!0,children:[e.jsx(M,{children:"License Tier"}),e.jsxs(G,{value:b,label:"License Tier",onChange:s=>ne(s.target.value),children:[e.jsx(o,{value:"BASIC",children:e.jsxs(i,{children:[e.jsx(t,{variant:"body1",children:"Basic"}),e.jsx(t,{variant:"caption",color:"text.secondary",children:"Limited features â€¢ 2 max devices"})]})}),e.jsx(o,{value:"PROFESSIONAL",children:e.jsxs(i,{children:[e.jsx(t,{variant:"body1",children:"Professional"}),e.jsx(t,{variant:"caption",color:"text.secondary",children:"Full features â€¢ 5 max devices"})]})}),e.jsx(o,{value:"ENTERPRISE",children:e.jsxs(i,{children:[e.jsx(t,{variant:"body1",children:"Enterprise"}),e.jsx(t,{variant:"caption",color:"text.secondary",children:"Advanced features â€¢ 10 max devices"})]})})]})]}),e.jsx(J,{fullWidth:!0,label:"Number of Licenses to Generate",type:"number",value:y,onChange:s=>te(parseInt(s.target.value)||1),inputProps:{min:1,max:50},helperText:`Will generate ${y} ${b.toLowerCase()} license${y>1?"s":""}`}),e.jsx(L,{severity:"success",children:e.jsxs(t,{variant:"body2",children:["âœ… Each license will have a 1-year validity period",e.jsx("br",{}),"âœ… Licenses can be assigned to team members immediately",e.jsx("br",{}),"âœ… Unique license keys will be automatically generated"]})})]})}),e.jsxs(_,{children:[e.jsx(p,{onClick:()=>D(!1),children:"Cancel"}),e.jsxs(p,{onClick:Ke,variant:"contained",startIcon:e.jsx(ye,{}),sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000",fontWeight:600},children:["Generate ",y," License",y>1?"s":""]})]})]}),e.jsxs(F,{open:ze,onClose:()=>k(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(z,{children:"Assign License"}),e.jsx($,{children:a&&e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[e.jsx(L,{severity:"info",children:e.jsxs(t,{variant:"body2",children:["Assigning license: ",e.jsx("strong",{children:a.name})]})}),e.jsxs(B,{fullWidth:!0,children:[e.jsx(M,{children:"Assign To"}),e.jsx(G,{value:R,label:"Assign To",onChange:s=>se(s.target.value),disabled:U.length===0,children:U.length===0?e.jsx(o,{disabled:!0,children:e.jsx(t,{variant:"body2",color:"text.secondary",children:"No available team members for assignment"})}):U.map(s=>e.jsx(o,{value:s.id,children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ve,{sx:{width:24,height:24},children:Y(s).charAt(0)}),e.jsxs(i,{children:[e.jsx(t,{variant:"body2",sx:{fontWeight:500},children:Y(s)}),e.jsx(t,{variant:"caption",color:"text.secondary",children:s.email})]})]})},s.id))})]}),U.length===0&&e.jsx(L,{severity:"info",children:e.jsx(t,{variant:"body2",children:"All team members already have licenses assigned. To assign this license, you'll need to unassign another license first or invite new team members."})}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"The user will receive an email with instructions to activate their license."})]})}),e.jsxs(_,{children:[e.jsx(p,{onClick:()=>k(!1),children:"Cancel"}),e.jsx(p,{onClick:qe,variant:"contained",startIcon:e.jsx(Le,{}),children:"Assign License"})]})]}),e.jsxs(F,{open:Be,onClose:()=>W(!1),maxWidth:"sm",children:[e.jsx(z,{children:"Delete License"}),e.jsx($,{children:a&&e.jsxs(i,{children:[e.jsxs(t,{variant:"body1",sx:{mb:2},children:["Are you sure you want to delete ",e.jsx("strong",{children:a.name}),"?"]}),e.jsx(L,{severity:"warning",children:e.jsx(t,{variant:"body2",children:"This action cannot be undone. The license will be permanently removed and any assigned user will lose access."})})]})}),e.jsxs(_,{children:[e.jsx(p,{onClick:()=>W(!1),children:"Cancel"}),e.jsx(p,{onClick:Ye,variant:"contained",color:"error",startIcon:e.jsx(Ce,{}),children:"Delete License"})]})]}),e.jsxs(F,{open:$e,onClose:()=>P(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(z,{children:"Edit License"}),e.jsx($,{children:a&&e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[e.jsx(J,{fullWidth:!0,label:"License Name",value:ae,onChange:s=>ie(s.target.value),placeholder:"Development Team License"}),e.jsxs(B,{fullWidth:!0,children:[e.jsx(M,{children:"License Tier"}),e.jsxs(G,{value:re,label:"License Tier",onChange:s=>le(s.target.value),children:[e.jsx(o,{value:"BASIC",children:"Basic - Limited features"}),e.jsx(o,{value:"PROFESSIONAL",children:"Pro - Full features"}),e.jsx(o,{value:"ENTERPRISE",children:"Enterprise - Advanced features"})]})]}),e.jsxs(B,{fullWidth:!0,children:[e.jsx(M,{children:"Status"}),e.jsxs(G,{value:ce,label:"Status",onChange:s=>oe(s.target.value),children:[e.jsx(o,{value:"PENDING",children:"Pending"}),e.jsx(o,{value:"ACTIVE",children:"Active"}),e.jsx(o,{value:"SUSPENDED",children:"Suspended"}),e.jsx(o,{value:"EXPIRED",children:"Expired"})]})]}),e.jsx(J,{fullWidth:!0,label:"Expiration Date",type:"date",value:de,onChange:s=>xe(s.target.value),InputLabelProps:{shrink:!0}}),e.jsx(L,{severity:"info",children:e.jsx(t,{variant:"body2",children:"Changing the license tier will update the maximum device limit and feature access. Status changes will immediately affect the user's access to the system."})})]})}),e.jsxs(_,{children:[e.jsx(p,{onClick:()=>P(!1),children:"Cancel"}),e.jsx(p,{onClick:Ze,variant:"contained",startIcon:e.jsx(be,{}),children:"Save Changes"})]})]}),e.jsxs(ms,{anchorEl:Z,open:!!Z,onClose:w,children:[e.jsxs(o,{onClick:()=>a&&Ve(a.key),children:[e.jsx(S,{children:e.jsx(fs,{})}),"Copy License Key"]}),!(a!=null&&a.assignedTo)&&e.jsxs(o,{onClick:()=>k(!0),children:[e.jsx(S,{children:e.jsx(Le,{})}),"Assign License"]}),e.jsxs(o,{onClick:()=>Qe(a),children:[e.jsx(S,{children:e.jsx(be,{})}),"Edit License"]}),e.jsx(Se,{}),(a==null?void 0:a.status)==="ACTIVE"?e.jsxs(o,{onClick:He,children:[e.jsx(S,{children:e.jsx(De,{})}),"Suspend License"]}):e.jsxs(o,{onClick:Xe,children:[e.jsx(S,{children:e.jsx(Q,{})}),"Activate License"]}),e.jsx(Se,{}),e.jsxs(o,{onClick:Je,sx:{color:"error.main"},children:[e.jsx(S,{children:e.jsx(Ce,{sx:{color:"error.main"}})}),"Delete License"]})]})]})};export{_s as default};
