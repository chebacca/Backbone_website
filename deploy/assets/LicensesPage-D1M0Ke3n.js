import{j as e,B as i,C as ss,T as t,d as L,ai as X,w as ns,x as ue,y as S,aj as Ee,z as je,H as ts,a as p,ap as ge,G as N,ae as we,p as Q,am as Ie,al as as,t as me,v as fe,i as is,af as rs,aq as ls,ar as cs,as as os,at as pe,au as c,av as ds,r as _,u as xs,ag as ve,g as hs,aw as us,ax as js,ay as O,az as z,aA as ye,aB as F,aC as $,aD as B,aE as M,a5 as o,e as J,aF as G,aG as Le,aH as Ce,aI as be,a4 as gs,aJ as ms,D as Se,aK as De}from"./mui-BN540ctE.js";import{r as h}from"./vendor-CjD1bmmO.js";import{u as fs}from"./notistack.esm-Ca-E78ev.js";import{u as ps,a as vs,b as ys,c as Ls,d as Cs,e as bs,f as Ss,g as Es}from"./useStreamlinedData-CN1Ddj1g.js";import{M as V}from"./MetricCard-D6gfkAIi.js";import"./UnifiedDataService-ChU7aDz8.js";import"./index-QI6vUtjw.js";import"./stripe-C-GNnApq.js";import"./index.esm-DonjM_pP.js";import"./index.esm-D7ujsXeY.js";const ws=n=>{switch(n){case"ACTIVE":return"success";case"PENDING":return"warning";case"SUSPENDED":return"error";case"EXPIRED":return"default";default:return"default"}},Is=n=>{switch(n){case"ACTIVE":return e.jsx(Q,{});case"PENDING":return e.jsx(Ie,{});case"SUSPENDED":return e.jsx(De,{});case"EXPIRED":return e.jsx(Ee,{});default:return e.jsx(we,{})}},Ds=n=>{switch(n){case"BASIC":return"default";case"PROFESSIONAL":return"primary";case"ENTERPRISE":return"secondary";default:return"default"}},As=()=>{const n=[];for(let r=0;r<4;r++)n.push(Math.random().toString(36).substr(2,4).toUpperCase());return`BL14-${n.join("-")}`},Ae=(n,r)=>{if(!n)return"Unassigned";if(r&&n.email){const d=r.find(C=>C.email.toLowerCase()===n.email.toLowerCase());if(d){if(d.firstName&&d.lastName)return`${d.firstName} ${d.lastName}`;if(d.firstName)return d.firstName;if(d.lastName)return d.lastName}}return n.name&&n.name!=="Unknown User"?n.name:n.email?n.email.split("@")[0].replace(/[._-]/g," ").split(" ").map(E=>E.charAt(0).toUpperCase()+E.slice(1).toLowerCase()).join(" "):"Unknown User"},Ns=(n,r)=>{if(!n)return"?";const d=Ae(n,r);if(d==="Unassigned"||d==="Unknown User")return"?";const C=d.split(" ");return C.length>=2?(C[0].charAt(0)+C[1].charAt(0)).toUpperCase():d.charAt(0).toUpperCase()},Y=n=>n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:n.firstName?n.firstName:n.lastName?n.lastName:n.email.split("@")[0],Gs=()=>{var he;const{enqueueSnackbar:n}=fs(),{data:r,loading:d,error:C}=ps(),{data:E,loading:Ne,error:Te}=vs(),{data:u,loading:ke,error:Pe,refetch:y}=ys(),{data:g,loading:We,error:Re}=Ls(),Ue=Cs(),q=bs(),Oe=Ss();Es();const[ze,D]=h.useState(!1),[Fe,T]=h.useState(!1),[$e,k]=h.useState(!1),[Be,P]=h.useState(!1),[a,A]=h.useState(null),[Z,ee]=h.useState(null),[Ts,ks]=h.useState(""),[W,se]=h.useState(""),[b,ne]=h.useState("PROFESSIONAL"),[v,te]=h.useState(1),[ae,ie]=h.useState(""),[re,le]=h.useState("PROFESSIONAL"),[ce,oe]=h.useState("PENDING"),[de,xe]=h.useState(""),Me=d||Ne||ke||We,Ge=C||Te||Pe||Re;h.useEffect(()=>{const s=async l=>{var x;const j=l;console.log("ðŸ”„ License refresh event received:",j.detail),((x=j.detail)==null?void 0:x.action)==="created"&&await y()};return window.addEventListener("licenses:refresh",s),()=>{window.removeEventListener("licenses:refresh",s)}},[y]);const m=h.useMemo(()=>{if(!r||!E||!u)return{licenses:[],stats:{totalLicenses:0,activeLicenses:0,expiringSoon:0,unassignedLicenses:0,utilizationRate:0}};const s=u.length,l=u.filter(I=>I.status==="ACTIVE").length,j=u.filter(I=>{const U=new Date(I.expiresAt),H=new Date(Date.now()+30*24*60*60*1e3);return U<=H}).length,x=u.filter(I=>!I.assignedTo).length,f=s>0?l/s*100:0;return{licenses:u,stats:{totalLicenses:s,activeLicenses:l,expiringSoon:j,unassignedLicenses:x,utilizationRate:f}}},[r,E,u]),Ve=(s,l)=>{A(l),ee(s.currentTarget)},w=()=>{ee(null),A(null)},qe=s=>{navigator.clipboard.writeText(s),n("License key copied to clipboard",{variant:"success"}),w()},R=h.useMemo(()=>{if(!g||!u)return[];const s=u.filter(l=>{var j;return(j=l.assignedTo)==null?void 0:j.userId}).map(l=>l.assignedTo.userId);return g.filter(l=>!s.includes(l.id))},[g,u]),Ke=async()=>{if(!a||!W){n("Please select a valid team member to assign the license to",{variant:"error"});return}try{await Oe.mutate({licenseId:a.id,userId:W});const s=g==null?void 0:g.find(j=>j.id===W),l=s?Y(s):"Unknown User";n(`License assigned to ${l}`,{variant:"success"}),se(""),T(!1),w(),y()}catch(s){n((s==null?void 0:s.message)||"Failed to assign license",{variant:"error"})}},He=async()=>{var s,l,j;try{console.log("ðŸŽ« Starting license creation for",v,"license(s)...");const x=(u==null?void 0:u.length)||0;for(let f=0;f<v;f++){const K=As(),I=x+f+1,U=`${b} License #${I.toString().padStart(3,"0")}`,H={key:K,name:U,tier:b,status:"PENDING",organization:{id:((s=r==null?void 0:r.organization)==null?void 0:s.id)||"",name:((l=r==null?void 0:r.organization)==null?void 0:l.name)||"",tier:((j=r==null?void 0:r.organization)==null?void 0:j.tier)||"BASIC"},usage:{apiCalls:0,dataTransfer:0,deviceCount:0,maxDevices:b==="ENTERPRISE"?10:b==="PROFESSIONAL"?5:2},expiresAt:new Date(Date.now()+365*24*60*60*1e3)};console.log(`ðŸŽ« Creating license ${f+1}/${v}: ${U} (${K})`);const es=await Ue.mutate(H);console.log(`âœ… License created with ID: ${es}`)}n(`${v} ${b.toLowerCase()} license(s) created successfully and ready for assignment`,{variant:"success"}),ne("PROFESSIONAL"),te(1),D(!1),console.log("ðŸ”„ Refreshing license data after creation..."),await y(),setTimeout(async()=>{console.log("ðŸ”„ Secondary refresh for eventual consistency..."),await y()},1e3),window.dispatchEvent(new CustomEvent("licenses:refresh",{detail:{action:"created",count:v,tier:b}}))}catch(x){console.error("âŒ License creation failed:",x),n((x==null?void 0:x.message)||"Failed to create license",{variant:"error"})}},Xe=async()=>{if(a){try{await q.mutate({licenseId:a.id,updates:{status:"SUSPENDED"}}),n(`License ${a.name} has been suspended`,{variant:"warning"}),y()}catch(s){n((s==null?void 0:s.message)||"Failed to suspend license",{variant:"error"})}w()}},_e=async()=>{if(a){try{await q.mutate({licenseId:a.id,updates:{status:"ACTIVE"}}),n(`License ${a.name} has been activated`,{variant:"success"}),y()}catch(s){n((s==null?void 0:s.message)||"Failed to activate license",{variant:"error"})}w()}},Je=()=>{a&&(P(!0),w())},Ye=async()=>{if(a)try{n(`License ${a.name} has been deleted`,{variant:"success"}),P(!1),A(null),y()}catch(s){n((s==null?void 0:s.message)||"Failed to delete license",{variant:"error"})}},Qe=s=>{A(s),ie(s.name),le(s.tier),oe(s.status),xe(new Date(s.expiresAt).toISOString().split("T")[0]),k(!0),w()},Ze=async()=>{if(a)try{await q.mutate({licenseId:a.id,updates:{name:ae,tier:re,status:ce,expiresAt:new Date(de)}}),n(`License ${a.name} updated successfully`,{variant:"success"}),k(!1),A(null),y()}catch(s){n((s==null?void 0:s.message)||"Failed to update license",{variant:"error"})}};return Me?e.jsx(i,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsxs(i,{textAlign:"center",children:[e.jsx(ss,{size:60}),e.jsx(t,{variant:"h6",sx:{mt:2},children:"Loading License Data..."}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"Fetching your licenses and subscription details"})]})}):Ge?e.jsx(i,{sx:{p:3},children:e.jsxs(L,{severity:"error",children:[e.jsx(X,{children:"Unable to Load License Data"}),e.jsx(t,{variant:"body2",sx:{mb:2},children:"We encountered an issue loading your license information. This could be due to:"}),e.jsxs(ns,{dense:!0,children:[e.jsxs(ue,{children:[e.jsx(S,{children:e.jsx(Ee,{fontSize:"small"})}),e.jsx(je,{primary:"Network connectivity issues"})]}),e.jsxs(ue,{children:[e.jsx(S,{children:e.jsx(ts,{fontSize:"small"})}),e.jsx(je,{primary:"Authentication token expired"})]})]}),e.jsx(i,{sx:{mt:2},children:e.jsx(p,{variant:"contained",onClick:()=>window.location.reload(),children:"Retry"})})]})}):!r||!E?e.jsx(i,{sx:{p:3},children:e.jsxs(L,{severity:"info",children:[e.jsx(X,{children:"Setting Up License Management"}),e.jsx(t,{variant:"body2",children:"We're preparing your license management dashboard. This may take a moment for new accounts."})]})}):e.jsxs(i,{children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(i,{children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,mb:1},children:"License Management"}),e.jsxs(t,{variant:"body1",color:"text.secondary",children:["Manage your ",((he=E.organization)==null?void 0:he.name)||"Organization"," licenses and assignments",u&&e.jsxs("span",{style:{marginLeft:"8px",fontWeight:500,color:"primary.main"},children:["â€¢ ",u.length," total licenses"]})]})]}),e.jsx(p,{variant:"contained",startIcon:e.jsx(ge,{}),onClick:()=>D(!0),sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000",fontWeight:600},children:"Generate Licenses"})]}),e.jsxs(N,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(N,{item:!0,xs:12,sm:6,md:3,children:e.jsx(V,{title:"Total Licenses",value:m.stats.totalLicenses.toString(),icon:e.jsx(we,{}),color:"primary"})}),e.jsx(N,{item:!0,xs:12,sm:6,md:3,children:e.jsx(V,{title:"Active Licenses",value:m.stats.activeLicenses.toString(),icon:e.jsx(Q,{}),color:"success"})}),e.jsx(N,{item:!0,xs:12,sm:6,md:3,children:e.jsx(V,{title:"Expiring Soon",value:m.stats.expiringSoon.toString(),icon:e.jsx(Ie,{}),color:"warning"})}),e.jsx(N,{item:!0,xs:12,sm:6,md:3,children:e.jsx(V,{title:"Unassigned",value:m.stats.unassignedLicenses.toString(),icon:e.jsx(as,{}),color:"secondary"})})]}),e.jsx(me,{sx:{mb:4},children:e.jsxs(fe,{children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:2},children:"License Utilization"}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[e.jsx(is,{variant:"determinate",value:m.stats.utilizationRate,sx:{flex:1,height:8,borderRadius:4}}),e.jsxs(t,{variant:"body2",sx:{minWidth:60},children:[m.stats.utilizationRate.toFixed(1),"%"]})]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:[m.stats.activeLicenses," of ",m.stats.totalLicenses," licenses are currently active"]})]})}),m.stats.expiringSoon>0&&e.jsxs(L,{severity:"warning",sx:{mb:4},children:[e.jsx(X,{children:"Licenses Expiring Soon"}),e.jsxs(t,{variant:"body2",sx:{mb:2},children:[m.stats.expiringSoon," license(s) will expire within the next 30 days."]}),e.jsx(p,{variant:"outlined",size:"small",onClick:()=>window.open("/dashboard/billing","_blank"),children:"Renew Licenses"})]}),e.jsx(me,{children:e.jsxs(fe,{children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(t,{variant:"h6",sx:{fontWeight:600},children:["All Licenses (",m.licenses.length,")"]}),e.jsx(p,{variant:"outlined",startIcon:e.jsx(rs,{}),onClick:()=>n("License report downloaded",{variant:"success"}),children:"Export Report"})]}),e.jsx(ls,{children:e.jsxs(cs,{children:[e.jsx(os,{children:e.jsxs(pe,{children:[e.jsx(c,{sx:{fontWeight:600},children:"License"}),e.jsx(c,{sx:{fontWeight:600},children:"Tier"}),e.jsx(c,{sx:{fontWeight:600},children:"Status"}),e.jsx(c,{sx:{fontWeight:600},children:"Assigned To"}),e.jsx(c,{sx:{fontWeight:600},children:"Department"}),e.jsx(c,{sx:{fontWeight:600},children:"Role"}),e.jsx(c,{sx:{fontWeight:600},children:"Usage"}),e.jsx(c,{sx:{fontWeight:600},children:"Expires"}),e.jsx(c,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(ds,{children:m.licenses.map(s=>{var l,j;return e.jsxs(pe,{hover:!0,children:[e.jsx(c,{children:e.jsxs(i,{children:[e.jsx(t,{variant:"body1",sx:{fontWeight:500},children:s.name}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{fontFamily:"monospace"},children:s.key})]})}),e.jsx(c,{children:e.jsx(_,{label:s.tier,color:Ds(s.tier),size:"small",icon:s.tier==="ENTERPRISE"?e.jsx(xs,{}):void 0})}),e.jsx(c,{children:e.jsx(_,{icon:Is(s.status),label:s.status,color:ws(s.status),size:"small"})}),e.jsx(c,{children:s.assignedTo?e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ve,{sx:{width:24,height:24},children:Ns(s.assignedTo,g)}),e.jsxs(i,{children:[e.jsx(t,{variant:"body2",sx:{fontWeight:500},children:Ae(s.assignedTo,g)}),e.jsx(t,{variant:"caption",color:"text.secondary",children:s.assignedTo.email})]})]}):e.jsx(t,{variant:"body2",color:"text.secondary",children:"Unassigned"})}),e.jsx(c,{children:e.jsx(t,{variant:"body2",color:"text.secondary",children:s.assignedTo?((l=g==null?void 0:g.find(x=>{var f;return x.email===((f=s.assignedTo)==null?void 0:f.email)}))==null?void 0:l.department)||"Not specified":"â€”"})}),e.jsx(c,{children:s.assignedTo?e.jsx(_,{label:((j=g==null?void 0:g.find(x=>{var f;return x.email===((f=s.assignedTo)==null?void 0:f.email)}))==null?void 0:j.role)||"Member",color:"primary",size:"small",variant:"outlined"}):e.jsx(t,{variant:"body2",color:"text.secondary",children:"â€”"})}),e.jsx(c,{children:e.jsxs(i,{children:[e.jsxs(t,{variant:"body2",children:[s.usage.apiCalls.toLocaleString()," API calls"]}),e.jsxs(t,{variant:"caption",color:"text.secondary",children:[s.usage.dataTransfer," GB transferred"]})]})}),e.jsx(c,{children:e.jsx(t,{variant:"body2",color:new Date(s.expiresAt)<=new Date(Date.now()+30*24*60*60*1e3)?"warning.main":"text.primary",children:new Date(s.expiresAt).toLocaleDateString()})}),e.jsx(c,{children:e.jsx(hs,{size:"small",onClick:x=>Ve(x,s),children:e.jsx(us,{})})})]},s.id)})})]})})]})}),e.jsx(js,{color:"primary",sx:{position:"fixed",bottom:16,right:16,display:{xs:"flex",md:"none"}},onClick:()=>D(!0),children:e.jsx(ge,{})}),e.jsxs(O,{open:ze,onClose:()=>D(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(z,{children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ye,{color:"primary"}),"Generate New Licenses"]})}),e.jsx(F,{children:e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[e.jsxs(L,{severity:"info",children:[e.jsx(t,{variant:"body2",sx:{mb:1},children:e.jsx("strong",{children:"Automatic License Generation"})}),e.jsx(t,{variant:"body2",children:"Licenses will be automatically generated with unique names and keys. You can assign them to team members after creation."})]}),e.jsxs($,{fullWidth:!0,children:[e.jsx(B,{children:"License Tier"}),e.jsxs(M,{value:b,label:"License Tier",onChange:s=>ne(s.target.value),children:[e.jsx(o,{value:"BASIC",children:e.jsxs(i,{children:[e.jsx(t,{variant:"body1",children:"Basic"}),e.jsx(t,{variant:"caption",color:"text.secondary",children:"Limited features â€¢ 2 max devices"})]})}),e.jsx(o,{value:"PROFESSIONAL",children:e.jsxs(i,{children:[e.jsx(t,{variant:"body1",children:"Professional"}),e.jsx(t,{variant:"caption",color:"text.secondary",children:"Full features â€¢ 5 max devices"})]})}),e.jsx(o,{value:"ENTERPRISE",children:e.jsxs(i,{children:[e.jsx(t,{variant:"body1",children:"Enterprise"}),e.jsx(t,{variant:"caption",color:"text.secondary",children:"Advanced features â€¢ 10 max devices"})]})})]})]}),e.jsx(J,{fullWidth:!0,label:"Number of Licenses to Generate",type:"number",value:v,onChange:s=>te(parseInt(s.target.value)||1),inputProps:{min:1,max:50},helperText:`Will generate ${v} ${b.toLowerCase()} license${v>1?"s":""}`}),e.jsx(L,{severity:"success",children:e.jsxs(t,{variant:"body2",children:["âœ… Each license will have a 1-year validity period",e.jsx("br",{}),"âœ… Licenses can be assigned to team members immediately",e.jsx("br",{}),"âœ… Unique license keys will be automatically generated"]})})]})}),e.jsxs(G,{children:[e.jsx(p,{onClick:()=>D(!1),children:"Cancel"}),e.jsxs(p,{onClick:He,variant:"contained",startIcon:e.jsx(ye,{}),sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000",fontWeight:600},children:["Generate ",v," License",v>1?"s":""]})]})]}),e.jsxs(O,{open:Fe,onClose:()=>T(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(z,{children:"Assign License"}),e.jsx(F,{children:a&&e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[e.jsx(L,{severity:"info",children:e.jsxs(t,{variant:"body2",children:["Assigning license: ",e.jsx("strong",{children:a.name})]})}),e.jsxs($,{fullWidth:!0,children:[e.jsx(B,{children:"Assign To"}),e.jsx(M,{value:W,label:"Assign To",onChange:s=>se(s.target.value),disabled:R.length===0,children:R.length===0?e.jsx(o,{disabled:!0,children:e.jsx(t,{variant:"body2",color:"text.secondary",children:"No available team members for assignment"})}):R.map(s=>e.jsx(o,{value:s.id,children:e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ve,{sx:{width:24,height:24},children:Y(s).charAt(0)}),e.jsxs(i,{children:[e.jsx(t,{variant:"body2",sx:{fontWeight:500},children:Y(s)}),e.jsx(t,{variant:"caption",color:"text.secondary",children:s.email})]})]})},s.id))})]}),R.length===0&&e.jsx(L,{severity:"info",children:e.jsx(t,{variant:"body2",children:"All team members already have licenses assigned. To assign this license, you'll need to unassign another license first or invite new team members."})}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"The user will receive an email with instructions to activate their license."})]})}),e.jsxs(G,{children:[e.jsx(p,{onClick:()=>T(!1),children:"Cancel"}),e.jsx(p,{onClick:Ke,variant:"contained",startIcon:e.jsx(Le,{}),children:"Assign License"})]})]}),e.jsxs(O,{open:Be,onClose:()=>P(!1),maxWidth:"sm",children:[e.jsx(z,{children:"Delete License"}),e.jsx(F,{children:a&&e.jsxs(i,{children:[e.jsxs(t,{variant:"body1",sx:{mb:2},children:["Are you sure you want to delete ",e.jsx("strong",{children:a.name}),"?"]}),e.jsx(L,{severity:"warning",children:e.jsx(t,{variant:"body2",children:"This action cannot be undone. The license will be permanently removed and any assigned user will lose access."})})]})}),e.jsxs(G,{children:[e.jsx(p,{onClick:()=>P(!1),children:"Cancel"}),e.jsx(p,{onClick:Ye,variant:"contained",color:"error",startIcon:e.jsx(Ce,{}),children:"Delete License"})]})]}),e.jsxs(O,{open:$e,onClose:()=>k(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(z,{children:"Edit License"}),e.jsx(F,{children:a&&e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[e.jsx(J,{fullWidth:!0,label:"License Name",value:ae,onChange:s=>ie(s.target.value),placeholder:"Development Team License"}),e.jsxs($,{fullWidth:!0,children:[e.jsx(B,{children:"License Tier"}),e.jsxs(M,{value:re,label:"License Tier",onChange:s=>le(s.target.value),children:[e.jsx(o,{value:"BASIC",children:"Basic - Limited features"}),e.jsx(o,{value:"PROFESSIONAL",children:"Pro - Full features"}),e.jsx(o,{value:"ENTERPRISE",children:"Enterprise - Advanced features"})]})]}),e.jsxs($,{fullWidth:!0,children:[e.jsx(B,{children:"Status"}),e.jsxs(M,{value:ce,label:"Status",onChange:s=>oe(s.target.value),children:[e.jsx(o,{value:"PENDING",children:"Pending"}),e.jsx(o,{value:"ACTIVE",children:"Active"}),e.jsx(o,{value:"SUSPENDED",children:"Suspended"}),e.jsx(o,{value:"EXPIRED",children:"Expired"})]})]}),e.jsx(J,{fullWidth:!0,label:"Expiration Date",type:"date",value:de,onChange:s=>xe(s.target.value),InputLabelProps:{shrink:!0}}),e.jsx(L,{severity:"info",children:e.jsx(t,{variant:"body2",children:"Changing the license tier will update the maximum device limit and feature access. Status changes will immediately affect the user's access to the system."})})]})}),e.jsxs(G,{children:[e.jsx(p,{onClick:()=>k(!1),children:"Cancel"}),e.jsx(p,{onClick:Ze,variant:"contained",startIcon:e.jsx(be,{}),children:"Save Changes"})]})]}),e.jsxs(gs,{anchorEl:Z,open:!!Z,onClose:w,children:[e.jsxs(o,{onClick:()=>a&&qe(a.key),children:[e.jsx(S,{children:e.jsx(ms,{})}),"Copy License Key"]}),!(a!=null&&a.assignedTo)&&e.jsxs(o,{onClick:()=>T(!0),children:[e.jsx(S,{children:e.jsx(Le,{})}),"Assign License"]}),e.jsxs(o,{onClick:()=>Qe(a),children:[e.jsx(S,{children:e.jsx(be,{})}),"Edit License"]}),e.jsx(Se,{}),(a==null?void 0:a.status)==="ACTIVE"?e.jsxs(o,{onClick:Xe,children:[e.jsx(S,{children:e.jsx(De,{})}),"Suspend License"]}):e.jsxs(o,{onClick:_e,children:[e.jsx(S,{children:e.jsx(Q,{})}),"Activate License"]}),e.jsx(Se,{}),e.jsxs(o,{onClick:Je,sx:{color:"error.main"},children:[e.jsx(S,{children:e.jsx(Ce,{sx:{color:"error.main"}})}),"Delete License"]})]})]})};export{Gs as default};
