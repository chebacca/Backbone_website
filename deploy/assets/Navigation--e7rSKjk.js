import{ch as H,ci as J,j as n,bC as Q,bD as V,aQ as N,cj as v,bj as u,J as j,aW as T,bR as $,K,X,a4 as Y,ai as Z,as as nn,bE as an,bF as en,B as t,g as m,A as rn,T as c,a as d,ae as on,bG as tn,ar as sn,D as h,M as P,ck as W,bJ as ln,bm as cn,w as dn,x as p,y as I,z as x}from"./mui-CCWxH8Vb.js";import{a as hn,u as pn,e as xn,r as f}from"./vendor-CjD1bmmO.js";import{u as gn}from"./index-CGOkW5Wr.js";var S={},k={};const bn=hn(H);var R;function un(){return R||(R=1,function(r){"use client";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l.createSvgIcon}});var l=bn}(k)),k}var jn=J;Object.defineProperty(S,"__esModule",{value:!0});var C=S.default=void 0,mn=jn(un()),B=n;C=S.default=(0,mn.default)([(0,B.jsx)("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),(0,B.jsx)("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong");const vn=()=>{var U;const r=pn(),l=xn(),{isAuthenticated:o,user:e,logout:E}=gn(),O=Q(),A=V(O.breakpoints.down("md")),s=l.pathname.startsWith("/dashboard")||l.pathname.startsWith("/admin")||l.pathname.startsWith("/accounting"),[D,w]=f.useState(null),[M,z]=f.useState(!1),F=a=>{w(a.currentTarget)},g=()=>{w(null)},L=async()=>{try{await E(),g(),r("/")}catch(a){console.error("Logout failed:",a),g(),r("/")}},i=()=>{z(!M)},b=f.useMemo(()=>{const a=[{label:"Features",path:"/#features"},{label:"Pricing",path:"/pricing"},{label:"Documentation",path:"/documentation",icon:n.jsx(u,{})},{label:"Support",path:"/support",icon:n.jsx(j,{})}];return o&&String((e==null?void 0:e.role)||"").toUpperCase()!=="SUPERADMIN"&&String((e==null?void 0:e.role)||"").toUpperCase()!=="ACCOUNTING"&&a.push({label:"Dashboard",path:"/dashboard",icon:n.jsx(N,{})}),a},[o,e]),y=f.useMemo(()=>{const a=String((e==null?void 0:e.role)||"").toUpperCase(),G=a==="SUPERADMIN",q=a==="ACCOUNTING";return G?[{label:"Admin",path:"/admin",icon:n.jsx(v,{})},{label:"Accounting",path:"/accounting",icon:n.jsx(C,{})},{label:"Documentation",path:"/documentation",icon:n.jsx(u,{})},{label:"Support",path:"/support",icon:n.jsx(j,{})},{label:"Settings",path:"/dashboard/settings",icon:n.jsx(T,{})}]:q?[{label:"Accounting",path:"/accounting",icon:n.jsx(C,{})},{label:"Documentation",path:"/documentation",icon:n.jsx(u,{})},{label:"Support",path:"/support",icon:n.jsx(j,{})}]:[{label:"Overview",path:"/dashboard",icon:n.jsx(N,{})},{label:"Licenses",path:"/dashboard/licenses",icon:n.jsx($,{})},{label:"Cloud Projects",path:"/dashboard/cloud-projects",icon:n.jsx(K,{})},{label:"Team Management",path:"/dashboard/team",icon:n.jsx(X,{})},{label:"Billing & Payments",path:"/dashboard/billing",icon:n.jsx(Y,{})},{label:"Usage Analytics",path:"/dashboard/analytics",icon:n.jsx(Z,{})},{label:"Downloads",path:"/dashboard/downloads",icon:n.jsx(nn,{})},{label:"Documentation",path:"/documentation",icon:n.jsx(u,{})},{label:"Support",path:"/support",icon:n.jsx(j,{})},{label:"Settings",path:"/dashboard/settings",icon:n.jsx(T,{})}]},[e==null?void 0:e.role]),_=()=>n.jsxs(ln,{anchor:"right",open:M,onClose:i,PaperProps:{sx:{width:280,backgroundColor:"background.paper",backgroundImage:"none"}},children:[n.jsxs(t,{sx:{p:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx(c,{variant:"h6",children:"Menu"}),n.jsx(m,{onClick:i,children:n.jsx(cn,{})})]}),n.jsx(h,{}),n.jsxs(dn,{children:[o&&String((e==null?void 0:e.role)||"").toUpperCase()==="SUPERADMIN"&&!s&&n.jsxs(p,{onClick:()=>{r("/admin"),i()},sx:{cursor:"pointer"},children:[n.jsx(I,{sx:{color:"warning.main"},children:n.jsx(v,{})}),n.jsx(x,{primary:"Admin Dashboard",sx:{color:"warning.main"}})]}),(s?[]:o?String((e==null?void 0:e.role)||"").toUpperCase()==="SUPERADMIN"?b:y:b).map(a=>n.jsxs(p,{onClick:()=>{if(!a.path.startsWith("#")){if(a.path.includes("/admin")&&!o){r("/login"),i();return}r(a.path),i()}},sx:{cursor:"pointer"},children:[a.icon&&n.jsx(I,{sx:{color:a.label==="Admin"?"warning.main":a.label==="Licenses"||a.label==="Dashboard"?"primary.main":"text.primary"},children:a.icon}),n.jsx(x,{primary:a.label,sx:{color:a.label==="Admin"?"warning.main":a.label==="Licenses"||a.label==="Dashboard"?"primary.main":"inherit"}})]},a.label)),o&&n.jsxs(n.Fragment,{children:[n.jsx(h,{sx:{my:1}}),n.jsxs(p,{onClick:L,sx:{cursor:"pointer"},children:[n.jsx(I,{sx:{color:"error.main"},children:n.jsx(W,{})}),n.jsx(x,{primary:"Logout"})]})]}),!o&&n.jsxs(n.Fragment,{children:[n.jsx(h,{sx:{my:1}}),n.jsx(p,{onClick:()=>{r("/login"),i()},sx:{cursor:"pointer"},children:n.jsx(x,{primary:"Sign In"})}),n.jsx(p,{onClick:()=>{r("/register"),i()},sx:{cursor:"pointer"},children:n.jsx(x,{primary:"Get Started"})})]})]})]});return n.jsxs(n.Fragment,{children:[n.jsx(an,{position:"fixed",elevation:0,sx:{backgroundColor:"rgba(26, 26, 46, 0.95)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:n.jsxs(en,{sx:{justifyContent:"space-between"},children:[n.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[s&&n.jsx(m,{color:"inherit","aria-label":"Back",onClick:()=>{typeof window<"u"&&window.history.length>1?r(-1):r("/")},sx:{mr:1},children:n.jsx(rn,{})}),n.jsxs(t,{sx:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:()=>r("/"),children:[n.jsx(t,{sx:{width:40,height:40,borderRadius:1,background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:n.jsx(c,{variant:"h6",sx:{fontWeight:700,color:"#000",fontSize:"1.2rem"},children:"B"})}),n.jsx(c,{variant:"h6",sx:{fontWeight:600,background:"linear-gradient(135deg, #ffffff 0%, #00d4ff 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"BackboneLogic, Inc."})]})]}),!A&&n.jsxs(n.Fragment,{children:[!s&&n.jsx(t,{sx:{display:"flex",alignItems:"center",gap:1},children:(o&&["SUPERADMIN","ACCOUNTING"].includes(String((e==null?void 0:e.role)||"").toUpperCase())?b:o?y:b).map(a=>n.jsx(d,{color:"inherit",startIcon:a.icon,onClick:()=>{if(!a.path.startsWith("#")){if(a.path.includes("/admin")&&!o){r("/login");return}r(a.path)}},sx:{textTransform:"none",fontWeight:500,color:a.label==="Admin"?"warning.main":a.label==="Licenses"||a.label==="Dashboard"?"primary.main":"text.secondary","&:hover":{color:a.label==="Admin"?"warning.light":a.label==="Licenses"||a.label==="Dashboard"?"primary.light":"primary.main",backgroundColor:a.label==="Admin"?"rgba(255, 152, 0, 0.1)":(a.label==="Licenses"||a.label==="Dashboard","rgba(0, 212, 255, 0.1)")}},children:a.label},a.label))}),n.jsx(t,{sx:{display:"flex",alignItems:"center",gap:2},children:o?n.jsxs(n.Fragment,{children:[String((e==null?void 0:e.role)||"").toUpperCase()==="SUPERADMIN"&&!s&&n.jsx(d,{color:"inherit",startIcon:n.jsx(v,{}),onClick:()=>r("/admin"),sx:{textTransform:"none",fontWeight:600,color:"warning.main",borderColor:"rgba(255, 152, 0, 0.4)","&:hover":{color:"warning.light",backgroundColor:"rgba(255, 152, 0, 0.1)"}},children:"Admin Dashboard"}),String((e==null?void 0:e.role)||"").toUpperCase()==="ACCOUNTING"&&!s&&n.jsx(d,{color:"inherit",startIcon:n.jsx(C,{}),onClick:()=>r("/accounting"),sx:{textTransform:"none",fontWeight:600,color:"info.light","&:hover":{color:"info.main",backgroundColor:"rgba(0, 212, 255, 0.1)"}},children:"Accounting"}),n.jsx(m,{size:"large",onClick:F,color:"inherit",children:n.jsx(on,{sx:{width:36,height:36,backgroundColor:"primary.main",color:"#000"},children:(U=e==null?void 0:e.name)==null?void 0:U.charAt(0).toUpperCase()})})]}):n.jsxs(n.Fragment,{children:[n.jsx(d,{color:"inherit",onClick:()=>r("/login"),sx:{textTransform:"none",fontWeight:500},children:"Sign In"}),n.jsx(d,{variant:"contained",onClick:()=>r("/register"),sx:{textTransform:"none",fontWeight:500,background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000","&:hover":{background:"linear-gradient(135deg, #33ddff 0%, #7b8eed 100%)"}},children:"Get Started"})]})})]}),A&&n.jsx(m,{color:"inherit",onClick:i,children:n.jsx(tn,{})})]})}),n.jsxs(sn,{anchorEl:D,open:!!D,onClose:g,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},PaperProps:{sx:{mt:1,backgroundColor:"background.elevated",border:"1px solid rgba(255, 255, 255, 0.1)",minWidth:200}},children:[n.jsxs(t,{sx:{px:2,py:1},children:[n.jsx(c,{variant:"subtitle2",color:"text.secondary",children:"Signed in as"}),n.jsx(c,{variant:"body2",sx:{fontWeight:600},children:e==null?void 0:e.email})]}),n.jsx(h,{}),y.map(a=>n.jsx(P,{onClick:()=>{r(a.path),g()},children:n.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[a.icon,a.label]})},a.label)),n.jsx(h,{}),n.jsx(P,{onClick:L,children:n.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,color:"error.main"},children:[n.jsx(W,{}),"Logout"]})})]}),_()]})};export{vn as N,un as r};
