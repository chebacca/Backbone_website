import{j as e,a as m,T as n,G as t,c as b,at as oe,I as M,b0 as le,h as ce,u as o,aS as de,aT as xe,aU as he,a4 as A,d as s,x as ue,y as me,U as S,W as p,X as j,Y as y,b1 as D,Q as E,D as V,p as U,t as F,ar as Z,b2 as be,aN as B,aO as G,aP as Q,aR as z,aQ as Y,ai as pe}from"./mui-DiYnqcGn.js";import{r as x}from"./vendor-DIxetjBo.js";import{u as je,b as ye,c as L}from"./index-CCGQgEqV.js";import{m as g}from"./proxy-B_KpOrcW.js";import"./stripe-CQkQ71Kl.js";const ge=[{id:"two_factor",title:"Two-Factor Authentication",description:"Add an extra layer of security to your account",enabled:!1,icon:e.jsx(U,{}),type:"security"},{id:"email_notifications",title:"Email Notifications",description:"Receive email alerts for important account activities",enabled:!0,icon:e.jsx(pe,{}),type:"notifications"},{id:"login_alerts",title:"Login Alerts",description:"Get notified when someone logs into your account",enabled:!0,icon:e.jsx(U,{}),type:"security"},{id:"data_export",title:"Data Export Access",description:"Allow downloading of your account data",enabled:!0,icon:e.jsx(Z,{}),type:"privacy"}],Pe=()=>{var O,_,q;const{user:i}=je(),{enqueueSnackbar:l}=ye(),[c,h]=x.useState({firstName:(i==null?void 0:i.firstName)||"",lastName:(i==null?void 0:i.lastName)||"",email:(i==null?void 0:i.email)||"",company:"",jobTitle:"",phone:"",timezone:"UTC",language:"en"}),[v,P]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[W,J]=x.useState(ge),[f,N]=x.useState({}),[X,k]=x.useState(!1),[R,H]=x.useState(""),[w,K]=x.useState(!1),[$,T]=x.useState(!1),[d,ee]=x.useState("profile"),ae=()=>{l("Profile updated successfully",{variant:"success"})},re=()=>{if(v.newPassword!==v.confirmPassword){l("Passwords do not match",{variant:"error"});return}l("Password changed successfully",{variant:"success"}),P({currentPassword:"",newPassword:"",confirmPassword:""})},I=a=>{J(r=>r.map(u=>u.id===a?{...u,enabled:!u.enabled}:u)),l("Setting updated",{variant:"success"})},ie=async()=>{try{const a=await L.twoFASetupInitiate();N({qr:a.qrCodeDataUrl,secret:a.secret,enabled:!1}),k(!0)}catch(a){l(a.message||"Failed to start 2FA setup",{variant:"error"})}},te=async()=>{try{const a=await L.twoFASetupVerify(R.trim());N(r=>({...r,enabled:!0,backupCodes:a.backupCodes})),l("Two-factor authentication enabled",{variant:"success"}),k(!1)}catch(a){l(a.message||"Invalid code",{variant:"error"})}},ne=async()=>{try{await L.twoFADisable(),N({enabled:!1}),l("Two-factor authentication disabled",{variant:"success"})}catch(a){l(a.message||"Failed to disable 2FA",{variant:"error"})}},se=()=>{l("Account deletion initiated. Check your email for confirmation.",{variant:"warning"}),T(!1)},C=({id:a,label:r,isActive:u})=>e.jsx(s,{variant:u?"contained":"outlined",onClick:()=>ee(a),sx:{mr:1,mb:1,...u&&{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000"}},children:r});return e.jsxs(m,{children:[e.jsx(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs(m,{sx:{mb:4},children:[e.jsx(n,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Account Settings"}),e.jsx(n,{variant:"body1",color:"text.secondary",children:"Manage your account preferences and security settings"})]})}),e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:e.jsxs(m,{sx:{mb:4},children:[e.jsx(C,{id:"profile",label:"Profile",isActive:d==="profile"}),e.jsx(C,{id:"security",label:"Security",isActive:d==="security"}),e.jsx(C,{id:"notifications",label:"Notifications",isActive:d==="notifications"}),e.jsx(C,{id:"privacy",label:"Privacy",isActive:d==="privacy"}),e.jsx(C,{id:"danger",label:"Danger Zone",isActive:d==="danger"})]})}),d==="profile"&&e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs(t,{container:!0,spacing:4,children:[e.jsx(t,{item:!0,xs:12,md:4,children:e.jsxs(b,{sx:{p:3,textAlign:"center",background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsxs(m,{sx:{position:"relative",display:"inline-block",mb:2},children:[e.jsxs(oe,{sx:{width:120,height:120,fontSize:"3rem",bgcolor:"primary.main"},children:[(O=i==null?void 0:i.firstName)==null?void 0:O[0],(_=i==null?void 0:i.lastName)==null?void 0:_[0]]}),e.jsx(M,{sx:{position:"absolute",bottom:0,right:0,bgcolor:"primary.main",color:"#000","&:hover":{bgcolor:"primary.dark"}},children:e.jsx(le,{})})]}),e.jsxs(n,{variant:"h6",sx:{fontWeight:600},children:[c.firstName," ",c.lastName]}),e.jsx(n,{variant:"body2",color:"text.secondary",children:c.email}),e.jsx(ce,{label:((q=i==null?void 0:i.subscription)==null?void 0:q.tier)||"Pro",color:"primary",sx:{mt:1}})]})}),e.jsx(t,{item:!0,xs:12,md:8,children:e.jsxs(b,{sx:{p:4,background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Personal Information"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{fullWidth:!0,label:"First Name",value:c.firstName,onChange:a=>h(r=>({...r,firstName:a.target.value}))})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{fullWidth:!0,label:"Last Name",value:c.lastName,onChange:a=>h(r=>({...r,lastName:a.target.value}))})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(o,{fullWidth:!0,label:"Email Address",value:c.email,onChange:a=>h(r=>({...r,email:a.target.value})),disabled:!0,helperText:"Contact support to change your email address"})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{fullWidth:!0,label:"Company",value:c.company,onChange:a=>h(r=>({...r,company:a.target.value}))})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{fullWidth:!0,label:"Job Title",value:c.jobTitle,onChange:a=>h(r=>({...r,jobTitle:a.target.value}))})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{fullWidth:!0,label:"Phone Number",value:c.phone,onChange:a=>h(r=>({...r,phone:a.target.value}))})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsxs(de,{fullWidth:!0,children:[e.jsx(xe,{id:"timezone-select-label",children:"Timezone"}),e.jsxs(he,{labelId:"timezone-select-label",id:"timezone-select",value:c.timezone,label:"Timezone",onChange:a=>h(r=>({...r,timezone:a.target.value})),inputProps:{"aria-label":"Select timezone",title:"Select your timezone",name:"timezone"},"aria-labelledby":"timezone-select-label",title:"Select your timezone",children:[e.jsx(A,{value:"UTC",children:"UTC"}),e.jsx(A,{value:"America/New_York",children:"Eastern Time"}),e.jsx(A,{value:"America/Chicago",children:"Central Time"}),e.jsx(A,{value:"America/Denver",children:"Mountain Time"}),e.jsx(A,{value:"America/Los_Angeles",children:"Pacific Time"})]})]})})]}),e.jsxs(m,{sx:{mt:4,display:"flex",gap:2},children:[e.jsx(s,{variant:"contained",onClick:ae,sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000"},children:"Save Changes"}),e.jsx(s,{variant:"outlined",children:"Cancel"})]})]})})]})}),d==="security"&&e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs(t,{container:!0,spacing:4,children:[e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(b,{sx:{p:4,background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Change Password"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(o,{fullWidth:!0,label:"Current Password",type:w?"text":"password",value:v.currentPassword,onChange:a=>P(r=>({...r,currentPassword:a.target.value})),InputProps:{endAdornment:e.jsx(M,{onClick:()=>K(!w),edge:"end",children:w?e.jsx(ue,{}):e.jsx(me,{})})}})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(o,{fullWidth:!0,label:"New Password",type:w?"text":"password",value:v.newPassword,onChange:a=>P(r=>({...r,newPassword:a.target.value}))})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(o,{fullWidth:!0,label:"Confirm New Password",type:w?"text":"password",value:v.confirmPassword,onChange:a=>P(r=>({...r,confirmPassword:a.target.value}))})})]}),e.jsx(s,{variant:"contained",onClick:re,sx:{mt:3,background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000"},children:"Update Password"})]})}),e.jsx(t,{item:!0,xs:12,md:6,children:e.jsxs(b,{sx:{p:4,background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Security Settings"}),e.jsxs(S,{children:[W.filter(a=>a.type==="security").map(a=>e.jsxs(p,{sx:{px:0},children:[e.jsx(j,{children:a.icon}),e.jsx(y,{primary:a.title,secondary:a.description}),e.jsx(D,{children:e.jsx(E,{checked:a.enabled,onChange:()=>I(a.id),color:"primary"})})]},a.id)),e.jsx(V,{sx:{my:2}}),e.jsxs(p,{sx:{px:0},children:[e.jsx(j,{children:e.jsx(U,{})}),e.jsx(y,{primary:"Two-Factor Authentication (TOTP)",secondary:f.enabled?"Enabled":"Disabled"}),e.jsx(D,{children:f.enabled?e.jsx(s,{variant:"outlined",color:"error",onClick:ne,children:"Disable"}):e.jsx(s,{variant:"contained",onClick:ie,sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000"},children:"Enable"})})]})]})]})})]})}),d==="notifications"&&e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs(b,{sx:{p:4,background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Notification Preferences"}),e.jsx(S,{children:W.filter(a=>a.type==="notifications").map(a=>e.jsxs(p,{sx:{px:0},children:[e.jsx(j,{children:a.icon}),e.jsx(y,{primary:a.title,secondary:a.description}),e.jsx(D,{children:e.jsx(E,{checked:a.enabled,onChange:()=>I(a.id),color:"primary"})})]},a.id))})]})}),d==="privacy"&&e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs(b,{sx:{p:4,background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,mb:3},children:"Privacy & Data Controls"}),e.jsx(S,{children:W.filter(a=>a.type==="privacy").map(a=>e.jsxs(p,{sx:{px:0},children:[e.jsx(j,{children:a.icon}),e.jsx(y,{primary:a.title,secondary:a.description}),e.jsx(D,{children:e.jsx(E,{checked:a.enabled,onChange:()=>I(a.id),color:"primary"})})]},a.id))}),e.jsx(V,{sx:{my:3}}),e.jsx(F,{severity:"info",sx:{mb:3},children:e.jsxs(n,{variant:"body2",children:[e.jsx("strong",{children:"Data Export:"})," You can download a copy of your data at any time. This includes your profile information, license history, and usage analytics."]})}),e.jsx(s,{variant:"outlined",startIcon:e.jsx(Z,{}),sx:{mr:2},children:"Export My Data"})]})}),d==="danger"&&e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:e.jsxs(b,{sx:{p:4,background:"linear-gradient(135deg, rgba(244, 67, 54, 0.1) 0%, rgba(244, 67, 54, 0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(244, 67, 54, 0.2)"},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:600,mb:3,color:"error.main"},children:"Danger Zone"}),e.jsx(F,{severity:"warning",sx:{mb:3},children:e.jsxs(n,{variant:"body2",children:[e.jsx("strong",{children:"Warning:"})," These actions are irreversible. Please proceed with caution."]})}),e.jsxs(m,{sx:{p:3,border:"1px solid",borderColor:"error.main",borderRadius:2},children:[e.jsx(n,{variant:"subtitle1",sx:{fontWeight:600,mb:1},children:"Delete Account"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Permanently delete your account and all associated data. This action cannot be undone."}),e.jsx(s,{variant:"contained",color:"error",startIcon:e.jsx(be,{}),onClick:()=>T(!0),children:"Delete My Account"})]})]})}),e.jsxs(B,{open:$,onClose:()=>T(!1),PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(244, 67, 54, 0.2)"}},children:[e.jsx(G,{sx:{color:"error.main"},children:"Delete Account"}),e.jsxs(Q,{children:[e.jsx(F,{severity:"error",sx:{mb:2},children:"This action is permanent and cannot be undone."}),e.jsx(n,{variant:"body1",sx:{mb:2},children:"Are you sure you want to delete your account? This will:"}),e.jsxs(S,{dense:!0,children:[e.jsxs(p,{children:[e.jsx(j,{children:e.jsx(z,{color:"error"})}),e.jsx(y,{primary:"Permanently delete all your data"})]}),e.jsxs(p,{children:[e.jsx(j,{children:e.jsx(z,{color:"error"})}),e.jsx(y,{primary:"Cancel all active subscriptions"})]}),e.jsxs(p,{children:[e.jsx(j,{children:e.jsx(z,{color:"error"})}),e.jsx(y,{primary:"Revoke all license keys"})]})]}),e.jsx(o,{fullWidth:!0,label:"Type 'DELETE' to confirm",sx:{mt:2},placeholder:"DELETE"})]}),e.jsxs(Y,{children:[e.jsx(s,{onClick:()=>T(!1),children:"Cancel"}),e.jsx(s,{onClick:se,color:"error",variant:"contained",children:"Delete Account"})]})]}),e.jsxs(B,{open:X,onClose:()=>k(!1),PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)"}},children:[e.jsx(G,{children:"Set up Two-Factor Authentication"}),e.jsxs(Q,{children:[e.jsx(n,{variant:"body2",sx:{mb:2},children:"Scan the QR code with Google Authenticator, Authy, or another TOTP app. Then enter the 6-digit code to confirm."}),f.qr&&e.jsx(m,{sx:{display:"flex",justifyContent:"center",mb:2},children:e.jsx("img",{src:f.qr,alt:"2FA QR Code",style:{width:200,height:200}})}),f.secret&&e.jsxs(F,{severity:"info",sx:{mb:2},children:["Secret: ",f.secret]}),e.jsx(o,{fullWidth:!0,label:"Authentication code",value:R,onChange:a=>H(a.target.value)})]}),e.jsxs(Y,{children:[e.jsx(s,{onClick:()=>k(!1),children:"Cancel"}),e.jsx(s,{variant:"contained",onClick:te,sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000"},children:"Verify & Enable"})]})]})]})};export{Pe as default};
//# sourceMappingURL=SettingsPage-DxNLlMqj.js.map
