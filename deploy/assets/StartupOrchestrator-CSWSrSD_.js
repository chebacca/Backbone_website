const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CloudProjectIntegration-C0DEAOx-.js","assets/index-BvoI4F7U.js","assets/mui-BeKQ6Vc5.js","assets/vendor-OeuszDaU.js","assets/stripe-B_MuO_-5.js","assets/index-BFoWrjWu.css"])))=>i.map(i=>d[i]);
import{j as e,b as O,a as o,T as a,t as N,G as R,k as re,l as se,U as ie,W as le,X as ce,n as $,Y as de,h as D,c5 as ue,d as A,aO as he,aP as xe,aY as Q,aQ as me,aT as fe,c6 as pe,F as je,c7 as ge,aR as ye,bg as V,_ as be,Z as ne,aA as K,u as ve,v as Ce,aB as Se,c8 as we,R as Ie,bb as ke,bc as H,ah as X,c9 as Pe,ak as ze,a4 as Me,ca as Ae,cb as Le,I as _e,aJ as We,aw as Te,C as G,D as Z,cc as De}from"./mui-BeKQ6Vc5.js";import{r as n}from"./vendor-OeuszDaU.js";import{s as B,_ as Re}from"./index-BvoI4F7U.js";import{M as Be,i as Ee,u as oe,P as Fe,a as Ne,b as qe,L as Ue,m as J}from"./proxy-rb2B78Gd.js";import{U as Oe}from"./UnifiedProjectCreationDialog-CcOfQ94u.js";import Ye from"./LoginPage-Dzghyjra.js";import"./stripe-B_MuO_-5.js";import"./index.esm-BqJ7I8dv.js";import"./notistack.esm-CcFOI6Un.js";class $e extends n.Component{getSnapshotBeforeUpdate(s){const c=this.props.childRef.current;if(c&&s.isPresent&&!this.props.isPresent){const h=c.offsetParent,y=Ee(h)&&h.offsetWidth||0,x=this.props.sizeRef.current;x.height=c.offsetHeight||0,x.width=c.offsetWidth||0,x.top=c.offsetTop,x.left=c.offsetLeft,x.right=y-x.width-x.left}return null}componentDidUpdate(){}render(){return this.props.children}}function He({children:i,isPresent:s,anchorX:c,root:h}){const y=n.useId(),x=n.useRef(null),p=n.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:S}=n.useContext(Be);return n.useInsertionEffect(()=>{const{width:w,height:f,top:m,left:u,right:d}=p.current;if(s||!x.current||!w||!f)return;const j=c==="left"?`left: ${u}`:`right: ${d}`;x.current.dataset.motionPopId=y;const r=document.createElement("style");S&&(r.nonce=S);const b=h??document.head;return b.appendChild(r),r.sheet&&r.sheet.insertRule(`
          [data-motion-pop-id="${y}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${f}px !important;
            ${j}px !important;
            top: ${m}px !important;
          }
        `),()=>{b.contains(r)&&b.removeChild(r)}},[s]),e.jsx($e,{isPresent:s,childRef:x,sizeRef:p,children:n.cloneElement(i,{ref:x})})}const Ge=({children:i,initial:s,isPresent:c,onExitComplete:h,custom:y,presenceAffectsLayout:x,mode:p,anchorX:S,root:w})=>{const f=oe(Qe),m=n.useId();let u=!0,d=n.useMemo(()=>(u=!1,{id:m,initial:s,isPresent:c,custom:y,onExitComplete:j=>{f.set(j,!0);for(const r of f.values())if(!r)return;h&&h()},register:j=>(f.set(j,!1),()=>f.delete(j))}),[c,f,h]);return x&&u&&(d={...d}),n.useMemo(()=>{f.forEach((j,r)=>f.set(r,!1))},[c]),n.useEffect(()=>{!c&&!f.size&&h&&h()},[c]),p==="popLayout"&&(i=e.jsx(He,{isPresent:c,anchorX:S,root:w,children:i})),e.jsx(Fe.Provider,{value:d,children:i})};function Qe(){return new Map}const U=i=>i.key||"";function ee(i){const s=[];return n.Children.forEach(i,c=>{n.isValidElement(c)&&s.push(c)}),s}const ae=({children:i,custom:s,initial:c=!0,onExitComplete:h,presenceAffectsLayout:y=!0,mode:x="sync",propagate:p=!1,anchorX:S="left",root:w})=>{const[f,m]=Ne(p),u=n.useMemo(()=>ee(i),[i]),d=p&&!f?[]:u.map(U),j=n.useRef(!0),r=n.useRef(u),b=oe(()=>new Map),[I,z]=n.useState(u),[M,_]=n.useState(u);qe(()=>{j.current=!1,r.current=u;for(let k=0;k<M.length;k++){const v=U(M[k]);d.includes(v)?b.delete(v):b.get(v)!==!0&&b.set(v,!1)}},[M,d.length,d.join("-")]);const T=[];if(u!==I){let k=[...u];for(let v=0;v<M.length;v++){const L=M[v],F=U(L);d.includes(F)||(k.splice(v,0,L),T.push(L))}return x==="wait"&&T.length&&(k=T),_(ee(k)),z(u),null}const{forceRender:E}=n.useContext(Ue);return e.jsx(e.Fragment,{children:M.map(k=>{const v=U(k),L=p&&!f?!1:u===M||d.includes(v),F=()=>{if(b.has(v))b.set(v,!0);else return;let q=!0;b.forEach(Y=>{Y||(q=!1)}),q&&(E==null||E(),_(r.current),p&&(m==null||m()),h&&h())};return e.jsx(Ge,{isPresent:L,initial:!j.current||c?void 0:!1,custom:s,presenceAffectsLayout:y,mode:x,root:w,onExitComplete:L?void 0:F,anchorX:S,children:k},v)})})},te=[{mode:"standalone",title:"Standalone Mode",description:"Work on projects individually with full control over your data and setup.",icon:e.jsx(V,{sx:{fontSize:48}}),benefits:["Work offline without internet connection","Full control over project files and data","No authentication required for local projects","Perfect for individual work and prototyping","Can optionally share via local network"],requirements:["Local storage space for project files","Sufficient system resources"],recommendedFor:["Individual developers and designers","Prototype and proof-of-concept work","Offline or limited connectivity environments","Maximum privacy and data control"],defaultStorageMode:"local",availableStorageModes:["local","cloud","hybrid"]},{mode:"shared_network",title:"Network Mode",description:"Collaborate with team members in real-time with shared projects and resources.",icon:e.jsx(be,{sx:{fontSize:48}}),benefits:["Real-time collaboration with team members","Shared project access and permissions","Centralized data and asset management","Built-in version control and conflict resolution","Cross-platform synchronization"],requirements:["Stable internet connection","User authentication and account","Team organization setup"],recommendedFor:["Teams and collaborative projects","Professional production environments","Multi-user content management","Organizations requiring shared workflows"],defaultStorageMode:"cloud",availableStorageModes:["cloud","hybrid"]}],Ve=({onModeSelected:i})=>{const[s,c]=n.useState(null),[h,y]=n.useState("local"),[x,p]=n.useState(!1),[S,w]=n.useState(!1),f=r=>{c(r.mode),y(r.defaultStorageMode),r.availableStorageModes.length===1?m(r.mode,r.defaultStorageMode):p(!0)},m=async(r,b)=>{w(!0);try{await B.selectMode(r,b),i==null||i(r,b)}catch(I){console.error("Mode selection failed:",I)}finally{w(!1),p(!1)}},u=r=>{switch(r){case"local":return"Store all project data on your local machine. No internet required, maximum privacy.";case"cloud":return"Store project data in the cloud for sharing, backup, and access from multiple devices.";case"hybrid":return"Combine local and cloud storage for optimal performance and flexibility."}},d=r=>{switch(r){case"local":return e.jsx(V,{});case"cloud":return e.jsx(ne,{});case"hybrid":return e.jsx(Q,{})}},j=te.find(r=>r.mode===s);return e.jsxs(O,{maxWidth:"lg",sx:{py:4},children:[e.jsxs(o,{sx:{textAlign:"center",mb:4},children:[e.jsx(a,{variant:"h3",component:"h1",gutterBottom:!0,fontWeight:"bold",children:"Choose Your Workspace Mode"}),e.jsx(a,{variant:"h6",color:"text.secondary",sx:{maxWidth:"600px",mx:"auto"},children:"Select how you want to work with your projects. You can change this later."})]}),e.jsx(N,{severity:"info",sx:{mb:4},children:e.jsxs(a,{variant:"body2",children:[e.jsx("strong",{children:"New to the Dashboard?"})," Standalone mode is perfect for getting started individually, while Network mode is ideal for team collaboration."]})}),e.jsx(R,{container:!0,spacing:4,justifyContent:"center",children:te.map((r,b)=>e.jsx(R,{item:!0,xs:12,md:6,children:e.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},children:e.jsxs(re,{sx:{height:"100%",cursor:"pointer",transition:"all 0.3s ease",border:s===r.mode?2:1,borderColor:s===r.mode?"primary.main":"divider","&:hover":{borderColor:"primary.main",transform:"translateY(-4px)",boxShadow:I=>I.shadows[8]}},onClick:()=>f(r),children:[e.jsxs(se,{sx:{p:3,height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(o,{sx:{color:"primary.main",mr:2},children:r.icon}),e.jsxs(o,{children:[e.jsx(a,{variant:"h5",component:"h2",fontWeight:"bold",children:r.title}),e.jsx(a,{variant:"body2",color:"text.secondary",children:r.description})]})]}),e.jsxs(o,{sx:{mb:3,flexGrow:1},children:[e.jsx(a,{variant:"subtitle2",gutterBottom:!0,color:"primary",children:"Benefits:"}),e.jsx(ie,{dense:!0,sx:{py:0},children:r.benefits.map((I,z)=>e.jsxs(le,{sx:{py:.5,px:0},children:[e.jsx(ce,{sx:{minWidth:32},children:e.jsx($,{color:"success",fontSize:"small"})}),e.jsx(de,{primary:I,primaryTypographyProps:{variant:"body2"}})]},z))})]}),e.jsxs(o,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",gutterBottom:!0,children:"Perfect for:"}),e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:r.recommendedFor.map((I,z)=>e.jsx(D,{label:I,size:"small",variant:"outlined",color:"primary"},z))})]}),r.requirements.length>0&&e.jsxs(o,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",gutterBottom:!0,color:"warning.main",children:"Requirements:"}),e.jsx(o,{component:"ul",sx:{m:0,pl:2},children:r.requirements.map((I,z)=>e.jsx(a,{component:"li",variant:"body2",color:"text.secondary",children:I},z))})]})]}),e.jsx(ue,{sx:{p:3,pt:0},children:e.jsx(A,{fullWidth:!0,variant:s===r.mode?"contained":"outlined",size:"large",startIcon:s===r.mode?e.jsx($,{}):void 0,disabled:S,children:s===r.mode?"Selected":`Choose ${r.title}`})})]})})},r.mode))}),e.jsxs(he,{open:x,onClose:()=>p(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(xe,{children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Q,{}),"Choose Storage Mode"]})}),e.jsxs(me,{children:[e.jsxs(a,{variant:"body1",paragraph:!0,children:["How would you like to store your project data for ",e.jsx("strong",{children:j==null?void 0:j.title}),"?"]}),e.jsx(fe,{component:"fieldset",fullWidth:!0,children:e.jsx(pe,{value:h,onChange:r=>y(r.target.value),children:j==null?void 0:j.availableStorageModes.map(r=>e.jsx(je,{value:r,control:e.jsx(ge,{}),label:e.jsxs(o,{sx:{py:1},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[d(r),e.jsxs(a,{variant:"subtitle1",fontWeight:"medium",children:[r.charAt(0).toUpperCase()+r.slice(1)," Storage"]})]}),e.jsx(a,{variant:"body2",color:"text.secondary",children:u(r)})]}),sx:{alignItems:"flex-start",mx:0,mb:1}},r))})}),h==="cloud"&&e.jsx(N,{severity:"info",sx:{mt:2},children:e.jsx(a,{variant:"body2",children:"Cloud storage requires authentication and an active internet connection."})}),h==="hybrid"&&e.jsx(N,{severity:"warning",sx:{mt:2},children:e.jsx(a,{variant:"body2",children:"Hybrid storage provides the best of both worlds but requires careful sync management."})})]}),e.jsxs(ye,{sx:{p:3},children:[e.jsx(A,{onClick:()=>p(!1),disabled:S,children:"Back"}),e.jsx(A,{onClick:()=>m(s,h),variant:"contained",disabled:S,startIcon:e.jsx($,{}),children:S?"Setting up...":"Continue"})]})]})]})},Je=({mode:i,storageMode:s,onProjectSelected:c,onBack:h})=>{const[y,x]=n.useState([]),[p,S]=n.useState([]),[w,f]=n.useState(!0),[m,u]=n.useState(""),[d,j]=n.useState("my_projects"),[r,b]=n.useState("lastAccessed"),[I,z]=n.useState(!1),[M,_]=n.useState(null);n.useEffect(()=>{T()},[i,s,d]),n.useEffect(()=>{E()},[y,m,r,d]);const T=async()=>{f(!0);try{let t=[];if(i==="shared_network"||s==="cloud"||s==="hybrid")try{const{cloudProjectIntegration:g}=await Re(async()=>{const{cloudProjectIntegration:P}=await import("./CloudProjectIntegration-C0DEAOx-.js");return{cloudProjectIntegration:P}},__vite__mapDeps([0,1,2,3,4,5])),C=(await g.getUserProjects()).map(P=>({id:P.id,name:P.name,description:P.description,mode:P.applicationMode,storageMode:(P.storageBackend==="firestore","cloud"),lastAccessed:P.lastAccessedAt,collaborators:P.maxCollaborators||0,status:P.isActive?"active":"archived",tags:[],size:"Unknown",isOwner:!0}));t=[...t,...C]}catch(g){console.error("Failed to load cloud projects:",g)}if(i==="standalone"||s==="local")try{const W=JSON.parse(localStorage.getItem("localProjects")||"[]").map(C=>{var P;return{id:C.id,name:C.name,description:C.description,mode:C.mode,storageMode:C.storageMode,lastAccessed:C.createdAt,collaborators:((P=C.localNetworkConfig)==null?void 0:P.maxUsers)||0,status:"active",tags:[],size:"Unknown",isOwner:!0}});t=[...t,...W]}catch(g){console.error("Failed to load local projects:",g)}let l=t;d==="my_projects"?l=l.filter(g=>g.isOwner):d==="shared_projects"&&(l=l.filter(g=>!g.isOwner)),x(l)}catch(t){console.error("Failed to load projects:",t)}finally{f(!1)}},E=()=>{let t=[...y];m&&(t=t.filter(l=>{var g,W;return l.name.toLowerCase().includes(m.toLowerCase())||((g=l.description)==null?void 0:g.toLowerCase().includes(m.toLowerCase()))||((W=l.tags)==null?void 0:W.some(C=>C.toLowerCase().includes(m.toLowerCase())))})),t.sort((l,g)=>{switch(r){case"name":return l.name.localeCompare(g.name);case"lastAccessed":return new Date(g.lastAccessed).getTime()-new Date(l.lastAccessed).getTime();case"size":return(g.size||"").localeCompare(l.size||"");case"collaborators":return(g.collaborators||0)-(l.collaborators||0);default:return 0}}),S(t)},k=t=>{B.selectProject(t),c==null||c(t)},v=t=>{const l=new Date(t),W=new Date().getTime()-l.getTime(),C=Math.floor(W/(1e3*60*60*24));return C===0?"Today":C===1?"Yesterday":C<7?`${C} days ago`:l.toLocaleDateString()},L=t=>{switch(t){case"local":return e.jsx(V,{fontSize:"small"});case"cloud":return e.jsx(ne,{fontSize:"small"});case"hybrid":return e.jsx(Q,{fontSize:"small"})}},F=t=>{switch(t){case"active":return"success";case"shared":return"info";case"archived":return"default";default:return"default"}},q=t=>e.jsx(J.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},children:e.jsx(re,{sx:{height:"100%",cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:l=>l.shadows[4]}},onClick:()=>k(t.id),children:e.jsxs(se,{children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Le,{color:"primary"}),e.jsx(a,{variant:"h6",component:"h3",noWrap:!0,children:t.name})]}),e.jsx(_e,{size:"small",onClick:l=>{l.stopPropagation(),_(l.currentTarget)},children:e.jsx(We,{})})]}),t.description&&e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:t.description}),e.jsxs(o,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mb:2},children:[e.jsx(D,{size:"small",label:t.status,color:F(t.status),variant:"outlined"}),e.jsx(D,{size:"small",icon:L(t.storageMode),label:t.storageMode,variant:"outlined"}),t.collaborators&&e.jsx(D,{size:"small",icon:e.jsx(Te,{}),label:t.collaborators,variant:"outlined"})]}),t.tags&&t.tags.length>0&&e.jsxs(o,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mb:2},children:[t.tags.slice(0,3).map(l=>e.jsx(D,{size:"small",label:l,variant:"filled",color:"primary",sx:{fontSize:"0.75rem"}},l)),t.tags.length>3&&e.jsx(D,{size:"small",label:`+${t.tags.length-3}`,variant:"outlined",sx:{fontSize:"0.75rem"}})]}),e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:"auto"},children:[e.jsx(a,{variant:"caption",color:"text.secondary",children:v(t.lastAccessed)}),t.size&&e.jsx(a,{variant:"caption",color:"text.secondary",children:t.size})]})]})})},t.id),Y=()=>e.jsxs(o,{sx:{textAlign:"center",py:8},children:[e.jsx(Ae,{sx:{fontSize:64,color:"text.secondary",mb:2}}),e.jsx(a,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:m?"No projects found":"No projects yet"}),e.jsx(a,{variant:"body2",color:"text.secondary",paragraph:!0,children:m?"Try adjusting your search criteria":i==="standalone"?"Create your first standalone project to get started":"Create or join a network project to begin collaborating"}),!m&&e.jsx(A,{variant:"contained",startIcon:e.jsx(K,{}),onClick:()=>z(!0),size:"large",children:"Create Project"})]});return e.jsxs(O,{maxWidth:"lg",sx:{py:4},children:[e.jsxs(o,{sx:{mb:4},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h4",component:"h1",fontWeight:"bold",children:"Your Projects"}),e.jsxs(o,{sx:{display:"flex",gap:1},children:[h&&e.jsx(A,{onClick:h,variant:"outlined",children:"Back"}),e.jsx(A,{variant:"contained",startIcon:e.jsx(K,{}),onClick:()=>z(!0),children:"Create Project"})]})]}),e.jsx(N,{severity:"info",sx:{mb:3},children:e.jsxs(a,{variant:"body2",children:["Currently in ",e.jsxs("strong",{children:[i==="standalone"?"Standalone":"Network"," mode"]})," with"," ",e.jsxs("strong",{children:[s," storage"]}),".",i==="standalone"&&s==="local"&&" Working offline with local files.",i==="shared_network"&&" Ready for team collaboration."]})}),e.jsxs(o,{sx:{display:"flex",gap:2,mb:3,flexWrap:"wrap"},children:[e.jsx(ve,{placeholder:"Search projects...",value:m,onChange:t=>u(t.target.value),size:"small",sx:{flexGrow:1,minWidth:200},InputProps:{startAdornment:e.jsx(Ce,{position:"start",children:e.jsx(Se,{})})}}),e.jsxs(A,{variant:"outlined",startIcon:e.jsx(we,{}),onClick:t=>_(t.currentTarget),children:["Sort: ",r]}),e.jsx(A,{variant:"outlined",startIcon:e.jsx(Ie,{}),onClick:T,disabled:w,children:"Refresh"})]}),e.jsxs(ke,{value:d,onChange:(t,l)=>j(l),sx:{borderBottom:1,borderColor:"divider"},children:[e.jsx(H,{label:e.jsx(X,{badgeContent:y.filter(t=>t.isOwner).length,color:"primary",children:"My Projects"}),value:"my_projects"}),i==="shared_network"&&e.jsx(H,{label:e.jsx(X,{badgeContent:y.filter(t=>!t.isOwner).length,color:"secondary",children:"Shared Projects"}),value:"shared_projects"}),e.jsx(H,{label:"Recent",value:"recent"})]})]}),e.jsx(o,{sx:{mb:4},children:w?e.jsx(R,{container:!0,spacing:3,children:[...Array(6)].map((t,l)=>e.jsx(R,{item:!0,xs:12,sm:6,md:4,children:e.jsx(Pe,{variant:"rectangular",height:200,sx:{borderRadius:1}})},l))}):p.length>0?e.jsx(R,{container:!0,spacing:3,children:e.jsx(ae,{children:p.map(t=>e.jsx(R,{item:!0,xs:12,sm:6,md:4,children:q(t)},t.id))})}):Y()}),e.jsx(ze,{anchorEl:M,open:!!M,onClose:()=>_(null),children:[{value:"lastAccessed",label:"Last Accessed"},{value:"name",label:"Name"},{value:"size",label:"Size"},{value:"collaborators",label:"Collaborators"}].map(t=>e.jsx(Me,{selected:r===t.value,onClick:()=>{b(t.value),_(null)},children:t.label},t.value))}),e.jsx(Oe,{open:I,onClose:()=>z(!1),mode:i,onSuccess:t=>{z(!1),k(t)}})]})},Ke={mode_selection:"Choose Your Workspace Mode",authentication:"Sign In to Continue",project_selection:"Select or Create a Project",complete:"Loading Your Workspace"},Xe={mode_selection:"Select how you want to work with your projects",authentication:"Authentication required for this mode",project_selection:"Choose an existing project or create a new one",complete:"Setting up your workspace..."},lt=({onStartupComplete:i})=>{const[s,c]=n.useState(null),[h,y]=n.useState(!0);n.useEffect(()=>B.subscribe(d=>{c(d),y(!1),d.currentStep==="complete"&&d.selectedProjectId&&setTimeout(()=>{i==null||i(d.selectedProjectId)},1e3)}),[i]);const x=u=>{B.onAuthenticationSuccess(u)},p=(u,d)=>{console.log("Mode selected:",u,"Storage:",d)},S=u=>{console.log("Project selected:",u)},w=()=>{B.reset()},f=()=>{(s==null?void 0:s.currentStep)==="authentication"?window.location.reload():B.reset()};if(h||!s)return e.jsxs(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",gap:2},children:[e.jsx(G,{size:60}),e.jsx(a,{variant:"h6",color:"text.secondary",children:"Initializing Dashboard..."})]});const m=()=>{switch(s.currentStep){case"mode_selection":return e.jsx(Ve,{onModeSelected:p});case"authentication":return e.jsxs(O,{maxWidth:"sm",children:[e.jsxs(o,{sx:{textAlign:"center",mb:4},children:[e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,children:"Authentication Required"}),e.jsx(a,{variant:"h6",color:"text.secondary",paragraph:!0,children:s.selectedMode==="shared_network"?"Network mode requires authentication to access shared projects":"Cloud storage requires authentication to sync your data"}),e.jsx(A,{variant:"outlined",onClick:w,sx:{mt:2},children:"Back to Mode Selection"})]}),e.jsx(Ye,{onSuccess:x,mode:s.selectedMode,redirectTo:"/startup"})]});case"project_selection":return e.jsx(Je,{mode:s.selectedMode,storageMode:s.storageMode,onProjectSelected:S,onBack:w});case"complete":return e.jsxs(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",gap:3},children:[e.jsx(G,{size:80}),e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,children:"Setting Up Your Workspace"}),e.jsxs(a,{variant:"h6",color:"text.secondary",textAlign:"center",children:['Loading project "',s.selectedProjectId,'" in'," ",s.selectedMode==="standalone"?"Standalone":"Network"," mode"]}),e.jsx(Z,{sx:{width:"300px",mt:2}})]});default:return null}};return e.jsxs(o,{sx:{minHeight:"100vh",backgroundColor:"background.default"},children:[s.currentStep!=="complete"&&e.jsxs(o,{sx:{position:"fixed",top:0,left:0,right:0,zIndex:1e3},children:[e.jsx(Z,{variant:"determinate",value:s.currentStep==="mode_selection"?25:s.currentStep==="authentication"?50:s.currentStep==="project_selection"?75:100,sx:{height:3}}),e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,backgroundColor:"background.paper",borderBottom:1,borderColor:"divider"},children:[e.jsxs(o,{children:[e.jsx(a,{variant:"h6",component:"h1",children:Ke[s.currentStep]}),e.jsx(a,{variant:"body2",color:"text.secondary",children:Xe[s.currentStep]})]}),s.selectedMode&&e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxs(a,{variant:"body2",color:"text.secondary",children:["Mode: ",s.selectedMode==="standalone"?"Standalone":"Network"]}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["Storage: ",s.storageMode]})]})]})]}),s.error&&e.jsx(O,{maxWidth:"sm",sx:{pt:s.currentStep!=="complete"?"120px":"20px"},children:e.jsx(N,{severity:"error",action:e.jsx(A,{color:"inherit",size:"small",onClick:f,children:"Retry"}),sx:{mb:3},children:e.jsx(a,{variant:"body2",children:s.error})})}),e.jsx(o,{sx:{pt:s.currentStep!=="complete"?"120px":0},children:e.jsx(ae,{mode:"wait",children:e.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:m()},s.currentStep)})}),e.jsx(De,{in:s.isLoading,children:e.jsx(o,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:e.jsxs(o,{sx:{backgroundColor:"background.paper",borderRadius:2,p:4,display:"flex",flexDirection:"column",alignItems:"center",gap:2,minWidth:200},children:[e.jsx(G,{}),e.jsx(a,{variant:"body1",children:s.currentStep==="mode_selection"?"Applying mode...":s.currentStep==="authentication"?"Authenticating...":s.currentStep==="project_selection"?"Loading project...":"Processing..."})]})})})]})};export{lt as StartupOrchestrator,lt as default};
