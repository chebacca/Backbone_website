import{j as e,a as f,T as j,d as z,bg as Fe,G as b,k as K,l as Z,at as H,o as Ue,n as ne,ax as ye,m as $e,H as _e,aW as Ge,c as Le,aX as He,aY as Xe,aZ as be,a_ as M,a$ as Ye,h as pe,bh as qe,bi as Ke,bj as Ze,I as ee,b0 as Je,bk as Qe,aP as es,aj as ss,a4 as v,X as J,b3 as as,w as ts,bl as Ae,bf as ns,az as je,aA as ve,aC as fe,u as B,aK as se,b6 as ae,aO as te,aE as Se,t as we,v as Ee,x as Me,y as Ie}from"./mui-D5kihkEV.js";import{r as S}from"./vendor-OeuszDaU.js";import{u as rs}from"./notistack.esm-CcFOI6Un.js";import{u as is,c as P,e as D}from"./index-BZkk_nnT.js";import"./stripe-CzcFqipZ.js";const os=x=>{switch(x){case"admin":return"secondary";case"owner":return"secondary";case"manager":return"info";case"member":return"success";case"viewer":return"default";default:return"default"}},ls=x=>{switch(x){case"active":return"success";case"pending":return"warning";case"suspended":return"error";case"removed":return"default";default:return"default"}},ds=x=>{switch(x){case"active":return e.jsx(ne,{});case"pending":return e.jsx(ye,{});case"suspended":return e.jsx(Ae,{});default:return e.jsx(ne,{})}},bs=()=>{const{enqueueSnackbar:x}=rs(),{user:Q}=is(),[Ce,k]=S.useState([]),[A,W]=S.useState({totalMembers:0,activeMembers:0,pendingInvites:0,availableSeats:0,totalSeats:0}),[y,re]=S.useState(null),[cs,ie]=S.useState(""),N=(s,{includeTime:a=!1}={})=>{try{if(!s){const o=new Date;return a?o.toISOString():o.toISOString().slice(0,10)}if(typeof s=="string"||typeof s=="number"){const o=new Date(s);if(!Number.isNaN(o.getTime()))return a?o.toISOString():o.toISOString().slice(0,10)}if(typeof s=="object"){const o=s._seconds,n=s._nanoseconds??0;if(typeof o=="number"){const l=o*1e3+Math.floor(n/1e6),d=new Date(l);return a?d.toISOString():d.toISOString().slice(0,10)}}}catch{}const p=new Date;return a?p.toISOString():p.toISOString().slice(0,10)};S.useEffect(()=>{let s=!0;return(async()=>{var a,p,o,n,l,d;try{const g=await P.get(D.organizations.my()),h=((p=(a=g==null?void 0:g.data)==null?void 0:a.data)==null?void 0:p.owned)??[],w=((n=(o=g==null?void 0:g.data)==null?void 0:o.data)==null?void 0:n.memberOf)??[],E=h[0]||w[0]||null;if(!E){s&&(re(null),ie(""),k([]),W({totalMembers:0,activeMembers:0,pendingInvites:0,availableSeats:0,totalSeats:0}));return}const I=E.members||[],t=I.filter(u=>u.status==="INVITED").length,r=I.filter(u=>u.status==="ACTIVE").length,O=(((d=(l=(await P.get(D.subscriptions.mySubscriptions())).data)==null?void 0:l.data)==null?void 0:d.subscriptions)??[]).filter(u=>u.organizationId===E.id&&u.status==="ACTIVE").reduce((u,L)=>u+(L.seats||0),0),Y=Math.max(0,O-(r+t)),q=(Array.isArray(I)?I:[]).filter(u=>u&&u.status!=="REMOVED").map(u=>{const L=String(u.email||"user@example.com"),he=L.split("@")[0]||"User",ze={OWNER:"owner",ENTERPRISE_ADMIN:"admin",MANAGER:"manager",MEMBER:"member"},Be={INVITED:"pending",ACTIVE:"active",REMOVED:"removed"};return{id:String(u.id||`${L}-${Math.random().toString(36).slice(2)}`),firstName:he.charAt(0).toUpperCase()+he.slice(1),lastName:"",email:L,role:ze[String(u.role)]||"member",status:Be[String(u.status)]||"active",joinedAt:N(u.joinedAt),lastActive:N(u.updatedAt||u.joinedAt||new Date,{includeTime:!0})}});if(!s)return;re(E.id),ie(E.name||"Organization"),k(q),W({totalMembers:q.length,activeMembers:r,pendingInvites:t,availableSeats:Y,totalSeats:O})}catch(g){if(!s)return;console.error("[TeamPage] Failed to load team data:",g),k([]),W({totalMembers:0,activeMembers:0,pendingInvites:0,availableSeats:0,totalSeats:0})}})(),()=>{s=!1}},[Q==null?void 0:Q.email]);const[oe,le]=S.useState(null),[i,de]=S.useState(null),[Pe,F]=S.useState(!1),[De,U]=S.useState(!1),[$,X]=S.useState(!1),[ce,me]=S.useState(!1),[ue,xe]=S.useState(!1),[m,V]=S.useState({newPassword:"",confirmPassword:"",email:"",role:"member",status:"active"}),[T,_]=S.useState({email:"",role:"member",department:"",message:""}),Ne=(s,a)=>{le(s.currentTarget),de(a)},G=()=>{le(null)},Te=async()=>{var s,a,p,o;if(y)try{const n={admin:"ENTERPRISE_ADMIN",owner:"ENTERPRISE_ADMIN",manager:"MANAGER",member:"MEMBER",viewer:"MEMBER"};await P.post(D.organizations.invite(y),{email:T.email,role:n[T.role]||"MEMBER"}),x(`Invitation sent to ${T.email}`,{variant:"success"}),F(!1),_({email:"",role:"member",department:"",message:""});const l=await P.get(D.organizations.my()),d=((a=(s=l==null?void 0:l.data)==null?void 0:s.data)==null?void 0:a.owned)??[],g=((o=(p=l==null?void 0:l.data)==null?void 0:p.data)==null?void 0:o.memberOf)??[],h=[...d,...g].find(w=>w.id===y)||d[0]||g[0];if(h){const w=h.members||[],E=(Array.isArray(w)?w:[]).filter(r=>r&&r.status!=="REMOVED").map(r=>{const C=String(r.email||"user@example.com"),R=C.split("@")[0]||"User",c={OWNER:"owner",ENTERPRISE_ADMIN:"admin",MANAGER:"manager",MEMBER:"member"},O={INVITED:"pending",ACTIVE:"active",REMOVED:"removed"};return{id:String(r.id||`${C}-${Math.random().toString(36).slice(2)}`),firstName:R.charAt(0).toUpperCase()+R.slice(1),lastName:"",email:C,role:c[String(r.role)]||"member",status:O[String(r.status)]||"active",joinedAt:N(r.joinedAt),lastActive:N(r.updatedAt||r.joinedAt||new Date,{includeTime:!0})}}),I=w.filter(r=>r.status==="INVITED").length,t=w.filter(r=>r.status==="ACTIVE").length;k(E),W(r=>({...r,totalMembers:E.length,pendingInvites:I,activeMembers:t,availableSeats:Math.max(0,r.totalSeats-(t+I))}))}}catch(n){console.error("[TeamPage] Invite failed:",n),x((n==null?void 0:n.message)||"Failed to send invitation",{variant:"error"})}},Re=()=>{i&&x(`Invitation resent to ${i.email}`,{variant:"success"}),G()},Oe=()=>{V({newPassword:"",confirmPassword:"",email:(i==null?void 0:i.email)||"",role:(i==null?void 0:i.role)||"member",status:(i==null?void 0:i.status)||"active"}),me(!1),xe(!1),U(!0)},ke=async()=>{var o,n;if(!i)return;if(i.status!=="active"){x("Password can only be set after the member has joined (status Active).",{variant:"warning"});return}const s=i.email,{newPassword:a,confirmPassword:p}=m;if(!a||a.length<8){x("Password must be at least 8 characters.",{variant:"warning"});return}if(a!==p){x("Passwords do not match.",{variant:"warning"});return}try{if(X(!0),!y){x("Organization context not found.",{variant:"error"});return}await P.put(D.organizations.setMemberPassword(y,i.id),{password:a}),x(`Password set for ${s}`,{variant:"success"}),U(!1)}catch(l){const d=((n=(o=l==null?void 0:l.response)==null?void 0:o.data)==null?void 0:n.message)||(l==null?void 0:l.message)||"Failed to set password";x(d,{variant:"error"})}finally{X(!1)}},We=async()=>{var s,a,p,o,n,l;if(!(!i||!y))try{X(!0);const d={admin:"ENTERPRISE_ADMIN",owner:"ENTERPRISE_ADMIN",manager:"MANAGER",member:"MEMBER",viewer:"MEMBER"},g={pending:"INVITED",active:"ACTIVE",suspended:"SUSPENDED",removed:"REMOVED"};console.log("Updating member:",{memberId:i.id,email:m.email,role:d[m.role],status:g[m.status]}),await P.patch(D.organizations.updateMember(y,i.id),{email:m.email,role:d[m.role],status:g[m.status]}),m.newPassword&&m.confirmPassword&&m.newPassword===m.confirmPassword&&await P.put(D.organizations.setMemberPassword(y,i.id),{password:m.newPassword}),x("Member updated successfully",{variant:"success"}),U(!1);const h=await P.get(D.organizations.my()),w=((a=(s=h==null?void 0:h.data)==null?void 0:s.data)==null?void 0:a.owned)??[],E=((o=(p=h==null?void 0:h.data)==null?void 0:p.data)==null?void 0:o.memberOf)??[],I=[...w,...E].find(t=>t.id===y)||w[0]||E[0];if(I){const t=I.members||[],r=(Array.isArray(t)?t:[]).filter(c=>c&&c.status!=="REMOVED").map(c=>{const O=String(c.email||"user@example.com"),Y=O.split("@")[0]||"User",q={OWNER:"owner",ENTERPRISE_ADMIN:"admin",MANAGER:"manager",MEMBER:"member"},u={INVITED:"pending",ACTIVE:"active",REMOVED:"removed"};return{id:String(c.id||`${O}-${Math.random().toString(36).slice(2)}`),firstName:Y.charAt(0).toUpperCase()+Y.slice(1),lastName:"",email:O,role:q[String(c.role)]||"member",status:u[String(c.status)]||"active",joinedAt:N(c.joinedAt),lastActive:N(c.updatedAt||c.joinedAt||new Date,{includeTime:!0})}}),C=t.filter(c=>c.status==="INVITED").length,R=t.filter(c=>c.status==="ACTIVE").length;k(r),W(c=>({...c,totalMembers:r.length,pendingInvites:C,activeMembers:R,availableSeats:Math.max(0,c.totalSeats-(R+C))}))}}catch(d){console.error("[TeamPage] Update member failed:",d);const g=((l=(n=d==null?void 0:d.response)==null?void 0:n.data)==null?void 0:l.message)||(d==null?void 0:d.message)||"Failed to update member";x(g,{variant:"error"})}finally{X(!1)}},Ve=async()=>{var s,a,p,o;if(!(!i||!y))try{await P.post(D.organizations.removeMember(y,i.id)),x(`${i.email} removed from team`,{variant:"warning"});const n=await P.get(D.organizations.my()),l=((a=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:a.owned)??[],d=((o=(p=n==null?void 0:n.data)==null?void 0:p.data)==null?void 0:o.memberOf)??[],g=[...l,...d].find(h=>h.id===y)||l[0]||d[0];if(g){const h=g.members||[],w=(Array.isArray(h)?h:[]).filter(t=>t&&t.status!=="REMOVED").map(t=>{const r=String(t.email||"user@example.com"),C=r.split("@")[0]||"User",R={OWNER:"owner",ENTERPRISE_ADMIN:"admin",MANAGER:"manager",MEMBER:"member"},c={INVITED:"pending",ACTIVE:"active",REMOVED:"removed"};return{id:String(t.id||`${r}-${Math.random().toString(36).slice(2)}`),firstName:C.charAt(0).toUpperCase()+C.slice(1),lastName:"",email:r,role:R[String(t.role)]||"member",status:c[String(t.status)]||"active",joinedAt:N(t.joinedAt),lastActive:N(t.updatedAt||t.joinedAt||new Date,{includeTime:!0})}}),E=h.filter(t=>t.status==="INVITED").length,I=h.filter(t=>t.status==="ACTIVE").length;k(w),W(t=>({...t,totalMembers:w.length,pendingInvites:E,activeMembers:I,availableSeats:Math.max(0,t.totalSeats-(I+E))}))}}catch(n){console.error("[TeamPage] Remove member failed:",n),x((n==null?void 0:n.message)||"Failed to remove member",{variant:"error"})}finally{G()}},ge=S.useMemo(()=>A.totalSeats<=0?0:(A.totalSeats-A.availableSeats)/A.totalSeats*100,[A.totalSeats,A.availableSeats]);return e.jsxs(f,{children:[e.jsx(f,{children:e.jsxs(f,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(f,{children:[e.jsx(j,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Team Management"}),e.jsx(j,{variant:"body1",color:"text.secondary",children:"Manage your team members, roles, and license assignments"})]}),e.jsx(z,{variant:"contained",startIcon:e.jsx(Fe,{}),onClick:()=>F(!0),sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000",fontWeight:600},children:"Invite Member"})]})}),e.jsxs(b,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(b,{item:!0,xs:12,sm:6,md:3,children:e.jsx(f,{children:e.jsx(K,{sx:{background:"linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(102, 126, 234, 0.1) 100%)",border:"1px solid rgba(0, 212, 255, 0.2)"},children:e.jsxs(Z,{children:[e.jsx(f,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:e.jsx(H,{sx:{bgcolor:"primary.main"},children:e.jsx(Ue,{})})}),e.jsx(j,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},children:A.totalMembers}),e.jsx(j,{variant:"body2",color:"text.secondary",children:"Total Members"})]})})})}),e.jsx(b,{item:!0,xs:12,sm:6,md:3,children:e.jsx(f,{children:e.jsx(K,{sx:{background:"linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(76, 175, 80, 0.05) 100%)",border:"1px solid rgba(76, 175, 80, 0.2)"},children:e.jsxs(Z,{children:[e.jsx(f,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:e.jsx(H,{sx:{bgcolor:"success.main"},children:e.jsx(ne,{})})}),e.jsx(j,{variant:"h3",sx:{fontWeight:700,color:"success.main"},children:A.activeMembers}),e.jsx(j,{variant:"body2",color:"text.secondary",children:"Active Members"})]})})})}),e.jsx(b,{item:!0,xs:12,sm:6,md:3,children:e.jsx(f,{children:e.jsx(K,{sx:{background:"linear-gradient(135deg, rgba(255, 152, 0, 0.1) 0%, rgba(255, 152, 0, 0.05) 100%)",border:"1px solid rgba(255, 152, 0, 0.2)"},children:e.jsxs(Z,{children:[e.jsx(f,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:e.jsx(H,{sx:{bgcolor:"warning.main"},children:e.jsx(ye,{})})}),e.jsx(j,{variant:"h3",sx:{fontWeight:700,color:"warning.main"},children:A.pendingInvites}),e.jsx(j,{variant:"body2",color:"text.secondary",children:"Pending Invites"})]})})})}),e.jsx(b,{item:!0,xs:12,sm:6,md:3,children:e.jsx(f,{children:e.jsx(K,{sx:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsxs(Z,{children:[e.jsx(f,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:e.jsx(H,{sx:{bgcolor:"secondary.main"},children:e.jsx($e,{})})}),e.jsx(j,{variant:"h3",sx:{fontWeight:700},children:A.availableSeats}),e.jsx(j,{variant:"body2",color:"text.secondary",children:"Available Seats"}),e.jsx(_e,{variant:"determinate",value:ge,sx:{mt:1,height:4,borderRadius:2,backgroundColor:"rgba(255,255,255,0.1)","& .MuiLinearProgress-bar":{borderRadius:2,background:ge>80?"linear-gradient(90deg, #ff9800 0%, #f44336 100%)":"linear-gradient(90deg, #00d4ff 0%, #667eea 100%)"}}})]})})})})]}),e.jsx(f,{children:e.jsx(Ge,{component:Le,sx:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsxs(He,{children:[e.jsx(Xe,{children:e.jsxs(be,{children:[e.jsx(M,{sx:{fontWeight:600},children:"Member"}),e.jsx(M,{sx:{fontWeight:600},children:"Role"}),e.jsx(M,{sx:{fontWeight:600},children:"Department"}),e.jsx(M,{sx:{fontWeight:600},children:"Status"}),e.jsx(M,{sx:{fontWeight:600},children:"License"}),e.jsx(M,{sx:{fontWeight:600},children:"Last Active"}),e.jsx(M,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(Ye,{children:Ce.map(s=>e.jsxs(be,{hover:!0,children:[e.jsx(M,{children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxs(H,{sx:{width:40,height:40},children:[s.firstName[0],s.lastName[0]]}),e.jsxs(f,{children:[e.jsxs(j,{variant:"body2",sx:{fontWeight:500},children:[s.firstName," ",s.lastName]}),e.jsx(j,{variant:"caption",color:"text.secondary",children:s.email})]})]})}),e.jsx(M,{children:e.jsx(pe,{icon:s.role==="admin"?e.jsx(qe,{}):e.jsx(Ke,{}),label:s.role.toUpperCase(),color:os(s.role),size:"small",variant:"outlined"})}),e.jsx(M,{children:e.jsx(j,{variant:"body2",children:s.department||"Not assigned"})}),e.jsx(M,{children:e.jsx(pe,{icon:ds(s.status),label:s.status.toUpperCase(),color:ls(s.status),size:"small"})}),e.jsx(M,{children:s.licenseAssigned?e.jsx(Ze,{title:s.licenseAssigned,children:e.jsx(j,{variant:"body2",sx:{fontFamily:"monospace",maxWidth:120,overflow:"hidden",textOverflow:"ellipsis"},children:s.licenseAssigned})}):e.jsx(j,{variant:"body2",color:"text.secondary",children:"No license"})}),e.jsx(M,{children:e.jsx(j,{variant:"body2",children:s.lastActive?new Date(s.lastActive).toLocaleDateString():"Never"})}),e.jsx(M,{children:e.jsx(ee,{onClick:a=>Ne(a,s),size:"small",children:e.jsx(Je,{})})})]},s.id))})]})})}),e.jsx(Qe,{color:"primary",sx:{position:"fixed",bottom:24,right:24,background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000"},onClick:()=>F(!0),children:e.jsx(es,{})}),e.jsxs(ss,{anchorEl:oe,open:!!oe,onClose:G,PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)"}},children:[e.jsxs(v,{onClick:()=>{G(),Oe()},children:[e.jsx(J,{children:e.jsx(as,{fontSize:"small"})}),"Edit Member"]}),(i==null?void 0:i.status)==="pending"&&e.jsxs(v,{onClick:Re,children:[e.jsx(J,{children:e.jsx(ts,{fontSize:"small"})}),"Resend Invite"]}),e.jsxs(v,{onClick:G,children:[e.jsx(J,{children:e.jsx(Ae,{fontSize:"small"})}),"Suspend Member"]}),e.jsxs(v,{onClick:Ve,sx:{color:"error.main"},children:[e.jsx(J,{children:e.jsx(ns,{fontSize:"small",sx:{color:"error.main"}})}),"Remove Member"]})]}),e.jsxs(je,{open:Pe,onClose:()=>F(!1),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)"}},children:[e.jsx(ve,{children:"Invite Team Member"}),e.jsx(fe,{children:e.jsxs(b,{container:!0,spacing:3,sx:{mt:1},children:[e.jsx(b,{item:!0,xs:12,children:e.jsx(B,{fullWidth:!0,label:"Email Address",type:"email",value:T.email,onChange:s=>_(a=>({...a,email:s.target.value}))})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(se,{fullWidth:!0,children:[e.jsx(ae,{children:"Role"}),e.jsxs(te,{value:T.role,label:"Role",onChange:s=>_(a=>({...a,role:s.target.value})),inputProps:{"aria-label":"Select team member role",title:"Select the role for this team member"},children:[e.jsx(v,{value:"viewer",children:"Viewer"}),e.jsx(v,{value:"member",children:"Member"}),e.jsx(v,{value:"admin",children:"Admin"})]})]})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(B,{fullWidth:!0,label:"Department",value:T.department,onChange:s=>_(a=>({...a,department:s.target.value}))})}),e.jsx(b,{item:!0,xs:12,children:e.jsx(B,{fullWidth:!0,label:"Welcome Message (Optional)",multiline:!0,rows:3,value:T.message,onChange:s=>_(a=>({...a,message:s.target.value}))})})]})}),e.jsxs(Se,{children:[e.jsx(z,{onClick:()=>F(!1),children:"Cancel"}),e.jsx(z,{onClick:Te,variant:"contained",disabled:!T.email,children:"Send Invitation"})]})]}),e.jsxs(je,{open:De,onClose:()=>{U(!1),de(null)},maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)"}},children:[e.jsx(ve,{children:"Edit Member"}),e.jsx(fe,{children:e.jsxs(b,{container:!0,spacing:3,sx:{mt:1},children:[e.jsx(b,{item:!0,xs:12,children:e.jsx(B,{fullWidth:!0,label:"Email",value:m.email,onChange:s=>V(a=>({...a,email:s.target.value}))})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(se,{fullWidth:!0,children:[e.jsx(ae,{children:"Role"}),e.jsxs(te,{value:m.role,label:"Role",onChange:s=>V(a=>({...a,role:s.target.value})),children:[e.jsx(v,{value:"viewer",children:"Viewer"}),e.jsx(v,{value:"member",children:"Member"}),e.jsx(v,{value:"manager",children:"Manager"}),e.jsx(v,{value:"admin",children:"Admin"}),e.jsx(v,{value:"owner",children:"Owner"})]})]})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(se,{fullWidth:!0,children:[e.jsx(ae,{children:"Status"}),e.jsxs(te,{value:m.status,label:"Status",onChange:s=>V(a=>({...a,status:s.target.value})),children:[e.jsx(v,{value:"pending",children:"Pending"}),e.jsx(v,{value:"active",children:"Active"}),e.jsx(v,{value:"suspended",children:"Suspended"}),e.jsx(v,{value:"removed",children:"Removed"})]})]})}),e.jsx(b,{item:!0,xs:12,children:m.status!=="active"?e.jsx(we,{severity:"warning",children:"This member has not joined yet (Pending/Suspended/Removed). You can only set a password for Active members."}):e.jsx(we,{severity:"info",children:"Set a temporary password for this user to log into Backbone. They can change it later."})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(B,{fullWidth:!0,label:"New Password",type:ce?"text":"password",value:m.newPassword,onChange:s=>V(a=>({...a,newPassword:s.target.value})),inputProps:{minLength:8},helperText:"Minimum 8 characters",InputProps:{endAdornment:e.jsx(Ee,{position:"end",children:e.jsx(ee,{onClick:()=>me(s=>!s),edge:"end","aria-label":"toggle password visibility",children:ce?e.jsx(Me,{}):e.jsx(Ie,{})})})}})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx(B,{fullWidth:!0,label:"Confirm Password",type:ue?"text":"password",value:m.confirmPassword,onChange:s=>V(a=>({...a,confirmPassword:s.target.value})),InputProps:{endAdornment:e.jsx(Ee,{position:"end",children:e.jsx(ee,{onClick:()=>xe(s=>!s),edge:"end","aria-label":"toggle password visibility",children:ue?e.jsx(Me,{}):e.jsx(Ie,{})})})}})})]})}),e.jsxs(Se,{children:[e.jsx(z,{onClick:()=>U(!1),disabled:$,children:"Cancel"}),e.jsx(z,{onClick:We,variant:"outlined",disabled:$,children:$?"Saving…":"Save Changes"}),e.jsx(z,{onClick:ke,variant:"contained",disabled:$||!m.newPassword||!m.confirmPassword||m.status!=="active",children:$?"Saving…":"Save Password Only"})]})]})]})};export{bs as default};
