const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UnifiedDataService-PnPk3XeX.js","assets/index-LtlDYKT7.js","assets/mui-B7gVSRQz.js","assets/vendor-CjD1bmmO.js","assets/stripe-DZVnxqrk.js","assets/index-CBai7h7s.css","assets/index.esm-DdZh2hq1.js","assets/index.esm-Dkmm1Qng.js","assets/FirestoreCollectionManager-Bg9c3ZDt.js","assets/firebase-BLZ36yui.js","assets/index.esm-e-DuI42t.js"])))=>i.map(i=>d[i]);
import{_ as cs}from"./index-LtlDYKT7.js";import{j as e,B as t,C as ds,T as a,d as j,ai as we,w as Qs,x as hs,y as F,aj as Zs,z as xs,H as Ce,a as p,aP as Ie,G as Q,X as pe,p as je,am as Z,u as w,t as ea,v as sa,aB as aa,aC as ta,aD as na,aE as ms,aF as f,aG as ra,af as ia,r as Pe,aQ as la,g as us,aH as oa,aR as ca,aS as da,aI as de,aJ as he,aK as xe,aT as gs,e as m,I as D,aU as js,aV as ps,ar as O,as as _,at as G,M as u,F as Le,s as Te,R as ha,aL as me,aW as Ae,aX as xa,aY as vs,aZ as ys,L as Ne,a_ as Se,aO as Ee,a5 as ma,E as ua,D as ga}from"./mui-B7gVSRQz.js";import{r as d,b as fs}from"./vendor-CjD1bmmO.js";import{u as ja}from"./notistack.esm-Ca-E78ev.js";import{b as pa,c as va,a as fa,u as ba,d as ya,f as wa,g as Ca,h as Ia,i as Pa,j as La,k as Ta}from"./useStreamlinedData-DXzWP9l1.js";import{M as ue}from"./MetricCard-DLjlqIaY.js";import"./stripe-DZVnxqrk.js";import"./UnifiedDataService-PnPk3XeX.js";import"./index.esm-DdZh2hq1.js";import"./index.esm-Dkmm1Qng.js";import"./FirestoreCollectionManager-Bg9c3ZDt.js";import"./firebase-BLZ36yui.js";import"./index.esm-e-DuI42t.js";const C=n=>n?n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:n.firstName?n.firstName:n.lastName?n.lastName:n.email?n.email.split("@")[0].replace(/[._-]/g," ").split(" ").map(I=>I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()).join(" "):"Unknown User":"Unknown User",Aa=n=>{if(!n)return"?";const l=C(n);if(l==="Unknown User")return"?";const v=l.split(" ");return v.length>=2?(v[0].charAt(0)+v[1].charAt(0)).toUpperCase():l.charAt(0).toUpperCase()},Na=n=>{if(!n)return"default";switch(n.toLowerCase()){case"owner":return"error";case"admin":return"primary";case"member":return"info";case"viewer":return"default";default:return"default"}},Sa=n=>{if(!n)return"default";switch(n.toLowerCase()){case"active":return"success";case"pending":return"warning";case"suspended":return"error";case"removed":return"default";default:return"default"}},bs=n=>{if(!n)return e.jsx(pe,{});switch(n.toLowerCase()){case"active":return e.jsx(je,{});case"pending":return e.jsx(Z,{});case"suspended":return e.jsx(ys,{});case"removed":return e.jsx(Ee,{});default:return e.jsx(pe,{})}},ge=()=>{const l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let v="";for(let I=0;I<12;I++)v+=l.charAt(Math.floor(Math.random()*l.length));return v},De=(n,l)=>{var W,ee;if(!n||!l)return!1;const v=(W=n.role)==null?void 0:W.toUpperCase(),I=(ee=l.role)==null?void 0:ee.toUpperCase();return v==="ENTERPRISE_USER"||v==="OWNER"||v==="ADMIN"&&I!=="ENTERPRISE_USER"&&I!=="OWNER"?!0:n.id===l.id},Da=(n,l)=>!n.assignedProjects||!l?[]:l.filter(v=>n.assignedProjects.includes(v.id)),Ba=()=>{var rs,is,ls,os;const{enqueueSnackbar:n}=ja(),{data:l,loading:v,error:I}=pa(),{data:W,loading:ee,error:ws}=va(),{data:E,loading:Cs,error:Is,refetch:P}=fa(),{data:o,loading:Ps,error:Ls,refetch:L}=ba(),{data:Ts,loading:As,error:Ns}=ya(),Ss=wa(),Ds=Ca(),Es=Ia(),ve=Pa(),We=La(),fe=Ta(),[Ws,q]=d.useState(!1),[ks,se]=d.useState(!1),[Ms,ae]=d.useState(!1),[Rs,te]=d.useState(!1),[be,ke]=d.useState(""),[B,Me]=d.useState(""),[K,Re]=d.useState(""),[Fe,Ue]=d.useState("member"),[$e,ze]=d.useState(""),[Oe,_e]=d.useState(""),[Ge,qe]=d.useState(""),[ye,ne]=d.useState(""),[U,Fs]=d.useState(!0),[H,Be]=d.useState(!1),[r,V]=d.useState(void 0),[Ke,He]=d.useState(null),[k,Ve]=d.useState(""),[re,Ye]=d.useState(""),[Y,Je]=d.useState(""),[J,Xe]=d.useState(""),[Qe,Ze]=d.useState("member"),[es,ss]=d.useState(""),[T,as]=d.useState(""),[h,ts]=d.useState("pending"),[Us,ie]=d.useState(!1),[le,oe]=d.useState(""),[$,ce]=d.useState(""),[M,ns]=d.useState(!0),$s=v||ee||Cs||Ps||As,zs=I||ws||Is||Ls||Ns;fs.useEffect(()=>{U&&ne(ge())},[U]),fs.useEffect(()=>{const s=async()=>{await Promise.all([L(),P()])},i=async()=>{await Promise.all([P(),L()])};return window.addEventListener("licenses:refresh",s),window.addEventListener("team:refresh",i),()=>{window.removeEventListener("licenses:refresh",s),window.removeEventListener("team:refresh",i)}},[L,P]);const A=d.useMemo(()=>{if(!l||!W||!E||!o)return{members:[],stats:{totalMembers:0,activeMembers:0,pendingInvites:0,availableLicenses:0,totalLicenses:0,assignedLicenses:0}};console.log(`🔍 [TeamPage] Processing ${E.length} team members`);const s=E[0];s&&console.log("🔍 [TeamPage] Sample member:",{email:s.email,displayName:C(s),firstName:s.firstName,lastName:s.lastName});const i=E.filter(S=>{var X;return((X=S.status)==null?void 0:X.toLowerCase())==="active"}).length,c=E.filter(S=>{var X;return((X=S.status)==null?void 0:X.toLowerCase())==="pending"}).length,g=o.length,b=o.filter(S=>S.assignedTo).length,x=o.filter(S=>S.status==="PENDING"&&!S.assignedTo).length,y={totalMembers:E.length,activeMembers:i,pendingInvites:c,availableLicenses:x,totalLicenses:g,assignedLicenses:b};return{members:E,stats:y}},[l,W,E,o]),N=s=>{if(!s.licenseAssignment)return null;const i=o==null?void 0:o.find(c=>{var g;return c.id===((g=s.licenseAssignment)==null?void 0:g.licenseId)});return{licenseId:s.licenseAssignment.licenseId,licenseType:s.licenseAssignment.licenseType,licenseKey:s.licenseAssignment.licenseKey,status:(i==null?void 0:i.status)||"UNKNOWN"}},R=()=>o?o.filter(s=>s.status==="PENDING"&&!s.assignedTo):[],Os=s=>{if(!o)return[];const i=s?N(s):null;return o.filter(c=>!!(c.status==="PENDING"&&!c.assignedTo||i&&c.id===i.licenseId))},_s=(s,i)=>{V(i),He(s.currentTarget)},z=()=>{He(null)},Gs=async()=>{var s,i,c;if(!be.trim()){n("Please enter an email address",{variant:"error"});return}if(!B.trim()){n("Please enter a first name",{variant:"error"});return}if(!K.trim()){n("Please enter a last name",{variant:"error"});return}if(!ye.trim()){n("Please provide a temporary password",{variant:"error"});return}if(R().length<=0){n("No available licenses. Please generate more licenses first.",{variant:"error"});return}if(!k){n("Please select a license to assign to this team member",{variant:"error"});return}try{const g={firstName:B.trim(),lastName:K.trim(),email:be.trim().toLowerCase(),role:Fe,status:H?"active":"pending",organization:{id:((s=l==null?void 0:l.organization)==null?void 0:s.id)||"",name:((i=l==null?void 0:l.organization)==null?void 0:i.name)||"",tier:((c=l==null?void 0:l.organization)==null?void 0:c.tier)||"BASIC"},department:$e.trim()||"",assignedProjects:[],avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(B+" "+K)}&background=667eea&color=fff`},b=await Ss.mutate({...g,temporaryPassword:ye,position:Oe.trim()||"",phone:Ge.trim()||""});console.log("✅ [TeamPage] Team member created with ID:",b);try{const{unifiedDataService:x}=await cs(async()=>{const{unifiedDataService:S}=await import("./UnifiedDataService-PnPk3XeX.js");return{unifiedDataService:S}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])),y=await x.ensureTeamMemberProjectReadiness(b);y.success?(console.log("✅ [TeamPage] Team member project readiness verified:",y),y.collectionsCreated.length>0&&console.log("📝 [TeamPage] Created missing collections:",y.collectionsCreated)):console.warn("⚠️ [TeamPage] Team member project readiness issues:",y.errors)}catch(x){console.warn("⚠️ [TeamPage] Failed to verify project readiness:",x)}if(k&&b)try{await ve.mutate({licenseId:k,userId:b});const x=o==null?void 0:o.find(y=>y.id===k);console.log(`✅ [TeamPage] Assigned ${x==null?void 0:x.tier} license to new member:`,b)}catch(x){console.warn("Failed to assign selected license:",x)}n(`Team member ${B} ${K} created successfully with license assigned. Status: ${H?"Active - ready to login":"Pending - requires activation"}.`,{variant:"success"}),console.log("🔄 Refreshing team data after member creation..."),await Promise.all([P(),L()]);try{const{unifiedDataService:x}=await cs(async()=>{const{unifiedDataService:y}=await import("./UnifiedDataService-PnPk3XeX.js");return{unifiedDataService:y}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]));await x.forceRefreshLicenses(),console.log("🔄 Force refreshed team data via UnifiedDataService")}catch(x){console.warn("⚠️ Failed to force refresh via UnifiedDataService:",x)}setTimeout(async()=>{console.log("🔄 Secondary refresh for eventual consistency..."),await Promise.all([P(),L()])},1e3),setTimeout(async()=>{console.log("🔄 Final refresh for safety..."),await Promise.all([P(),L()])},3e3),window.dispatchEvent(new CustomEvent("team:refresh",{detail:{action:"member_created",memberId:b,licenseId:k}})),ke(""),Me(""),Re(""),Ue("member"),ze(""),_e(""),qe(""),ne(ge()),Ve(""),Be(!1),q(!1)}catch(g){console.error("❌ [TeamPage] Failed to create team member:",g),n((g==null?void 0:g.message)||"Failed to create team member",{variant:"error"})}},qs=s=>{const i=s||r;if(!i){n("Unable to load member data. Please try again.",{variant:"error"});return}z(),V(i),Je(i.firstName||""),Xe(i.lastName||""),Ze(i.role||"member"),ss(i.department||""),ts(i.status||"pending");const c=N(i);as((c==null?void 0:c.licenseId)||""),ie(!1),oe(""),ce(""),ns(!0),se(!0)},Bs=async()=>{if(!r){n("No team member selected",{variant:"error"});return}if(!De(l,r)){n("You do not have permission to change this password",{variant:"error"});return}const s=M?ge():le;if(!M){if(!s.trim()){n("Please enter a new password",{variant:"error"});return}if(s!==$){n("Passwords do not match",{variant:"error"});return}if(s.length<8){n("Password must be at least 8 characters long",{variant:"error"});return}}try{await fe.mutate({memberId:r.id,newPassword:s}),n(`Password ${M?"generated and ":""}updated successfully for ${C(r)}`,{variant:"success"}),ie(!1),oe(""),ce("")}catch(i){console.error("❌ [TeamPage] Failed to update password:",i),n((i==null?void 0:i.message)||"Failed to update password",{variant:"error"})}},Ks=()=>{r&&(z(),ae(!0))},Hs=async()=>{if(r)try{const s=N(r);await Es.mutate({memberId:r.id}),s?n(`${C(r)} has been removed from the team. Their license has been released back to the available pool.`,{variant:"success"}):n(`${C(r)} has been removed from the team`,{variant:"success"}),ae(!1),V(void 0),await Promise.all([P(),L()])}catch(s){console.error("❌ [TeamPage] Failed to remove team member:",s),n((s==null?void 0:s.message)||"Failed to remove team member",{variant:"error"})}},Vs=()=>{r&&(n(`Invitation resent to ${r.email}`,{variant:"success"}),z())},Ys=async()=>{if(!r||!re){n("Please select a valid license to assign",{variant:"error"});return}try{await ve.mutate({licenseId:re,userId:r.id}),n(`License assigned to ${C(r)}`,{variant:"success"}),Ye(""),te(!1),z(),await Promise.all([L(),P()])}catch(s){console.error("❌ [TeamPage] Failed to assign license:",s),n((s==null?void 0:s.message)||"Failed to assign license",{variant:"error"})}},Js=async()=>{if(r)try{const s=N(r);if(!s){n("This team member has no license to release",{variant:"warning"});return}await We.mutate({licenseId:s.licenseId}),n(`${s.licenseType} license has been released from ${C(r)} and is now available for reassignment.`,{variant:"success"}),z(),await Promise.all([L(),P()])}catch(s){console.error("❌ [TeamPage] Failed to release license:",s),n((s==null?void 0:s.message)||"Failed to release license",{variant:"error"})}},Xs=async()=>{if(r)try{await Ds.mutate({memberId:r.id,updates:{firstName:Y,lastName:J,role:Qe,department:es||"",status:h}});const s=N(r),i=(s==null?void 0:s.licenseId)||"";if(T!==i){if(i)try{await We.mutate({licenseId:i}),console.log("✅ [TeamPage] Released current license:",i)}catch(c){console.warn("⚠️ [TeamPage] Failed to release current license:",c)}if(T)try{await ve.mutate({licenseId:T,userId:r.id});const c=o==null?void 0:o.find(g=>g.id===T);console.log("✅ [TeamPage] Assigned new license:",T,c==null?void 0:c.tier),n(`Team member ${Y} ${J} updated successfully with ${(c==null?void 0:c.tier)||"new"} license assigned`,{variant:"success"})}catch(c){console.error("❌ [TeamPage] Failed to assign new license:",c),n("Member updated but license assignment failed",{variant:"warning"})}else n(`Team member ${Y} ${J} updated successfully. License removed.`,{variant:"success"})}else n(`Team member ${Y} ${J} updated successfully`,{variant:"success"});se(!1),V(void 0),await Promise.all([P(),L()])}catch(s){n((s==null?void 0:s.message)||"Failed to update team member",{variant:"error"})}};return $s?e.jsx(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsxs(t,{textAlign:"center",children:[e.jsx(ds,{size:60}),e.jsx(a,{variant:"h6",sx:{mt:2},children:"Loading Team Data..."}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"Fetching your team members and organization details"})]})}):zs?e.jsx(t,{sx:{p:3},children:e.jsxs(j,{severity:"error",children:[e.jsx(we,{children:"Unable to Load Team Data"}),e.jsx(a,{variant:"body2",sx:{mb:2},children:"We encountered an issue loading your team information. This could be due to:"}),e.jsxs(Qs,{dense:!0,children:[e.jsxs(hs,{children:[e.jsx(F,{children:e.jsx(Zs,{fontSize:"small"})}),e.jsx(xs,{primary:"Network connectivity issues"})]}),e.jsxs(hs,{children:[e.jsx(F,{children:e.jsx(Ce,{fontSize:"small"})}),e.jsx(xs,{primary:"Authentication token expired"})]})]}),e.jsx(t,{sx:{mt:2},children:e.jsx(p,{variant:"contained",onClick:()=>window.location.reload(),children:"Retry"})})]})}):!l||!W?e.jsx(t,{sx:{p:3},children:e.jsxs(j,{severity:"info",children:[e.jsx(we,{children:"Setting Up Team Management"}),e.jsx(a,{variant:"body2",children:"We're preparing your team management dashboard. This may take a moment for new accounts."})]})}):e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(t,{children:[e.jsx(a,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Team Management"}),e.jsxs(a,{variant:"body1",color:"text.secondary",children:["Manage your ",((rs=W.organization)==null?void 0:rs.name)||"Organization"," team members and permissions"]})]}),e.jsx(p,{variant:"contained",startIcon:e.jsx(Ie,{}),onClick:()=>q(!0),disabled:R().length<=0,sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000",fontWeight:600},children:"Invite Member"})]}),e.jsxs(Q,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(Q,{item:!0,xs:12,sm:6,md:3,children:e.jsx(ue,{title:"Total Members",value:A.stats.totalMembers,icon:e.jsx(pe,{}),color:"primary"})}),e.jsx(Q,{item:!0,xs:12,sm:6,md:3,children:e.jsx(ue,{title:"Active Members",value:A.stats.activeMembers,icon:e.jsx(je,{}),color:"success"})}),e.jsx(Q,{item:!0,xs:12,sm:6,md:3,children:e.jsx(ue,{title:"Pending Invites",value:A.stats.pendingInvites,icon:e.jsx(Z,{}),color:"warning"})}),e.jsx(Q,{item:!0,xs:12,sm:6,md:3,children:e.jsx(ue,{title:"Available Licenses",value:`${A.stats.availableLicenses}/${A.stats.totalLicenses}`,icon:e.jsx(w,{}),color:"primary"})})]}),A.stats.availableLicenses<=0&&e.jsxs(j,{severity:"warning",sx:{mb:4},children:[e.jsx(we,{children:"No Available Licenses"}),e.jsx(a,{variant:"body2",sx:{mb:2},children:"You need to generate more licenses to invite new team members. Go to the Licenses page to create additional licenses."}),e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsx(p,{variant:"contained",size:"small",onClick:()=>window.open("/dashboard/licenses","_blank"),children:"Generate Licenses"}),e.jsx(p,{variant:"outlined",size:"small",onClick:()=>window.open("/dashboard/billing","_blank"),children:"Upgrade Plan"})]})]}),e.jsx(ea,{children:e.jsxs(sa,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(a,{variant:"h6",sx:{fontWeight:600},children:["Team Members (",A.members.length,")"]}),e.jsx(p,{variant:"outlined",startIcon:e.jsx(w,{}),onClick:()=>window.open("/dashboard/licenses","_blank"),children:"Manage Licenses"})]}),e.jsx(aa,{children:e.jsxs(ta,{children:[e.jsx(na,{children:e.jsxs(ms,{children:[e.jsx(f,{sx:{fontWeight:600},children:"Member"}),e.jsx(f,{sx:{fontWeight:600},children:"Role"}),e.jsx(f,{sx:{fontWeight:600},children:"Status"}),e.jsx(f,{sx:{fontWeight:600},children:"Department"}),e.jsx(f,{sx:{fontWeight:600},children:"Last Active"}),e.jsx(f,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(ra,{children:A.members.filter(s=>s&&s.id&&s.email).map(s=>{var i,c,g,b;return e.jsxs(ms,{hover:!0,children:[e.jsx(f,{children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(ia,{src:s.avatar,sx:{width:40,height:40},children:Aa(s)}),e.jsxs(t,{children:[e.jsx(a,{variant:"body1",sx:{fontWeight:500},children:C(s)}),e.jsx(a,{variant:"body2",color:"text.secondary",children:s.email})]})]})}),e.jsx(f,{children:e.jsx(Pe,{label:((i=s.role)==null?void 0:i.toUpperCase())||"UNKNOWN",color:Na(s.role),size:"small",icon:((c=s.role)==null?void 0:c.toLowerCase())==="admin"?e.jsx(la,{}):void 0})}),e.jsx(f,{children:e.jsx(Pe,{icon:bs(s.status),label:((g=s.status)==null?void 0:g.toUpperCase())||"UNKNOWN",color:Sa(s.status),size:"small"})}),e.jsx(f,{children:e.jsx(a,{variant:"body2",children:s.department&&s.department.trim()!==""?s.department:"Unassigned"})}),e.jsx(f,{children:e.jsx(a,{variant:"body2",color:"text.secondary",children:s.lastActive?(()=>{try{const x=s.lastActive instanceof Date?s.lastActive:new Date(s.lastActive);return isNaN(x.getTime())?"Never":x.toLocaleDateString()}catch{return console.warn("Invalid lastActive date for member:",s.email,s.lastActive),"Never"}})():"Never"})}),e.jsx(f,{children:e.jsx(us,{size:"small",onClick:x=>_s(x,s),disabled:((b=s.role)==null?void 0:b.toLowerCase())==="owner"&&s.id===(l==null?void 0:l.id),children:e.jsx(oa,{})})})]},s.id)})})]})})]})}),e.jsx(ca,{color:"primary",sx:{position:"fixed",bottom:16,right:16,display:{xs:"flex",md:"none"}},onClick:()=>q(!0),disabled:R().length<=0,children:e.jsx(da,{})}),e.jsxs(de,{open:Ws,onClose:()=>q(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(he,{children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ie,{}),"Create New Team Member"]})}),e.jsx(xe,{children:e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(gs,{})," Personal Information"]}),e.jsxs(t,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(m,{fullWidth:!0,label:"First Name",value:B,onChange:s=>Me(s.target.value),placeholder:"John",required:!0}),e.jsx(m,{fullWidth:!0,label:"Last Name",value:K,onChange:s=>Re(s.target.value),placeholder:"Doe",required:!0})]}),e.jsx(m,{fullWidth:!0,label:"Email Address",type:"email",value:be,onChange:s=>ke(s.target.value),placeholder:"john.doe@company.com",required:!0,sx:{mb:2}}),e.jsx(m,{fullWidth:!0,label:"Phone Number (Optional)",value:Ge,onChange:s=>qe(s.target.value),placeholder:"+1 (555) 123-4567",InputProps:{startAdornment:e.jsx(D,{position:"start",children:e.jsx(js,{})})}})]}),e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(ps,{})," Role & Department"]}),e.jsxs(t,{sx:{display:"flex",gap:2,mb:2},children:[e.jsxs(O,{fullWidth:!0,children:[e.jsx(_,{children:"Role"}),e.jsxs(G,{value:Fe,label:"Role",onChange:s=>Ue(s.target.value),children:[e.jsx(u,{value:"viewer",children:e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Viewer"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Read-only access to projects"})]})}),e.jsx(u,{value:"member",children:e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Member"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Standard project access"})]})}),e.jsx(u,{value:"admin",children:e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Admin"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Full organizational access"})]})})]})]}),e.jsx(m,{fullWidth:!0,label:"Department",value:$e,onChange:s=>ze(s.target.value),placeholder:"Engineering, Design, Marketing..."})]}),e.jsx(m,{fullWidth:!0,label:"Position/Title (Optional)",value:Oe,onChange:s=>_e(s.target.value),placeholder:"Senior Developer, Product Manager..."})]}),e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ce,{})," Authentication"]}),e.jsx(Le,{control:e.jsx(Te,{checked:U,onChange:s=>Fs(s.target.checked)}),label:"Auto-generate secure password",sx:{mb:2}}),e.jsx(m,{fullWidth:!0,label:"Temporary Password",type:"password",value:ye,onChange:s=>ne(s.target.value),disabled:U,required:!0,InputProps:{endAdornment:e.jsx(D,{position:"end",children:e.jsx(us,{onClick:()=>ne(ge()),disabled:!U,children:e.jsx(ha,{})})})},helperText:U?"Password will be auto-generated":"User will need this password to login initially",sx:{mb:2}}),e.jsx(Le,{control:e.jsx(Te,{checked:H,onChange:s=>Be(s.target.checked)}),label:"Activate team member immediately",sx:{mb:1}}),e.jsx(j,{severity:H?"success":"info",sx:{mt:1},children:e.jsx(a,{variant:"body2",children:H?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"✅ Active Status:"}),' Team member will be created with "active" status and can login immediately with their credentials.']}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"⏳ Pending Status:"}),' Team member will be created with "pending" status and will need to be activated later through the edit dialog.']})})})]}),e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(w,{})," License Assignment"]}),e.jsxs(O,{fullWidth:!0,sx:{mb:2},children:[e.jsx(_,{children:"Select License to Assign"}),e.jsx(G,{value:k,label:"Select License to Assign",onChange:s=>Ve(s.target.value),required:!0,children:R().length===0?e.jsx(u,{disabled:!0,children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"No available licenses found"})}):R().map(s=>e.jsx(u,{value:s.id,children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[e.jsx(w,{color:"primary"}),e.jsxs(t,{sx:{flex:1},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:s.name}),e.jsxs(a,{variant:"caption",color:"text.secondary",children:[s.tier," • ",s.key," • Expires ",new Date(s.expiresAt).toLocaleDateString()]})]})]})},s.id))}),e.jsx(a,{variant:"caption",color:"text.secondary",sx:{mt:1},children:"Only unassigned PENDING licenses are available for assignment"})]}),e.jsxs(j,{severity:"info",children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500,mb:1},children:"🎫 License Assignment Details"}),e.jsx(a,{variant:"body2",children:"This team member will be created as a full Firebase authenticated user and assigned the selected license. They can login immediately with their email and temporary password."}),e.jsxs(a,{variant:"body2",sx:{mt:1,fontWeight:500},children:["Available licenses: ",A.stats.availableLicenses," of ",A.stats.totalLicenses]})]})]}),R().length<=0&&e.jsx(j,{severity:"warning",children:e.jsx(a,{variant:"body2",children:"No licenses available! Please generate more licenses before creating team members."})})]})}),e.jsxs(me,{children:[e.jsx(p,{onClick:()=>q(!1),children:"Cancel"}),e.jsx(p,{onClick:Gs,variant:"contained",startIcon:e.jsx(Ie,{}),disabled:R().length<=0||!k,children:"Create Team Member"})]})]}),e.jsxs(de,{open:ks,onClose:()=>{se(!1),V(void 0)},maxWidth:"md",fullWidth:!0,children:[e.jsx(he,{children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ae,{}),"🚀 ENHANCED Edit Team Member: ",(r==null?void 0:r.firstName)||"Loading..."," ",(r==null?void 0:r.lastName)||""]})}),e.jsx(xe,{children:r?e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(gs,{})," Personal Information"]}),e.jsxs(t,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(m,{fullWidth:!0,label:"First Name",value:Y,onChange:s=>Je(s.target.value),required:!0,placeholder:"John"}),e.jsx(m,{fullWidth:!0,label:"Last Name",value:J,onChange:s=>Xe(s.target.value),required:!0,placeholder:"Doe"})]}),e.jsx(m,{fullWidth:!0,label:"Email Address",type:"email",value:r.email,disabled:!0,sx:{mb:2},helperText:"Email cannot be changed after account creation"}),e.jsx(m,{fullWidth:!0,label:"Phone Number",value:"",disabled:!0,placeholder:"+1 (555) 123-4567",InputProps:{startAdornment:e.jsx(D,{position:"start",children:e.jsx(js,{})})},helperText:"Phone number not available in current data model"})]}),e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(ps,{})," Role & Department"]}),e.jsxs(t,{sx:{display:"flex",gap:2,mb:2},children:[e.jsxs(O,{fullWidth:!0,children:[e.jsx(_,{children:"Role"}),e.jsxs(G,{value:Qe,label:"Role",onChange:s=>Ze(s.target.value),children:[e.jsx(u,{value:"viewer",children:e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Viewer"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Read-only access to projects"})]})}),e.jsx(u,{value:"member",children:e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Member"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Standard project access"})]})}),e.jsx(u,{value:"admin",children:e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Admin"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Full organizational access"})]})})]})]}),e.jsx(m,{fullWidth:!0,label:"Department",value:es,onChange:s=>ss(s.target.value),placeholder:"Engineering, Design, Marketing..."})]}),e.jsx(m,{fullWidth:!0,label:"Position/Title",value:"",disabled:!0,placeholder:"Senior Developer, Product Manager...",helperText:"Position not available in current data model"})]}),e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(w,{})," License & Access"]}),e.jsxs(O,{fullWidth:!0,sx:{mb:2},children:[e.jsx(_,{children:"Assign License"}),e.jsxs(G,{value:T,label:"Assign License",onChange:s=>as(s.target.value),children:[e.jsx(u,{value:"",children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Z,{color:"disabled"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"No License (Remove current license)"})]})}),Os(r).map(s=>{var c;const i=((c=N(r))==null?void 0:c.licenseId)===s.id;return e.jsx(u,{value:s.id,children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[e.jsx(w,{color:i?"primary":"action"}),e.jsxs(t,{sx:{flex:1},children:[e.jsxs(a,{variant:"body2",sx:{fontWeight:i?600:400},children:[s.name," ",i&&"(Current)"]}),e.jsxs(a,{variant:"caption",color:"text.secondary",children:[s.tier," • ",s.key," • Expires ",new Date(s.expiresAt).toLocaleDateString()]})]})]})},s.id)})]}),e.jsx(a,{variant:"caption",color:"text.secondary",sx:{mt:1},children:"You can reassign licenses between team members. Released licenses return to the available pool."})]}),(()=>{const s=N(r);return o==null||o.find(i=>i.id===T),s!=null&&s.licenseId,e.jsxs(t,{sx:{display:"flex",gap:2,mb:2},children:[e.jsx(m,{fullWidth:!0,label:"Current License",value:(s==null?void 0:s.licenseType)||"None",disabled:!0,InputProps:{startAdornment:e.jsx(D,{position:"start",children:e.jsx(w,{})})}}),e.jsx(m,{fullWidth:!0,label:"License Status",value:s?s.status:"Unassigned",disabled:!0,InputProps:{startAdornment:e.jsx(D,{position:"start",children:s?e.jsx(je,{}):e.jsx(Z,{})})}})]})})(),(()=>{const s=N(r),i=o==null?void 0:o.find(g=>g.id===T);return T!==((s==null?void 0:s.licenseId)||"")?e.jsxs(j,{severity:"info",sx:{mb:2},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500,mb:1},children:"🔄 License Change Preview"}),e.jsxs(a,{variant:"body2",children:[s?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Current:"})," ",s.licenseType," (",s.licenseKey,")",e.jsx("br",{})]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Current:"})," No license assigned",e.jsx("br",{})]}),e.jsx("strong",{children:"New:"})," ",i?`${i.tier} (${i.key})`:"No license (will be removed)"]}),s&&e.jsx(a,{variant:"body2",sx:{mt:1,fontStyle:"italic"},children:"The current license will be released back to the available pool."})]}):null})(),e.jsx(m,{fullWidth:!0,label:"Last Active",value:r.lastActive?new Date(r.lastActive).toLocaleString():"Never",disabled:!0,InputProps:{startAdornment:e.jsx(D,{position:"start",children:e.jsx(xa,{})})}})]}),e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(vs,{})," Project Assignments"]}),(()=>{const s=Da(r,Ts||[]);return s.length>0?e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:s.map(i=>e.jsx(Pe,{label:i.name,color:"primary",variant:"outlined",size:"small",icon:e.jsx(vs,{}),sx:{maxWidth:200}},i.id))}),e.jsxs(t,{children:[e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:1},children:e.jsx("strong",{children:"Project Details:"})}),s.map(i=>e.jsxs(t,{sx:{mb:1,p:2,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:i.name}),e.jsxs(a,{variant:"caption",color:"text.secondary",children:["Mode: ",i.mode," • Storage: ",i.storageBackend," • Status: ",i.status]}),i.description&&e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:i.description})]},i.id))]})]}):e.jsx(j,{severity:"info",children:e.jsx(a,{variant:"body2",children:"No projects assigned yet. This team member can be assigned to projects from the Cloud Projects page."})})})()]}),e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ce,{})," Account Status"]}),e.jsxs(t,{sx:{display:"flex",gap:2,mb:2},children:[e.jsxs(O,{fullWidth:!0,children:[e.jsx(_,{children:"Account Status"}),e.jsxs(G,{value:h,label:"Account Status",onChange:s=>ts(s.target.value),startAdornment:e.jsx(D,{position:"start",children:bs(h)}),children:[e.jsx(u,{value:"active",children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(je,{color:"success"}),e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Active"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Can login and access all assigned resources"})]})]})}),e.jsx(u,{value:"pending",children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Z,{color:"warning"}),e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Pending"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Awaiting activation or first login"})]})]})}),e.jsx(u,{value:"suspended",children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ys,{color:"error"}),e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500},children:"Suspended"}),e.jsx(a,{variant:"caption",color:"text.secondary",children:"Temporarily blocked from access"})]})]})})]})]}),e.jsx(m,{fullWidth:!0,label:"Member Since",value:r.joinedAt?new Date(r.joinedAt).toLocaleDateString():"Unknown",disabled:!0,InputProps:{startAdornment:e.jsx(D,{position:"start",children:e.jsx(pe,{})})}})]}),h!==r.status&&e.jsxs(j,{severity:(h==null?void 0:h.toLowerCase())==="active"?"success":(h==null?void 0:h.toLowerCase())==="suspended"?"warning":"info",sx:{mb:2},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500,mb:1},children:"🔄 Status Change Preview"}),e.jsxs(a,{variant:"body2",children:[e.jsx("strong",{children:"Current:"})," ",(is=r.status)==null?void 0:is.toUpperCase(),e.jsx("br",{}),e.jsx("strong",{children:"New:"})," ",h==null?void 0:h.toUpperCase()]}),e.jsxs(a,{variant:"body2",sx:{mt:1,fontStyle:"italic"},children:[(h==null?void 0:h.toLowerCase())==="active"&&"Team member will be able to login and access all assigned resources.",(h==null?void 0:h.toLowerCase())==="pending"&&"Team member will need to be activated before they can access resources.",(h==null?void 0:h.toLowerCase())==="suspended"&&"Team member will be blocked from accessing any resources."]})]})]}),De(l,r)&&e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ne,{})," Password Management"]}),Us?e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(j,{severity:"warning",children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500,mb:1},children:"🔐 Password Change"}),e.jsx(a,{variant:"body2",children:M?"A secure password will be automatically generated.":"Please enter a new password with at least 8 characters."})]}),e.jsx(Le,{control:e.jsx(Te,{checked:M,onChange:s=>ns(s.target.checked)}),label:"Auto-generate secure password"}),!M&&e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(m,{fullWidth:!0,label:"New Password",type:"password",value:le,onChange:s=>oe(s.target.value),placeholder:"Enter new password (min 8 characters)",required:!0,InputProps:{startAdornment:e.jsx(D,{position:"start",children:e.jsx(Ne,{})})}}),e.jsx(m,{fullWidth:!0,label:"Confirm Password",type:"password",value:$,onChange:s=>ce(s.target.value),placeholder:"Confirm new password",required:!0,error:$!==""&&le!==$,helperText:$!==""&&le!==$?"Passwords do not match":"",InputProps:{startAdornment:e.jsx(D,{position:"start",children:e.jsx(Ne,{})})}})]}),e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsx(p,{variant:"contained",startIcon:e.jsx(Se,{}),onClick:Bs,disabled:fe.loading,sx:{background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%)",color:"white",fontWeight:600},children:fe.loading?"Updating...":M?"Generate & Update Password":"Update Password"}),e.jsx(p,{variant:"outlined",onClick:()=>{ie(!1),oe(""),ce("")},children:"Cancel"})]})]}):e.jsxs(t,{children:[e.jsxs(j,{severity:"info",sx:{mb:2},children:[e.jsx(a,{variant:"body2",sx:{mb:1},children:e.jsx("strong",{children:"🔐 Password Access"})}),e.jsx(a,{variant:"body2",children:(l==null?void 0:l.id)===r.id?"You can change your own password here.":(l==null?void 0:l.role)==="ENTERPRISE_USER"||((ls=l==null?void 0:l.role)==null?void 0:ls.toLowerCase())==="owner"?"As the account owner, you can change this team member's password.":"As an admin, you can change this team member's password."})]}),e.jsx(p,{variant:"outlined",startIcon:e.jsx(Se,{}),onClick:()=>ie(!0),sx:{mb:2},children:"Change Password"})]})]}),e.jsxs(j,{severity:"info",children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500,mb:1},children:"⚠️ Important Notes"}),e.jsxs(a,{variant:"body2",children:["• Role changes will immediately affect the member's permissions and access levels",e.jsx("br",{}),"• Department information helps with organization and project assignments",e.jsx("br",{}),"• Project assignments are managed from the Cloud Projects page",e.jsx("br",{}),"• License assignments are managed through the Licenses page",e.jsx("br",{}),De(l,r)&&"• Password changes take effect immediately"]})]})]}):e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:e.jsxs(t,{textAlign:"center",children:[e.jsx(ds,{size:40,sx:{mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"Loading member data..."}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"If this persists, please close and try again."})]})})}),e.jsxs(me,{children:[e.jsx(p,{onClick:()=>se(!1),children:"Cancel"}),e.jsx(p,{onClick:Xs,variant:"contained",startIcon:e.jsx(Ae,{}),sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000",fontWeight:600},children:"Save Changes"})]})]}),e.jsxs(de,{open:Ms,onClose:()=>ae(!1),maxWidth:"sm",children:[e.jsx(he,{children:"Remove Team Member"}),e.jsx(xe,{children:r&&e.jsxs(t,{children:[e.jsxs(a,{variant:"body1",sx:{mb:2},children:["Are you sure you want to remove ",e.jsx("strong",{children:C(r)})," from your team?"]}),(()=>{const s=N(r);return s?e.jsxs(j,{severity:"info",sx:{mb:2},children:[e.jsx(a,{variant:"body2",sx:{fontWeight:500,mb:1},children:"🎫 License Management"}),e.jsxs(a,{variant:"body2",children:["This team member currently has a ",e.jsx("strong",{children:s.licenseType})," license assigned. When removed, their license will be automatically released back to your available license pool and can be reassigned to another team member."]})]}):e.jsx(j,{severity:"info",sx:{mb:2},children:e.jsx(a,{variant:"body2",children:"This team member has no license assigned, so no license will be affected."})})})(),e.jsx(j,{severity:"warning",children:e.jsx(a,{variant:"body2",children:"This action cannot be undone. The member will lose access to all projects and resources."})})]})}),e.jsxs(me,{children:[e.jsx(p,{onClick:()=>ae(!1),children:"Cancel"}),e.jsx(p,{onClick:Hs,variant:"contained",color:"error",startIcon:e.jsx(Ee,{}),children:"Remove Member"})]})]}),e.jsxs(ma,{anchorEl:Ke,open:!!Ke,onClose:z,children:[e.jsxs(u,{onClick:()=>qs(r),children:[e.jsx(F,{children:e.jsx(Ae,{})}),"Edit Member"]}),r?N(r)?e.jsxs(u,{onClick:Js,children:[e.jsx(F,{children:e.jsx(Se,{})}),"Release License"]}):e.jsxs(u,{onClick:()=>te(!0),children:[e.jsx(F,{children:e.jsx(w,{})}),"Assign License"]}):null,((os=r==null?void 0:r.status)==null?void 0:os.toLowerCase())==="pending"&&e.jsxs(u,{onClick:Vs,children:[e.jsx(F,{children:e.jsx(ua,{})}),"Resend Invite"]}),e.jsx(ga,{}),e.jsxs(u,{onClick:Ks,sx:{color:"error.main"},children:[e.jsx(F,{children:e.jsx(Ee,{sx:{color:"error.main"}})}),"Remove Member"]})]}),e.jsxs(de,{open:Rs,onClose:()=>te(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(he,{children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(w,{}),"Assign License to ",r?C(r):"Team Member"]})}),e.jsx(xe,{children:e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:3,mt:2},children:[e.jsx(j,{severity:"info",children:e.jsxs(a,{variant:"body2",children:["Assigning a license to ",e.jsx("strong",{children:r?C(r):"Team Member"})," (",r==null?void 0:r.email,")"]})}),e.jsxs(O,{fullWidth:!0,children:[e.jsx(_,{children:"Select License"}),e.jsx(G,{value:re,label:"Select License",onChange:s=>Ye(s.target.value),children:o==null?void 0:o.filter(s=>s.status==="PENDING"&&!s.assignedTo).map(s=>e.jsx(u,{value:s.id,children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(w,{color:"primary"}),e.jsxs(t,{children:[e.jsxs(a,{variant:"body2",sx:{fontWeight:500},children:[s.tier," License"]}),e.jsxs(a,{variant:"caption",color:"text.secondary",children:[s.key," • Expires ",new Date(s.expiresAt).toLocaleDateString()]})]})]})},s.id))}),e.jsx(a,{variant:"caption",color:"text.secondary",sx:{mt:1},children:"Only unassigned PENDING licenses are available for assignment"})]}),(o==null?void 0:o.filter(s=>s.status==="PENDING"&&!s.assignedTo).length)===0&&e.jsx(j,{severity:"warning",children:e.jsx(a,{variant:"body2",children:"No available licenses found. All licenses are either assigned or not in PENDING status."})}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"The selected license will be assigned to this team member and they will have immediate access to the system."})]})}),e.jsxs(me,{children:[e.jsx(p,{onClick:()=>te(!1),children:"Cancel"}),e.jsx(p,{onClick:Ys,variant:"contained",startIcon:e.jsx(w,{}),disabled:!re||(o==null?void 0:o.filter(s=>s.status==="PENDING"&&!s.assignedTo).length)===0,children:"Assign License"})]})]})]})};export{Ba as default};
