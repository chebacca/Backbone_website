import{j as e,a as w,T as f,d as U,b9 as Fe,G as b,k as X,l as Y,at as J,o as Ue,n as re,ax as ye,m as $e,D as _e,aN as Ge,c as Le,aO as qe,aP as He,aQ as pe,aR as y,aS as Je,h as je,ba as Qe,bb as Xe,bc as Ye,I as ee,aT as Ze,bd as Ke,az as ea,aj as aa,a4 as S,X as Z,aW as sa,x as ta,be as Ae,b8 as na,aD as ve,aE as fe,aG as Se,t as ae,u as $,aZ as se,a_ as te,a$ as ne,aJ as we,v as Me,y as Ee,z as Ie}from"./mui-DfoTb_nB.js";import{r as M}from"./vendor-OeuszDaU.js";import{u as ra}from"./notistack.esm-CcFOI6Un.js";import{u as ia,c as P,e as N}from"./index-Dam9REHa.js";import"./stripe-DEPCLfU9.js";const oa=x=>{switch(x){case"admin":return"secondary";case"owner":return"secondary";case"manager":return"info";case"member":return"success";case"viewer":return"default";default:return"default"}},la=x=>{switch(x){case"active":return"success";case"pending":return"warning";case"suspended":return"error";case"removed":return"default";default:return"default"}},da=x=>{switch(x){case"active":return e.jsx(re,{});case"pending":return e.jsx(ye,{});case"suspended":return e.jsx(Ae,{});default:return e.jsx(re,{})}},ba=()=>{const{enqueueSnackbar:x}=ra(),{user:K}=ia(),[Ce,z]=M.useState([]),[E,B]=M.useState({totalMembers:0,activeMembers:0,pendingInvites:0,availableSeats:0,totalSeats:0}),[C,ie]=M.useState(null),[ca,oe]=M.useState(""),T=(a,{includeTime:s=!1}={})=>{try{if(!a){const o=new Date;return s?o.toISOString():o.toISOString().slice(0,10)}if(typeof a=="string"||typeof a=="number"){const o=new Date(a);if(!Number.isNaN(o.getTime()))return s?o.toISOString():o.toISOString().slice(0,10)}if(typeof a=="object"){const o=a._seconds,i=a._nanoseconds??0;if(typeof o=="number"){const g=o*1e3+Math.floor(i/1e6),l=new Date(g);return s?l.toISOString():l.toISOString().slice(0,10)}}}catch{}const p=new Date;return s?p.toISOString():p.toISOString().slice(0,10)};M.useEffect(()=>{let a=!0;return(async()=>{var s,p,o,i,g,l;try{const h=await P.get(N.organizations.my()),n=((p=(s=h==null?void 0:h.data)==null?void 0:s.data)==null?void 0:p.owned)??[],j=((i=(o=h==null?void 0:h.data)==null?void 0:o.data)==null?void 0:i.memberOf)??[],I=n[0]||j[0]||null;if(!I){a&&(ie(null),oe(""),z([]),B({totalMembers:0,activeMembers:0,pendingInvites:0,availableSeats:0,totalSeats:0}));return}const A=I.members||[],t=A.filter(m=>m.status==="INVITED").length,v=A.filter(m=>m.status==="ACTIVE").length,d=(((l=(g=(await P.get(N.subscriptions.mySubscriptions())).data)==null?void 0:g.data)==null?void 0:l.subscriptions)??[]).filter(m=>m.organizationId===I.id&&m.status==="ACTIVE").reduce((m,V)=>m+(V.seats||0),0),k=Math.max(0,d-(v+t)),W=(Array.isArray(A)?A:[]).filter(m=>m&&m.status!=="REMOVED").map(m=>{const V=String(m.email||"user@example.com"),be=V.split("@")[0]||"User",ze={OWNER:"owner",ENTERPRISE_ADMIN:"admin",MANAGER:"manager",MEMBER:"member"},Be={INVITED:"pending",ACTIVE:"active",REMOVED:"removed"};return{id:String(m.id||`${V}-${Math.random().toString(36).slice(2)}`),firstName:be.charAt(0).toUpperCase()+be.slice(1),lastName:"",email:V,role:ze[String(m.role)]||"member",status:Be[String(m.status)]||"active",joinedAt:T(m.joinedAt),lastActive:T(m.updatedAt||m.joinedAt||new Date,{includeTime:!0})}});if(!a)return;ie(I.id),oe(I.name||"Organization"),z(W),B({totalMembers:W.length,activeMembers:v,pendingInvites:t,availableSeats:k,totalSeats:d})}catch(h){if(!a)return;console.error("[TeamPage] Failed to load team data:",h),z([]),B({totalMembers:0,activeMembers:0,pendingInvites:0,availableSeats:0,totalSeats:0})}})(),()=>{a=!1}},[K==null?void 0:K.email]);const[le,de]=M.useState(null),[r,ce]=M.useState(null),[Pe,_]=M.useState(!1),[Ne,G]=M.useState(!1),[L,Q]=M.useState(!1),[me,ue]=M.useState(!1),[xe,ge]=M.useState(!1),[u,F]=M.useState({newPassword:"",confirmPassword:"",email:"",role:"member",status:"active"}),[R,q]=M.useState({email:"",role:"member",department:"",message:""}),De=(a,s)=>{de(a.currentTarget),ce(s)},H=()=>{de(null)},Te=async()=>{var a,s,p,o,i,g,l,h;if(C){if(E.availableSeats<=0){x("No seats available. Please add seats from Billing before inviting new members.",{variant:"warning"});return}try{const n={admin:"ENTERPRISE_ADMIN",owner:"ENTERPRISE_ADMIN",manager:"MANAGER",member:"MEMBER",viewer:"MEMBER"};await P.post(N.organizations.invite(C),{email:R.email,role:n[R.role]||"MEMBER"}),x(`Invitation sent to ${R.email}`,{variant:"success"}),_(!1),q({email:"",role:"member",department:"",message:""});const j=await P.get(N.organizations.my()),I=((s=(a=j==null?void 0:j.data)==null?void 0:a.data)==null?void 0:s.owned)??[],A=((o=(p=j==null?void 0:j.data)==null?void 0:p.data)==null?void 0:o.memberOf)??[],t=[...I,...A].find(v=>v.id===C)||I[0]||A[0];if(t){const v=t.members||[],D=(Array.isArray(v)?v:[]).filter(d=>d&&d.status!=="REMOVED").map(d=>{const k=String(d.email||"user@example.com"),W=k.split("@")[0]||"User",m={OWNER:"owner",ENTERPRISE_ADMIN:"admin",MANAGER:"manager",MEMBER:"member"},V={INVITED:"pending",ACTIVE:"active",REMOVED:"removed"};return{id:String(d.id||`${k}-${Math.random().toString(36).slice(2)}`),firstName:W.charAt(0).toUpperCase()+W.slice(1),lastName:"",email:k,role:m[String(d.role)]||"member",status:V[String(d.status)]||"active",joinedAt:T(d.joinedAt),lastActive:T(d.updatedAt||d.joinedAt||new Date,{includeTime:!0})}}),O=v.filter(d=>d.status==="INVITED").length,c=v.filter(d=>d.status==="ACTIVE").length;z(D),B(d=>({...d,totalMembers:D.length,pendingInvites:O,activeMembers:c,availableSeats:Math.max(0,d.totalSeats-(c+O))}))}}catch(n){console.error("[TeamPage] Invite failed:",n);const j=((g=(i=n==null?void 0:n.response)==null?void 0:i.data)==null?void 0:g.message)||((h=(l=n==null?void 0:n.response)==null?void 0:l.data)==null?void 0:h.error)||(n==null?void 0:n.message)||"Failed to send invitation";x(j,{variant:"error"})}}},Re=()=>{r&&x(`Invitation resent to ${r.email}`,{variant:"success"}),H()},Oe=()=>{F({newPassword:"",confirmPassword:"",email:(r==null?void 0:r.email)||"",role:(r==null?void 0:r.role)||"member",status:(r==null?void 0:r.status)||"active"}),ue(!1),ge(!1),G(!0)},ke=async()=>{var o,i;if(!r)return;if(r.status!=="active"){x("Password can only be set after the member has joined (status Active).",{variant:"warning"});return}const a=r.email,{newPassword:s,confirmPassword:p}=u;if(!s||s.length<8){x("Password must be at least 8 characters.",{variant:"warning"});return}if(s!==p){x("Passwords do not match.",{variant:"warning"});return}try{if(Q(!0),!C){x("Organization context not found.",{variant:"error"});return}await P.put(N.organizations.setMemberPassword(C,r.id),{password:s}),x(`Password set for ${a}`,{variant:"success"}),G(!1)}catch(g){const l=((i=(o=g==null?void 0:g.response)==null?void 0:o.data)==null?void 0:i.message)||(g==null?void 0:g.message)||"Failed to set password";x(l,{variant:"error"})}finally{Q(!1)}},We=async()=>{var a,s,p,o,i,g;if(!(!r||!C))try{Q(!0);const l={admin:"ENTERPRISE_ADMIN",owner:"ENTERPRISE_ADMIN",manager:"MANAGER",member:"MEMBER",viewer:"MEMBER"},h={pending:"INVITED",active:"ACTIVE",suspended:"SUSPENDED",removed:"REMOVED"};console.log("Updating member:",{memberId:r.id,email:u.email,role:l[u.role],status:h[u.status]}),await P.patch(N.organizations.updateMember(C,r.id),{email:u.email,role:l[u.role],status:h[u.status]}),u.newPassword&&u.confirmPassword&&u.newPassword===u.confirmPassword&&await P.put(N.organizations.setMemberPassword(C,r.id),{password:u.newPassword}),x("Member updated successfully",{variant:"success"}),G(!1);const n=await P.get(N.organizations.my()),j=((s=(a=n==null?void 0:n.data)==null?void 0:a.data)==null?void 0:s.owned)??[],I=((o=(p=n==null?void 0:n.data)==null?void 0:p.data)==null?void 0:o.memberOf)??[],A=[...j,...I].find(t=>t.id===C)||j[0]||I[0];if(A){const t=A.members||[],v=(Array.isArray(t)?t:[]).filter(c=>c&&c.status!=="REMOVED").map(c=>{const d=String(c.email||"user@example.com"),k=d.split("@")[0]||"User",W={OWNER:"owner",ENTERPRISE_ADMIN:"admin",MANAGER:"manager",MEMBER:"member"},m={INVITED:"pending",ACTIVE:"active",REMOVED:"removed"};return{id:String(c.id||`${d}-${Math.random().toString(36).slice(2)}`),firstName:k.charAt(0).toUpperCase()+k.slice(1),lastName:"",email:d,role:W[String(c.role)]||"member",status:m[String(c.status)]||"active",joinedAt:T(c.joinedAt),lastActive:T(c.updatedAt||c.joinedAt||new Date,{includeTime:!0})}}),D=t.filter(c=>c.status==="INVITED").length,O=t.filter(c=>c.status==="ACTIVE").length;z(v),B(c=>({...c,totalMembers:v.length,pendingInvites:D,activeMembers:O,availableSeats:Math.max(0,c.totalSeats-(O+D))}))}}catch(l){console.error("[TeamPage] Update member failed:",l);const h=((g=(i=l==null?void 0:l.response)==null?void 0:i.data)==null?void 0:g.message)||(l==null?void 0:l.message)||"Failed to update member";x(h,{variant:"error"})}finally{Q(!1)}},Ve=async()=>{var a,s,p,o;if(!(!r||!C))try{await P.post(N.organizations.removeMember(C,r.id)),x(`${r.email} removed from team`,{variant:"warning"});const i=await P.get(N.organizations.my()),g=((s=(a=i==null?void 0:i.data)==null?void 0:a.data)==null?void 0:s.owned)??[],l=((o=(p=i==null?void 0:i.data)==null?void 0:p.data)==null?void 0:o.memberOf)??[],h=[...g,...l].find(n=>n.id===C)||g[0]||l[0];if(h){const n=h.members||[],j=(Array.isArray(n)?n:[]).filter(t=>t&&t.status!=="REMOVED").map(t=>{const v=String(t.email||"user@example.com"),D=v.split("@")[0]||"User",O={OWNER:"owner",ENTERPRISE_ADMIN:"admin",MANAGER:"manager",MEMBER:"member"},c={INVITED:"pending",ACTIVE:"active",REMOVED:"removed"};return{id:String(t.id||`${v}-${Math.random().toString(36).slice(2)}`),firstName:D.charAt(0).toUpperCase()+D.slice(1),lastName:"",email:v,role:O[String(t.role)]||"member",status:c[String(t.status)]||"active",joinedAt:T(t.joinedAt),lastActive:T(t.updatedAt||t.joinedAt||new Date,{includeTime:!0})}}),I=n.filter(t=>t.status==="INVITED").length,A=n.filter(t=>t.status==="ACTIVE").length;z(j),B(t=>({...t,totalMembers:j.length,pendingInvites:I,activeMembers:A,availableSeats:Math.max(0,t.totalSeats-(A+I))}))}}catch(i){console.error("[TeamPage] Remove member failed:",i),x((i==null?void 0:i.message)||"Failed to remove member",{variant:"error"})}finally{H()}},he=M.useMemo(()=>E.totalSeats<=0?0:(E.totalSeats-E.availableSeats)/E.totalSeats*100,[E.totalSeats,E.availableSeats]);return e.jsxs(w,{children:[e.jsx(w,{children:e.jsxs(w,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(w,{children:[e.jsx(f,{variant:"h4",sx:{fontWeight:700,mb:1},children:"Team Management"}),e.jsx(f,{variant:"body1",color:"text.secondary",children:"Manage your team members, roles, and license assignments"})]}),e.jsx(U,{variant:"contained",startIcon:e.jsx(Fe,{}),onClick:()=>_(!0),disabled:E.availableSeats<=0,sx:{background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000",fontWeight:600},children:"Invite Member"})]})}),e.jsxs(b,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(b,{item:!0,xs:12,sm:6,md:3,children:e.jsx(w,{children:e.jsx(X,{sx:{background:"linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(102, 126, 234, 0.1) 100%)",border:"1px solid rgba(0, 212, 255, 0.2)"},children:e.jsxs(Y,{children:[e.jsx(w,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:e.jsx(J,{sx:{bgcolor:"primary.main"},children:e.jsx(Ue,{})})}),e.jsx(f,{variant:"h3",sx:{fontWeight:700,color:"primary.main"},children:E.totalMembers}),e.jsx(f,{variant:"body2",color:"text.secondary",children:"Total Members"})]})})})}),e.jsx(b,{item:!0,xs:12,sm:6,md:3,children:e.jsx(w,{children:e.jsx(X,{sx:{background:"linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(76, 175, 80, 0.05) 100%)",border:"1px solid rgba(76, 175, 80, 0.2)"},children:e.jsxs(Y,{children:[e.jsx(w,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:e.jsx(J,{sx:{bgcolor:"success.main"},children:e.jsx(re,{})})}),e.jsx(f,{variant:"h3",sx:{fontWeight:700,color:"success.main"},children:E.activeMembers}),e.jsx(f,{variant:"body2",color:"text.secondary",children:"Active Members"})]})})})}),e.jsx(b,{item:!0,xs:12,sm:6,md:3,children:e.jsx(w,{children:e.jsx(X,{sx:{background:"linear-gradient(135deg, rgba(255, 152, 0, 0.1) 0%, rgba(255, 152, 0, 0.05) 100%)",border:"1px solid rgba(255, 152, 0, 0.2)"},children:e.jsxs(Y,{children:[e.jsx(w,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:e.jsx(J,{sx:{bgcolor:"warning.main"},children:e.jsx(ye,{})})}),e.jsx(f,{variant:"h3",sx:{fontWeight:700,color:"warning.main"},children:E.pendingInvites}),e.jsx(f,{variant:"body2",color:"text.secondary",children:"Pending Invites"})]})})})}),e.jsx(b,{item:!0,xs:12,sm:6,md:3,children:e.jsx(w,{children:e.jsx(X,{sx:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsxs(Y,{children:[e.jsx(w,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:e.jsx(J,{sx:{bgcolor:"secondary.main"},children:e.jsx($e,{})})}),e.jsx(f,{variant:"h3",sx:{fontWeight:700},children:E.availableSeats}),e.jsx(f,{variant:"body2",color:"text.secondary",children:"Available Seats"}),e.jsx(_e,{variant:"determinate",value:he,sx:{mt:1,height:4,borderRadius:2,backgroundColor:"rgba(255,255,255,0.1)","& .MuiLinearProgress-bar":{borderRadius:2,background:he>80?"linear-gradient(90deg, #ff9800 0%, #f44336 100%)":"linear-gradient(90deg, #00d4ff 0%, #667eea 100%)"}}})]})})})})]}),e.jsx(w,{children:e.jsx(Ge,{component:Le,sx:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsxs(qe,{children:[e.jsx(He,{children:e.jsxs(pe,{children:[e.jsx(y,{sx:{fontWeight:600},children:"Member"}),e.jsx(y,{sx:{fontWeight:600},children:"Role"}),e.jsx(y,{sx:{fontWeight:600},children:"Department"}),e.jsx(y,{sx:{fontWeight:600},children:"Status"}),e.jsx(y,{sx:{fontWeight:600},children:"License"}),e.jsx(y,{sx:{fontWeight:600},children:"Last Active"}),e.jsx(y,{sx:{fontWeight:600},children:"Actions"})]})}),e.jsx(Je,{children:Ce.map(a=>e.jsxs(pe,{hover:!0,children:[e.jsx(y,{children:e.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxs(J,{sx:{width:40,height:40},children:[a.firstName[0],a.lastName[0]]}),e.jsxs(w,{children:[e.jsxs(f,{variant:"body2",sx:{fontWeight:500},children:[a.firstName," ",a.lastName]}),e.jsx(f,{variant:"caption",color:"text.secondary",children:a.email})]})]})}),e.jsx(y,{children:e.jsx(je,{icon:a.role==="admin"?e.jsx(Qe,{}):e.jsx(Xe,{}),label:a.role.toUpperCase(),color:oa(a.role),size:"small",variant:"outlined"})}),e.jsx(y,{children:e.jsx(f,{variant:"body2",children:a.department||"Not assigned"})}),e.jsx(y,{children:e.jsx(je,{icon:da(a.status),label:a.status.toUpperCase(),color:la(a.status),size:"small"})}),e.jsx(y,{children:a.licenseAssigned?e.jsx(Ye,{title:a.licenseAssigned,children:e.jsx(f,{variant:"body2",sx:{fontFamily:"monospace",maxWidth:120,overflow:"hidden",textOverflow:"ellipsis"},children:a.licenseAssigned})}):e.jsx(f,{variant:"body2",color:"text.secondary",children:"No license"})}),e.jsx(y,{children:e.jsx(f,{variant:"body2",children:a.lastActive?new Date(a.lastActive).toLocaleDateString():"Never"})}),e.jsx(y,{children:e.jsx(ee,{onClick:s=>De(s,a),size:"small",children:e.jsx(Ze,{})})})]},a.id))})]})})}),e.jsx(Ke,{color:"primary",sx:{position:"fixed",bottom:24,right:24,background:"linear-gradient(135deg, #00d4ff 0%, #667eea 100%)",color:"#000"},onClick:()=>_(!0),children:e.jsx(ea,{})}),e.jsxs(aa,{anchorEl:le,open:!!le,onClose:H,PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)"}},children:[e.jsxs(S,{onClick:()=>{H(),Oe()},children:[e.jsx(Z,{children:e.jsx(sa,{fontSize:"small"})}),"Edit Member"]}),(r==null?void 0:r.status)==="pending"&&e.jsxs(S,{onClick:Re,children:[e.jsx(Z,{children:e.jsx(ta,{fontSize:"small"})}),"Resend Invite"]}),e.jsxs(S,{onClick:H,children:[e.jsx(Z,{children:e.jsx(Ae,{fontSize:"small"})}),"Suspend Member"]}),e.jsxs(S,{onClick:Ve,sx:{color:"error.main"},children:[e.jsx(Z,{children:e.jsx(na,{fontSize:"small",sx:{color:"error.main"}})}),"Remove Member"]})]}),e.jsxs(ve,{open:Pe,onClose:()=>_(!1),maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)"}},children:[e.jsx(fe,{children:"Invite Team Member"}),e.jsx(Se,{children:e.jsxs(b,{container:!0,spacing:3,sx:{mt:1},children:[E.availableSeats<=0&&e.jsx(b,{item:!0,xs:12,children:e.jsx(ae,{severity:"warning",children:"No available seats. Add seats on the Billing page to invite more team members."})}),e.jsx(b,{item:!0,xs:12,children:e.jsx($,{fullWidth:!0,label:"Email Address",type:"email",value:R.email,onChange:a=>q(s=>({...s,email:a.target.value}))})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(se,{fullWidth:!0,children:[e.jsx(te,{children:"Role"}),e.jsxs(ne,{value:R.role,label:"Role",onChange:a=>q(s=>({...s,role:a.target.value})),inputProps:{"aria-label":"Select team member role",title:"Select the role for this team member"},children:[e.jsx(S,{value:"viewer",children:"Viewer"}),e.jsx(S,{value:"member",children:"Member"}),e.jsx(S,{value:"admin",children:"Admin"})]})]})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx($,{fullWidth:!0,label:"Department",value:R.department,onChange:a=>q(s=>({...s,department:a.target.value}))})}),e.jsx(b,{item:!0,xs:12,children:e.jsx($,{fullWidth:!0,label:"Welcome Message (Optional)",multiline:!0,rows:3,value:R.message,onChange:a=>q(s=>({...s,message:a.target.value}))})})]})}),e.jsxs(we,{children:[e.jsx(U,{onClick:()=>_(!1),children:"Cancel"}),e.jsx(U,{onClick:Te,variant:"contained",disabled:!R.email||E.availableSeats<=0,children:"Send Invitation"})]})]}),e.jsxs(ve,{open:Ne,onClose:()=>{G(!1),ce(null)},maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{backgroundColor:"background.paper",border:"1px solid rgba(255, 255, 255, 0.1)"}},children:[e.jsx(fe,{children:"Edit Member"}),e.jsx(Se,{children:e.jsxs(b,{container:!0,spacing:3,sx:{mt:1},children:[e.jsx(b,{item:!0,xs:12,children:e.jsx($,{fullWidth:!0,label:"Email",value:u.email,onChange:a=>F(s=>({...s,email:a.target.value}))})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(se,{fullWidth:!0,children:[e.jsx(te,{children:"Role"}),e.jsxs(ne,{value:u.role,label:"Role",onChange:a=>F(s=>({...s,role:a.target.value})),children:[e.jsx(S,{value:"viewer",children:"Viewer"}),e.jsx(S,{value:"member",children:"Member"}),e.jsx(S,{value:"manager",children:"Manager"}),e.jsx(S,{value:"admin",children:"Admin"}),e.jsx(S,{value:"owner",children:"Owner"})]})]})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsxs(se,{fullWidth:!0,children:[e.jsx(te,{children:"Status"}),e.jsxs(ne,{value:u.status,label:"Status",onChange:a=>F(s=>({...s,status:a.target.value})),children:[e.jsx(S,{value:"pending",children:"Pending"}),e.jsx(S,{value:"active",children:"Active"}),e.jsx(S,{value:"suspended",children:"Suspended"}),e.jsx(S,{value:"removed",children:"Removed"})]})]})}),e.jsx(b,{item:!0,xs:12,children:u.status!=="active"?e.jsx(ae,{severity:"warning",children:"This member has not joined yet (Pending/Suspended/Removed). You can only set a password for Active members."}):e.jsx(ae,{severity:"info",children:"Set a temporary password for this user to log into Backbone. They can change it later."})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx($,{fullWidth:!0,label:"New Password",type:me?"text":"password",value:u.newPassword,onChange:a=>F(s=>({...s,newPassword:a.target.value})),inputProps:{minLength:8},helperText:"Minimum 8 characters",InputProps:{endAdornment:e.jsx(Me,{position:"end",children:e.jsx(ee,{onClick:()=>ue(a=>!a),edge:"end","aria-label":"toggle password visibility",children:me?e.jsx(Ee,{}):e.jsx(Ie,{})})})}})}),e.jsx(b,{item:!0,xs:12,sm:6,children:e.jsx($,{fullWidth:!0,label:"Confirm Password",type:xe?"text":"password",value:u.confirmPassword,onChange:a=>F(s=>({...s,confirmPassword:a.target.value})),InputProps:{endAdornment:e.jsx(Me,{position:"end",children:e.jsx(ee,{onClick:()=>ge(a=>!a),edge:"end","aria-label":"toggle password visibility",children:xe?e.jsx(Ee,{}):e.jsx(Ie,{})})})}})})]})}),e.jsxs(we,{children:[e.jsx(U,{onClick:()=>G(!1),disabled:L,children:"Cancel"}),e.jsx(U,{onClick:We,variant:"outlined",disabled:L,children:L?"Saving…":"Save Changes"}),e.jsx(U,{onClick:ke,variant:"contained",disabled:L||!u.newPassword||!u.confirmPassword||u.status!=="active",children:L?"Saving…":"Save Password Only"})]})]})]})};export{ba as default};
