import{j as s,B as a,T as e,t as o,v as c,b0 as h,d as x,r as l,w as f,x as j,z as m}from"./mui-CwmAuw8Y.js";import{u as $,a as z,b as k,c as U}from"./useStreamlinedData-petn63ul.js";import"./vendor-CjD1bmmO.js";import"./index-MWASw4oL.js";import"./stripe-N9VLlH2J.js";import"./index.esm-DonjM_pP.js";import"./index.esm-D7ujsXeY.js";const w=()=>{var b,T,y;const{data:n,loading:C,error:u}=$(),{data:r,loading:v,error:g}=z(),{data:d,loading:P,error:p}=k(),i=U();return s.jsxs(a,{sx:{p:3,maxWidth:1200,margin:"0 auto"},children:[s.jsx(e,{variant:"h4",gutterBottom:!0,children:"🧪 Streamlined Hooks Test Dashboard"}),s.jsx(o,{sx:{mb:3},children:s.jsxs(c,{children:[s.jsx(e,{variant:"h6",gutterBottom:!0,children:"👤 Current User Hook Test"}),C&&s.jsx(h,{height:100}),u&&s.jsxs(x,{severity:"error",children:["Error: ",u]}),n&&s.jsxs(a,{children:[s.jsxs(e,{children:[s.jsx("strong",{children:"Name:"})," ",n.name]}),s.jsxs(e,{children:[s.jsx("strong",{children:"Email:"})," ",n.email]}),s.jsxs(e,{children:[s.jsx("strong",{children:"User Type:"})," ",n.userType]}),s.jsxs(e,{children:[s.jsx("strong",{children:"Role:"})," ",n.role]}),s.jsx(l,{label:`${n.organization.tier} - ${n.organization.name}`,color:"primary",sx:{mt:1}})]})]})}),s.jsx(o,{sx:{mb:3},children:s.jsxs(c,{children:[s.jsx(e,{variant:"h6",gutterBottom:!0,children:"🔐 User Permissions Hook Test"}),s.jsxs(a,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[s.jsx(l,{label:`Can Create Projects: ${i.canCreateProjects}`,color:i.canCreateProjects?"success":"default"}),s.jsx(l,{label:`Can Manage Team: ${i.canManageTeam}`,color:i.canManageTeam?"success":"default"}),s.jsx(l,{label:`Is Account Owner: ${i.isAccountOwner}`,color:i.isAccountOwner?"primary":"default"}),s.jsx(l,{label:`Organization Tier: ${i.organizationTier}`,color:"info"})]})]})}),s.jsx(o,{sx:{mb:3},children:s.jsxs(c,{children:[s.jsx(e,{variant:"h6",gutterBottom:!0,children:"🏢 Organization Context Hook Test"}),v&&s.jsx(h,{height:150}),g&&s.jsxs(x,{severity:"error",children:["Error: ",g]}),r&&s.jsxs(a,{children:[s.jsxs(e,{children:[s.jsx("strong",{children:"Organization:"})," ",r.organization.name]}),s.jsxs(e,{children:[s.jsx("strong",{children:"Tier:"})," ",r.organization.tier]}),s.jsxs(e,{children:[s.jsx("strong",{children:"Total Members:"})," ",r.members.length]}),s.jsxs(e,{children:[s.jsx("strong",{children:"Subscription Status:"})," ",((b=r.subscription)==null?void 0:b.status)||"None"]}),s.jsxs(e,{children:[s.jsx("strong",{children:"Seats:"})," ",((y=(T=r.subscription)==null?void 0:T.plan)==null?void 0:y.seats)||0]}),s.jsx(e,{variant:"subtitle2",sx:{mt:2,mb:1},children:"Team Members:"}),s.jsxs(f,{dense:!0,children:[r.members.slice(0,5).map(t=>s.jsx(j,{children:s.jsx(m,{primary:t.name,secondary:`${t.email} - ${t.userType}`})},t.id)),r.members.length>5&&s.jsx(j,{children:s.jsx(m,{secondary:`... and ${r.members.length-5} more`})})]})]})]})}),s.jsx(o,{sx:{mb:3},children:s.jsxs(c,{children:[s.jsx(e,{variant:"h6",gutterBottom:!0,children:"📁 User Projects Hook Test"}),P&&s.jsx(h,{height:100}),p&&s.jsxs(x,{severity:"error",children:["Error: ",p]}),d&&s.jsxs(a,{children:[s.jsxs(e,{children:[s.jsx("strong",{children:"Total Projects:"})," ",d.length]}),d.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(e,{variant:"subtitle2",sx:{mt:2,mb:1},children:"Recent Projects:"}),s.jsx(f,{dense:!0,children:d.slice(0,3).map(t=>s.jsx(j,{children:s.jsx(m,{primary:t.name,secondary:`${t.status} - ${t.teamAssignments.length} team members`})},t.id))})]})]})]})}),s.jsx(o,{children:s.jsxs(c,{children:[s.jsx(e,{variant:"h6",gutterBottom:!0,children:"⚡ Cache Performance"}),s.jsx(x,{severity:"info",children:"The hooks automatically cache data for 5 minutes to reduce Firebase calls. Try refreshing this page - subsequent loads should be much faster!"}),s.jsxs(e,{variant:"body2",sx:{mt:2},children:[s.jsx("strong",{children:"Performance Tips:"}),s.jsx("br",{}),"• First load: Fetches from Firebase",s.jsx("br",{}),"• Cached loads: Instant response from memory",s.jsx("br",{}),"• Auto-refresh: Cache expires after 5 minutes",s.jsx("br",{}),"• Optimistic updates: UI updates immediately, syncs in background"]})]})})]})};export{w as TestStreamlinedHooks,w as default};
