import{j as r,B as a,T as s,t as o,v as c,b1 as h,d as x,r as l,w as f,x as m,z as j}from"./mui-B5kWMIFD.js";import{b as $,c as z,d as k,e as U}from"./useStreamlinedData-B9djJ-Pe.js";import"./vendor-CjD1bmmO.js";import"./UnifiedDataService-BopT9rfj.js";import"./index-BcE3WDrY.js";import"./stripe-BxNlk90z.js";import"./index.esm-C6E5jVjx.js";import"./index.esm--uL3Qa3r.js";import"./FirestoreCollectionManager-DU6cv1tw.js";import"./firebase-kVc76ypP.js";import"./index.esm-K73FumZQ.js";const R=()=>{var b,T,y;const{data:n,loading:C,error:u}=$(),{data:e,loading:v,error:g}=z(),{data:d,loading:P,error:p}=k(),i=U();return r.jsxs(a,{sx:{p:3,maxWidth:1200,margin:"0 auto"},children:[r.jsx(s,{variant:"h4",gutterBottom:!0,children:"ðŸ§ª Streamlined Hooks Test Dashboard"}),r.jsx(o,{sx:{mb:3},children:r.jsxs(c,{children:[r.jsx(s,{variant:"h6",gutterBottom:!0,children:"ðŸ‘¤ Current User Hook Test"}),C&&r.jsx(h,{height:100}),u&&r.jsxs(x,{severity:"error",children:["Error: ",u]}),n&&r.jsxs(a,{children:[r.jsxs(s,{children:[r.jsx("strong",{children:"Name:"})," ",n.name]}),r.jsxs(s,{children:[r.jsx("strong",{children:"Email:"})," ",n.email]}),r.jsxs(s,{children:[r.jsx("strong",{children:"User Type:"})," ",n.userType]}),r.jsxs(s,{children:[r.jsx("strong",{children:"Role:"})," ",n.role]}),r.jsx(l,{label:`${n.organization.tier} - ${n.organization.name}`,color:"primary",sx:{mt:1}})]})]})}),r.jsx(o,{sx:{mb:3},children:r.jsxs(c,{children:[r.jsx(s,{variant:"h6",gutterBottom:!0,children:"ðŸ” User Permissions Hook Test"}),r.jsxs(a,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[r.jsx(l,{label:`Can Create Projects: ${i.canCreateProjects}`,color:i.canCreateProjects?"success":"default"}),r.jsx(l,{label:`Can Manage Team: ${i.canManageTeam}`,color:i.canManageTeam?"success":"default"}),r.jsx(l,{label:`Is Account Owner: ${i.isAccountOwner}`,color:i.isAccountOwner?"primary":"default"}),r.jsx(l,{label:`Organization Tier: ${i.organizationTier}`,color:"info"})]})]})}),r.jsx(o,{sx:{mb:3},children:r.jsxs(c,{children:[r.jsx(s,{variant:"h6",gutterBottom:!0,children:"ðŸ¢ Organization Context Hook Test"}),v&&r.jsx(h,{height:150}),g&&r.jsxs(x,{severity:"error",children:["Error: ",g]}),e&&r.jsxs(a,{children:[r.jsxs(s,{children:[r.jsx("strong",{children:"Organization:"})," ",e.organization.name]}),r.jsxs(s,{children:[r.jsx("strong",{children:"Tier:"})," ",e.organization.tier]}),r.jsxs(s,{children:[r.jsx("strong",{children:"Total Members:"})," ",e.members.length]}),r.jsxs(s,{children:[r.jsx("strong",{children:"Subscription Status:"})," ",((b=e.subscription)==null?void 0:b.status)||"None"]}),r.jsxs(s,{children:[r.jsx("strong",{children:"Seats:"})," ",((y=(T=e.subscription)==null?void 0:T.plan)==null?void 0:y.seats)||0]}),r.jsx(s,{variant:"subtitle2",sx:{mt:2,mb:1},children:"Team Members:"}),r.jsxs(f,{dense:!0,children:[e.members.slice(0,5).map(t=>r.jsx(m,{children:r.jsx(j,{primary:t.name,secondary:`${t.email} - ${t.userType}`})},t.id)),e.members.length>5&&r.jsx(m,{children:r.jsx(j,{secondary:`... and ${e.members.length-5} more`})})]})]})]})}),r.jsx(o,{sx:{mb:3},children:r.jsxs(c,{children:[r.jsx(s,{variant:"h6",gutterBottom:!0,children:"ðŸ“ User Projects Hook Test"}),P&&r.jsx(h,{height:100}),p&&r.jsxs(x,{severity:"error",children:["Error: ",p]}),d&&r.jsxs(a,{children:[r.jsxs(s,{children:[r.jsx("strong",{children:"Total Projects:"})," ",d.length]}),d.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(s,{variant:"subtitle2",sx:{mt:2,mb:1},children:"Recent Projects:"}),r.jsx(f,{dense:!0,children:d.slice(0,3).map(t=>r.jsx(m,{children:r.jsx(j,{primary:t.name,secondary:`${t.status} - ${t.teamAssignments.length} team members`})},t.id))})]})]})]})}),r.jsx(o,{children:r.jsxs(c,{children:[r.jsx(s,{variant:"h6",gutterBottom:!0,children:"âš¡ Cache Performance"}),r.jsx(x,{severity:"info",children:"The hooks automatically cache data for 5 minutes to reduce Firebase calls. Try refreshing this page - subsequent loads should be much faster!"}),r.jsxs(s,{variant:"body2",sx:{mt:2},children:[r.jsx("strong",{children:"Performance Tips:"}),r.jsx("br",{}),"â€¢ First load: Fetches from Firebase",r.jsx("br",{}),"â€¢ Cached loads: Instant response from memory",r.jsx("br",{}),"â€¢ Auto-refresh: Cache expires after 5 minutes",r.jsx("br",{}),"â€¢ Optimistic updates: UI updates immediately, syncs in background"]})]})})]})};export{R as TestStreamlinedHooks,R as default};
