const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.esm-Cicvjgiv.js","assets/index.esm-B6Q1BJpE.js"])))=>i.map(i=>d[i]);
import{_ as l}from"./index-DafuRfgg.js";import{r as p,i as g}from"./index.esm-B6Q1BJpE.js";import{getFirestore as c}from"./index.esm-D6OvRmrs.js";import{getAuth as r}from"./index.esm-Cicvjgiv.js";import"./mui-CbJLuC6G.js";import"./vendor-CjD1bmmO.js";import"./stripe-iaBWsbMy.js";var u="firebase",f="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */p(u,f,"app");const a={},m=()=>typeof window<"u"&&window.FIREBASE_CONFIG?window.FIREBASE_CONFIG:{apiKey:(a==null?void 0:a.VITE_FIREBASE_API_KEY)||"AIzaSyDFnIzSYCdPsDDdvP1lympVxEeUn0AQhWs",authDomain:"backbone-logic.firebaseapp.com",projectId:"backbone-logic",storageBucket:"backbone-logic.firebasestorage.app",messagingSenderId:"749245129278",appId:"1:749245129278:web:dfa5647101ea160a3b276f",measurementId:"G-8SZRDQ4XVR"},b=m();let o;try{o=g(b),console.log("üî• [Firebase] App initialized successfully")}catch(e){console.log("‚ÑπÔ∏è [Firebase] App already initialized or error:",e)}const v=o?c(o):c(),s=o?r(o):r();function d(){if(!(typeof window>"u"))try{if(window.WEBONLY_MODE===!0){console.log("üîß [Firebase] Fixing CSP issues for WebOnly mode...");const t=document.createElement("meta");t.httpEquiv="Content-Security-Policy";const i=["default-src 'self'","script-src 'self' 'unsafe-inline' 'unsafe-eval' 'wasm-unsafe-eval' 'strict-dynamic' https://accounts.google.com https://apis.google.com https://accounts.google.com/gsi/ https://maps.googleapis.com https://www.gstatic.com","script-src-elem 'self' 'unsafe-inline' 'unsafe-eval' 'wasm-unsafe-eval' https://accounts.google.com https://apis.google.com https://accounts.google.com/gsi/ https://maps.googleapis.com https://www.gstatic.com","script-src-attr 'self' 'unsafe-inline'","style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://accounts.google.com/gsi/style","img-src 'self' data: https: blob: http://localhost:* http://127.0.0.1:*","font-src 'self' https://fonts.gstatic.com","connect-src 'self' data: blob: http://localhost:* https://localhost:* ws://localhost:* wss://localhost:* https://accounts.google.com https://apis.google.com https://generativelanguage.googleapis.com https://maps.googleapis.com https://us-central1-backbone-logic.cloudfunctions.net https://backbone-logic.web.app","worker-src 'self' blob: data:","frame-src 'self' https://accounts.google.com https://*.firebaseapp.com https://*.googleapis.com https://backbone-logic.firebaseapp.com https://backbone-logic.web.app","base-uri 'self'","form-action 'self'"];t.content=i.join("; ");const n=document.querySelector('meta[http-equiv="Content-Security-Policy"]');n&&n.remove(),document.head.appendChild(t),console.log("‚úÖ [Firebase] CSP issues fixed for WebOnly mode")}}catch(e){console.warn("‚ö†Ô∏è [Firebase] Failed to fix CSP issues:",e)}}d();typeof window<"u"&&(window.FIREBASE_IGNORE_UNDEFINED_PROPERTIES=!0);console.log("üåê [Firebase] Licensing website mode: production (web-only) - no emulators");const O=()=>!0,h=e=>{var t;return((t=s.currentUser)==null?void 0:t.email)===e},P=async e=>{try{if(h(e))return!0;if(s.currentUser&&s.currentUser.email!==e){const{signOut:t}=await l(async()=>{const{signOut:i}=await import("./index.esm-Cicvjgiv.js");return{signOut:i}},__vite__mapDeps([0,1]));await t(s)}return!1}catch{return!1}};export{o as app,s as auth,v as db,s as firebaseAuth,v as firestore,d as fixCSPIssues,h as isEmailAuthenticated,O as isWebOnlyMode,P as tryRestoreFirebaseSession};
